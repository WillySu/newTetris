!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!w[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--v&&0===y&&R()}(e,n),t&&t(e,n)};var n,o=!0,r="d241c6b091f25cd307d5",i=1e4,a={},s=[],c=[];function d(e){var t=E[e];if(!t)return D;var o=function(o){return t.hot.active?(E[o]?-1===E[o].parents.indexOf(e)&&E[o].parents.push(e):(s=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),s=[]),D(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return D[e]},set:function(t){D[e]=t}}};for(var i in D)Object.prototype.hasOwnProperty.call(D,i)&&"e"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===u&&f("prepare"),y++,D.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===u&&(b[e]||C(e),0===y&&0===v&&R())}},o}var l=[],u="idle";function f(e){u=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var p,h,m,v=0,y=0,b={},g={},w={};function x(e){return+e+""===e?+e:e}function O(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return o=e,f("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=D.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;g={},b={},w=e.c,m=e.h,f("prepare");var t=new Promise(function(e,t){p={resolve:e,reject:t}});h={};return C(0),"prepare"===u&&0===y&&0===v&&R(),t});var t}function C(e){w[e]?(g[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=D.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):b[e]=!0}function R(){f("ready");var e=p;if(p=null,e)if(o)Promise.resolve().then(function(){return M(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(x(n));e.resolve(t)}}function M(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,o,i,c,d;function l(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,a=r.chain;if((c=E[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<c.parents.length;s++){var d=c.parents[s],l=E[d];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([d]),moduleId:i,parentId:d};-1===t.indexOf(d)&&(l.hot._acceptedDependencies[i]?(n[d]||(n[d]=[]),p(n[d],[i])):(delete n[d],t.push(d),o.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var v={},y=[],b={},g=function(){console.warn("[HMR] unexpected require("+C.moduleId+") to disposed module")};for(var O in h)if(Object.prototype.hasOwnProperty.call(h,O)){var C;d=x(O);var R=!1,M=!1,j=!1,L="";switch((C=h[O]?l(d):{type:"disposed",moduleId:O}).chain&&(L="\nUpdate propagation: "+C.chain.join(" -> ")),C.type){case"self-declined":t.onDeclined&&t.onDeclined(C),t.ignoreDeclined||(R=new Error("Aborted because of self decline: "+C.moduleId+L));break;case"declined":t.onDeclined&&t.onDeclined(C),t.ignoreDeclined||(R=new Error("Aborted because of declined dependency: "+C.moduleId+" in "+C.parentId+L));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(C),t.ignoreUnaccepted||(R=new Error("Aborted because "+d+" is not accepted"+L));break;case"accepted":t.onAccepted&&t.onAccepted(C),M=!0;break;case"disposed":t.onDisposed&&t.onDisposed(C),j=!0;break;default:throw new Error("Unexception type "+C.type)}if(R)return f("abort"),Promise.reject(R);if(M)for(d in b[d]=h[d],p(y,C.outdatedModules),C.outdatedDependencies)Object.prototype.hasOwnProperty.call(C.outdatedDependencies,d)&&(v[d]||(v[d]=[]),p(v[d],C.outdatedDependencies[d]));j&&(p(y,[C.moduleId]),b[d]=g)}var T,I=[];for(o=0;o<y.length;o++)d=y[o],E[d]&&E[d].hot._selfAccepted&&I.push({module:d,errorHandler:E[d].hot._selfAccepted});f("dispose"),Object.keys(w).forEach(function(e){!1===w[e]&&function(e){delete installedChunks[e]}(e)});for(var A,U,_=y.slice();_.length>0;)if(d=_.pop(),c=E[d]){var k={},S=c.hot._disposeHandlers;for(i=0;i<S.length;i++)(n=S[i])(k);for(a[d]=k,c.hot.active=!1,delete E[d],delete v[d],i=0;i<c.children.length;i++){var N=E[c.children[i]];N&&((T=N.parents.indexOf(d))>=0&&N.parents.splice(T,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(c=E[d]))for(U=v[d],i=0;i<U.length;i++)A=U[i],(T=c.children.indexOf(A))>=0&&c.children.splice(T,1);for(d in f("apply"),r=m,b)Object.prototype.hasOwnProperty.call(b,d)&&(e[d]=b[d]);var H=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(c=E[d])){U=v[d];var P=[];for(o=0;o<U.length;o++)if(A=U[o],n=c.hot._acceptedDependencies[A]){if(-1!==P.indexOf(n))continue;P.push(n)}for(o=0;o<P.length;o++){n=P[o];try{n(U)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:U[o],error:e}),t.ignoreErrored||H||(H=e)}}}for(o=0;o<I.length;o++){var B=I[o];d=B.module,s=[d];try{D(d)}catch(e){if("function"==typeof B.errorHandler)try{B.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:n,originalError:e}),t.ignoreErrored||H||(H=n),H||(H=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||H||(H=e)}}return H?(f("fail"),Promise.reject(H)):(f("idle"),new Promise(function(e){e(y)}))}var E={};function D(t){if(E[t])return E[t].exports;var o=E[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:O,apply:M,status:function(e){if(!e)return u;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:a[e]};return n=void 0,t}(t),parents:(c=s,s=[],c),children:[]};return e[t].call(o.exports,o,o.exports,d(t)),o.l=!0,o.exports}D.m=e,D.c=E,D.d=function(e,t,n){D.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},D.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},D.t=function(e,t){if(1&t&&(e=D(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(D.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)D.d(n,o,function(t){return e[t]}.bind(null,o));return n},D.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return D.d(t,"a",t),t},D.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},D.p="/",D.h=function(){return r},d(4)(D.s=4)}([function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"table.grid-2d {\n  border-collapse: collapse;\n  border: 2px solid #444;\n  margin-bottom: 0; }\n  table.grid-2d td {\n    padding: 0;\n    border: 1px solid #aaa;\n    height: 24px;\n    width: 24px; }\n\nform.controlForm {\n  margin-top: 12px; }\n  form.controlForm button {\n    margin-right: 6px; }\n  form.controlForm :last-child {\n    margin-right: 0; }\n",""])},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".main-holder {\n  display: flex; }\n",""])},function(e,t,n){var o,r,i={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,d=0,l=[],u=n(6);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(b(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(b(o.parts[a],t));i[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),h(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=d++;n=c||(c=v(t)),o=x.bind(null,n,a,!1),r=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),h(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var a=n[r];(s=i[a.id]).refs--,o.push(s)}e&&f(p(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete i[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function x(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(a=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";n.r(t);class o{constructor({name:e,color:t}={}){this.name=e,this.color=t||"red",this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]],this.rotationIndex=0}get rotation(){return this.rotations[this.rotationIndex]}rotateLeft(){this.rotationIndex--,this.rotationIndex<0&&(this.rotationIndex=3)}rotateRight(){this.rotationIndex++,this.rotationIndex>3&&(this.rotationIndex=0)}}class r extends o{constructor({name:e,color:t}={}){super({name:"I",color:"red"}),this.rotations=[[[3],[1],[1],[1]],[[1,3,1,1]],[[3],[1],[1],[1]],[[1,1,3,1]]]}}class i extends o{constructor({name:e,color:t}={}){super({name:"J",color:"magenta"}),this.rotations=[[[1,3,1],[0,0,1]],[[0,3],[0,1],[1,1]],[[1,2,0],[1,1,1]],[[3,1],[1,0],[1,0]]]}}class a extends o{constructor({name:e,color:t}={}){super({name:"L",color:"yellow"}),this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]]}}class s extends o{constructor({name:e,color:t}={}){super({name:"O",color:"cyan"}),this.rotations=[[[3,1],[1,1]],[[1,3],[1,1]],[[3,1],[1,1]],[[1,3],[1,1]]]}}class c extends o{constructor({name:e,color:t}={}){super({name:"S",color:"blue"}),this.rotations=[[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]],[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]]]}}class d extends o{constructor({name:e,color:t}={}){super({name:"T",color:"silver"}),this.rotations=[[[1,3,1],[0,1,0]],[[0,3],[1,1],[0,1]],[[0,3,0],[1,1,1]],[[3,0],[1,1],[1,0]]]}}class l extends o{constructor({name:e,color:t}={}){super({name:"Z",color:"green"}),this.rotations=[[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]],[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]]]}}const u="left",f="right",p="bottom";class h{constructor({numOfCol:e=10,numOfRow:t=20,defaultTetroX:n,defaultTetroY:o,uiComponent:r}={}){this.numOfCol=e,this.numOfRow=t,this.defaultTetroX=n||0,this.defaultTetroY=o||0,this.tetro=void 0,this.tetroX,this.tetroY,this.uiComponent=r;const i=[];for(let n=0;n<t;n++)i.push(new Array(e).fill(""));this.matrix=i,this.uiComponent&&"function"==typeof this.uiComponent.setMatrix&&this.uiComponent.setMatrix(this.matrix)}getTetroPositions(){const{tetro:e,tetroX:t,tetroY:n}=this;if(e){return this.tetro.rotation.reduce((o,r,i)=>{for(let a=0;a<r.length;a++){const s=r[a];1!==s&&3!==s||o.push({x:t+a,y:n+i,color:e.color})}return o},[])}}updateMatrix({reset:e=!1}={}){const{numOfCol:t,numOfRow:n}=this,o=this.getTetroPositions();if(o){if(o.some(e=>{const{x:o,y:r}=e;return o<0||o>t-1||r<0||r>n-1}))return!1;if(e){if(o.every(e=>""!==this.matrix[e.y][e.x]))return o.forEach(e=>this.matrix[e.y][e.x]=""),!0}else{if(o.every(e=>""===this.matrix[e.y][e.x]))return o.forEach(e=>this.matrix[e.y][e.x]=e.color),!0}}return!1}addTetro({tetro:e,x:t,y:n}){this.tetroX=t||this.defaultTetroX,this.tetroY=n||this.defaultTetroY,this.tetro=e,this.updateMatrix(),this.updateUiComponent()}moveTetro({direction:e}={}){if(this.updateMatrix({reset:!0})){if(e===u?this.tetroX--:e===f?this.tetroX++:e===p&&this.tetroY++,this.updateMatrix())return this.updateUiComponent(),!0;e===u?this.tetroX++:e===f?this.tetroX--:e===p&&this.tetroY--,this.updateMatrix()}return!1}moveLeft(){return this.moveTetro({direction:u})}moveRight(){return this.moveTetro({direction:f})}moveDown(){return this.moveTetro({direction:p})}drop(){for(;this.moveDown(););}rotateTetro({direction:e}={}){if(this.updateMatrix({reset:!0})){if(e===u?this.tetro.rotateLeft():e===f&&this.tetro.rotateRight(),this.updateMatrix())return this.updateUiComponent(),!0;e===u?this.tetro.rotateRight():e===f&&this.tetro.rotateLeft(),this.updateMatrix()}return!1}rotateLeft(){return this.rotateTetro({direction:u})}rotateRight(){return this.rotateTetro({direction:f})}updateUiComponent(){this.uiComponent&&"function"==typeof this.uiComponent.update&&this.uiComponent.update()}}class m{constructor({numOfCol:e=10,numOfRow:t=20,parentNode:n,grid:o,matrix:r}={}){this.numOfCol=e,this.numOfRow=t,this.parentNode=n,this.table=document.createElement("table"),this.table.className="grid-2d",this.matrix=r,this.init(),this.appendToRoot()}appendToRoot(){const{parentNode:e,table:t}=this;e&&"function"==typeof e.appendChild&&t.parentNode!==e&&e.appendChild(t)}init(){const{numOfCol:e,numOfRow:t,table:n}=this,o=document.createElement("tbody");for(let n=0;n<t;n++){const t=document.createElement("tr");for(let n=0;n<e;n++){const e=document.createElement("td");t.appendChild(e)}o.appendChild(t)}n.appendChild(o)}setMatrix(e){this.matrix=e}update(){const e=this.matrix;for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){const o=e[t][n]||"transparent";this.table.rows[t].cells[n].style.backgroundColor=o}}}class v{constructor({onMoveLeft:e,onMoveRight:t,onMoveDown:n,onRotateLeft:o,onRotateRight:r,onAdd:i,onDrop:a,parentNode:s}={}){this.onAdd=i,this.onDrop=a,this.onMoveLeft=e,this.onMoveRight=t,this.onMoveDown=n,this.onRotateLeft=o,this.onRotateRight=r,this.parentNode=s,this.render()}createButton({label:e,name:t,onClick:n}){const o=document.createElement("button");return o.setAttribute("name",t),o.setAttribute("type","button"),o.innerText=e,"function"==typeof n&&o.addEventListener("click",n),o}render(){const e=document.createElement("form");e.name="controlForm",e.className="controlForm";const t=this.createButton({label:"Rotate Left",name:"rotateLeft",onClick:this.onRotateLeft}),n=this.createButton({label:"Rotate Right",name:"rotateRight",onClick:this.onRotateRight}),o=this.createButton({label:"Move Left",name:"moveLeft",onClick:this.onMoveLeft}),r=this.createButton({label:"Move Right",name:"moveRight",onClick:this.onMoveRight}),i=this.createButton({label:"Move Down",name:"moveDown",onClick:this.onMoveDown}),a=this.createButton({label:"Add New Tetro",name:"addNew",onClick:this.onAdd}),s=this.createButton({label:"Drop Tetro",name:"dropTetro",onClick:this.onDrop}),c=document.createElement("div");c.appendChild(a),c.appendChild(s);const d=document.createElement("div");d.appendChild(t),d.appendChild(n);const l=document.createElement("div");l.appendChild(o),l.appendChild(i),l.appendChild(r),e.appendChild(c),e.appendChild(d),e.appendChild(l),this.parentNode.appendChild(e)}}n(7),n(5);window.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("root"),t=[new r,new i,new a,new s,new c,new d,new l],n=new m({numOfCol:10,numOfRow:20,parentNode:e}),o=new h({numOfCol:10,numOfRow:20,uiComponent:n});function u(){const e=t.length,n=Math.floor(Math.random()*e);o.addTetro({tetro:t[n],x:3,y:0})}new v({onAdd:function(){u()},onDrop:function(){o.drop(),u()},onMoveLeft:function(){o.moveLeft()},onMoveRight:function(){o.moveRight()},onMoveDown:function(){o.moveDown()},onRotateLeft:function(){o.rotateLeft()},onRotateRight:function(){o.rotateRight()},parentNode:e}),u()})},function(e,t,n){var o=n(0);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(0,function(t){!function(){var t=n(0);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(1,function(t){!function(){var t=n(1);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9sYXlvdXQuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVGV0cm9taW5vLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvSS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0ouanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9MLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvTy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9ULmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvWi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvQ29udHJvbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3M/NTA0MyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvbGF5b3V0LnNjc3M/NTBiZCJdLCJuYW1lcyI6WyJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIndpbmRvdyIsImNodW5rSWQiLCJtb3JlTW9kdWxlcyIsImhvdEF2YWlsYWJsZUZpbGVzTWFwIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJtb2R1bGVJZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFN0YXR1c0hhbmRsZXJzIiwibmV3U3RhdHVzIiwiaSIsImxlbmd0aCIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsInRvTW9kdWxlSWQiLCJpZCIsImhvdENoZWNrIiwiYXBwbHkiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJob3RBcHBseSIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJjYiIsImoiLCJtb2R1bGUiLCJnZXRBZmZlY3RlZFN0dWZmIiwidXBkYXRlTW9kdWxlSWQiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJtYXAiLCJjaGFpbiIsInF1ZXVlSXRlbSIsInBvcCIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwidHlwZSIsIl9tYWluIiwicGFyZW50SWQiLCJwYXJlbnQiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJjb25jYXQiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJpZHgiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImluc3RhbGxlZENodW5rcyIsImhvdERpc3Bvc2VDaHVuayIsImRlcGVuZGVuY3kiLCJtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyIsImRhdGEiLCJkaXNwb3NlSGFuZGxlcnMiLCJfZGlzcG9zZUhhbmRsZXJzIiwiY2hpbGQiLCJzcGxpY2UiLCJtb2R1bGVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJleHBvcnRzIiwibCIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiY2hlY2siLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsInVuZGVmaW5lZCIsImhvdENyZWF0ZU1vZHVsZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsInRoaXMiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsImFkZEF0dHJzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJyZW1vdmUiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiVGV0cm9taW5vIiwiW29iamVjdCBPYmplY3RdIiwiY29sb3IiLCJyb3RhdGlvbnMiLCJyb3RhdGlvbkluZGV4Iiwicm90YXRpb24iLCJJX0kiLCJzdXBlciIsIkpfSiIsIkxfTCIsIk9fTyIsIlNfUyIsIlRfVCIsIlpfWiIsIkxFRlQiLCJSSUdIVCIsIkJPVFRPTSIsIkdyaWQiLCJudW1PZkNvbCIsIm51bU9mUm93IiwiZGVmYXVsdFRldHJvWCIsImRlZmF1bHRUZXRyb1kiLCJ1aUNvbXBvbmVudCIsInRldHJvIiwidGV0cm9YIiwidGV0cm9ZIiwibWF0cml4IiwiQXJyYXkiLCJmaWxsIiwic2V0TWF0cml4IiwicmVkdWNlIiwicG9zIiwicm93IiwiY29sIiwiY29kZSIsIngiLCJ5IiwicmVzZXQiLCJibG9ja1Bvc2l0aW9ucyIsImdldFRldHJvUG9zaXRpb25zIiwic29tZSIsImV2ZXJ5IiwidXBkYXRlTWF0cml4IiwidXBkYXRlVWlDb21wb25lbnQiLCJkaXJlY3Rpb24iLCJtb3ZlVGV0cm8iLCJtb3ZlRG93biIsInJvdGF0ZUxlZnQiLCJyb3RhdGVSaWdodCIsInJvdGF0ZVRldHJvIiwiVGFibGUiLCJncmlkIiwidGFibGUiLCJjbGFzc05hbWUiLCJpbml0IiwiYXBwZW5kVG9Sb290IiwidEJvZHkiLCJ0ciIsInRkIiwiY2VsIiwiYmdDb2xvciIsInJvd3MiLCJjZWxscyIsImJhY2tncm91bmRDb2xvciIsIkNvbnRyb2wiLCJvbk1vdmVMZWZ0Iiwib25Nb3ZlUmlnaHQiLCJvbk1vdmVEb3duIiwib25Sb3RhdGVMZWZ0Iiwib25Sb3RhdGVSaWdodCIsIm9uQWRkIiwib25Ecm9wIiwicmVuZGVyIiwibGFiZWwiLCJvbkNsaWNrIiwiYnV0dG9uIiwiaW5uZXJUZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhvbGRlciIsInJvdGF0ZUxlZnRCdG4iLCJjcmVhdGVCdXR0b24iLCJyb3RhdGVSaWdodEJ0biIsIm1vdmVMZWZ0QnRuIiwibW92ZVJpZ2h0QnRuIiwibW92ZURvd25CdG4iLCJhZGRCdG4iLCJkcm9wQnRuIiwicm93MSIsInJvdzIiLCJyb3czIiwicm9vdCIsImdldEVsZW1lbnRCeUlkIiwidGV0cm9zIiwiYWRkVGV0cm8iLCJsZW4iLCJyYW5kIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZHJvcCIsIm1vdmVMZWZ0IiwibW92ZVJpZ2h0IiwiaG1yIiwibG9jYWxzIiwiX19XRUJQQUNLX09VVERBVEVEX0RFUEVOREVOQ0lFU19fIiwibmV3Q29udGVudCIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCJdLCJtYXBwaW5ncyI6ImFBR0EsSUFBQUEsRUFBQUMsT0FBQSxpQkFDQUEsT0FBQSxpQkFDQSxTQUFBQyxFQUFBQyxJQXlRQSxTQUFBRCxFQUFBQyxHQUNBLElBQUFDLEVBQUFGLEtBQUFHLEVBQUFILEdBQ0EsT0FFQSxRQUFBSSxLQURBRCxFQUFBSCxJQUFBLEVBQ0FDLEVBQ0FJLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFQLEVBQUFHLEtBQ0FLLEVBQUFMLEdBQUFILEVBQUFHLElBR0EsS0FBQU0sR0FBQSxJQUFBQyxHQUNBQyxJQWxSQUMsQ0FBQWIsRUFBQUMsR0FDQUgsS0FBQUUsRUFBQUMsSUF3REEsSUFJQWEsRUFKQUMsR0FBQSxFQUNBQyxFQUFBLHVCQUNBQyxFQUFBLElBQ0FDLEtBRUFDLEtBQ0FDLEtBR0EsU0FBQUMsRUFBQWpCLEdBQ0EsSUFBQWtCLEVBQUFDLEVBQUFuQixHQUNBLElBQUFrQixFQUFBLE9BQUFFLEVBQ0EsSUFBQUMsRUFBQSxTQUFBQyxHQXNCQSxPQXJCQUosRUFBQUssSUFBQUMsUUFDQUwsRUFBQUcsSUFDQSxJQUFBSCxFQUFBRyxHQUFBRyxRQUFBQyxRQUFBMUIsSUFDQW1CLEVBQUFHLEdBQUFHLFFBQUFFLEtBQUEzQixJQUdBZSxHQUFBZixHQUNBVSxFQUFBWSxJQUVBLElBQUFKLEVBQUFVLFNBQUFGLFFBQUFKLElBQ0FKLEVBQUFVLFNBQUFELEtBQUFMLEtBR0FPLFFBQUFDLEtBQ0EsNEJBQ0FSLEVBQ0EsMEJBQ0F0QixHQUVBZSxNQUVBSyxFQUFBRSxJQUVBUyxFQUFBLFNBQUFDLEdBQ0EsT0FDQUMsY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUEsV0FDQSxPQUFBZixFQUFBWSxJQUVBSSxJQUFBLFNBQUFDLEdB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MFAsUUFBQWhMLEVBQUE3QyxFQUFBNk4sRUFBQSxNQU9BLElBQUFuTCxHQUFlbVMsS0FBQSxFQUVmcEosZUFQQUEsRUFRQWpCLGdCQUFBckQsR0FFQTdGLEVBQUFuRCxFQUFBLEVBQUFBLENBQUEwUCxFQUFBbkwsR0FFQW1MLEVBQUFpSCxTQUFBalMsRUFBQTBELFFBQUFzSCxFQUFBaUgsUUFHQWpTLEVBQUF2RSxJQUFBbUksT0FBQSxXQUFBc08sSUFBQSxXQUNBLElBQUFDLEVBQUE3VyxFQUFBLEdBaUJBLEdBZkEsaUJBQUE2VyxRQUFBblMsRUFBQTdDLEVBQUFnVixFQUFBLE9BRUEsU0FBQS9RLEVBQUFDLEdBQ0EsSUFBQStELEVBQUFoRCxFQUFBLEVBRUEsSUFBQWdELEtBQUFoRSxFQUFBLENBQ0EsSUFBQUMsR0FBQUQsRUFBQWdFLEtBQUEvRCxFQUFBK0QsR0FBQSxTQUNBaEQsSUFHQSxJQUFBZ0QsS0FBQS9ELEVBQUFlLElBRUEsV0FBQUEsRUFWQSxDQVdHNEksRUFBQWlILE9BQUFFLEVBQUFGLFFBRUgsVUFBQXRVLE1BQUEsdURBRUFjLEVBQUEwVCxHQXBCQSxLQXVCQW5TLEVBQUF2RSxJQUFBdUksUUFBQSxXQUFnQ3ZGIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcbiBcdFx0O1xuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImQyNDFjNmIwOTFmMjVjZDMwN2Q1XCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiBcdFx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbiBcdFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XG4gXHRcdFx0e1xuIFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdC8qKiBAdHlwZSB7RXJyb3J8ZmFsc2V9ICovXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0KVxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSg0KShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwidGFibGUuZ3JpZC0yZCB7XFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgYm9yZGVyOiAycHggc29saWQgIzQ0NDtcXG4gIG1hcmdpbi1ib3R0b206IDA7IH1cXG4gIHRhYmxlLmdyaWQtMmQgdGQge1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xcbiAgICBoZWlnaHQ6IDI0cHg7XFxuICAgIHdpZHRoOiAyNHB4OyB9XFxuXFxuZm9ybS5jb250cm9sRm9ybSB7XFxuICBtYXJnaW4tdG9wOiAxMnB4OyB9XFxuICBmb3JtLmNvbnRyb2xGb3JtIGJ1dHRvbiB7XFxuICAgIG1hcmdpbi1yaWdodDogNnB4OyB9XFxuICBmb3JtLmNvbnRyb2xGb3JtIDpsYXN0LWNoaWxkIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubWFpbi1ob2xkZXIge1xcbiAgZGlzcGxheTogZmxleDsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvciB8fCBcInJlZFwiO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDIsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdOyAvLyBEZWZhdWx0IExcbiAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGlvbnNbdGhpcy5yb3RhdGlvbkluZGV4XTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0ICgpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4LS07XG5cbiAgICAgICAgaWYgKHRoaXMucm90YXRpb25JbmRleCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25JbmRleCA9IDM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb3RhdGVSaWdodCAoKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25JbmRleCsrO1xuXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW9uSW5kZXggPiAzKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFRldHJvbWlubyBmcm9tICcuL1RldHJvbWlubydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSSBleHRlbmRzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJJXCIsIGNvbG9yOiBcInJlZFwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszXSxcbiAgICAgICAgICAgICAgICBbMV0sXG4gICAgICAgICAgICAgICAgWzFdLFxuICAgICAgICAgICAgICAgIFsxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzNdLFxuICAgICAgICAgICAgICAgIFsxXSxcbiAgICAgICAgICAgICAgICBbMV0sXG4gICAgICAgICAgICAgICAgWzFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAxLCAzLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEogZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiSlwiLCBjb2xvcjogXCJtYWdlbnRhXCIgfSk7XG5cbiAgICAgICAgLy8gMyA9PiBbeCwgeV0gYW5kIFNvbGlkXG4gICAgICAgIC8vIDIgPT4gW3gsIHldIGFuZCBFbXB0eVxuICAgICAgICAvLyAxID0+IFNvbGlkXG4gICAgICAgIC8vIDAgPT4gRW1wdHlcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDMsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgM10sXG4gICAgICAgICAgICAgICAgWzAsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMiwgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdXG4gICAgICAgICAgICBdXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IFRldHJvbWlubyBmcm9tICcuL1RldHJvbWlubydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTCBleHRlbmRzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJMXCIsIGNvbG9yOiBcInllbGxvd1wiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDIsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE8gZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiT1wiLCBjb2xvcjogXCJjeWFuXCIgfSk7XG5cbiAgICAgICAgLy8gMyA9PiBbeCwgeV0gYW5kIFNvbGlkXG4gICAgICAgIC8vIDIgPT4gW3gsIHldIGFuZCBFbXB0eVxuICAgICAgICAvLyAxID0+IFNvbGlkXG4gICAgICAgIC8vIDAgPT4gRW1wdHlcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgM10sXG4gICAgICAgICAgICAgICAgWzEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFMgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiU1wiLCBjb2xvcjogXCJibHVlXCIgfSk7XG5cbiAgICAgICAgLy8gMyA9PiBbeCwgeV0gYW5kIFNvbGlkXG4gICAgICAgIC8vIDIgPT4gW3gsIHldIGFuZCBFbXB0eVxuICAgICAgICAvLyAxID0+IFNvbGlkXG4gICAgICAgIC8vIDAgPT4gRW1wdHlcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDMsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAwXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IFRldHJvbWlubyBmcm9tICcuL1RldHJvbWlubydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVCBleHRlbmRzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJUXCIsIGNvbG9yOiBcInNpbHZlclwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAwXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFogZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiWlwiLCBjb2xvcjogXCJncmVlblwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDMsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgM10sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAwXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBMRUZUID0gXCJsZWZ0XCI7XG5leHBvcnQgY29uc3QgUklHSFQgPSBcInJpZ2h0XCI7XG5leHBvcnQgY29uc3QgQk9UVE9NID0gXCJib3R0b21cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZCB7XG4gICAgY29uc3RydWN0b3IgKHsgbnVtT2ZDb2wgPSAxMCwgbnVtT2ZSb3cgPSAyMCwgZGVmYXVsdFRldHJvWCwgZGVmYXVsdFRldHJvWSwgdWlDb21wb25lbnQgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMubnVtT2ZDb2wgPSBudW1PZkNvbDtcbiAgICAgICAgdGhpcy5udW1PZlJvdyA9IG51bU9mUm93O1xuICAgICAgICB0aGlzLmRlZmF1bHRUZXRyb1ggPSBkZWZhdWx0VGV0cm9YIHx8IDA7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRldHJvWSA9IGRlZmF1bHRUZXRyb1kgfHwgMDtcbiAgICAgICAgdGhpcy50ZXRybyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50ZXRyb1g7XG4gICAgICAgIHRoaXMudGV0cm9ZO1xuICAgICAgICB0aGlzLnVpQ29tcG9uZW50ID0gdWlDb21wb25lbnQ7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBudW1PZlJvdzsgcisrKSB7XG4gICAgICAgICAgICBtYXRyaXgucHVzaChuZXcgQXJyYXkobnVtT2ZDb2wpLmZpbGwoXCJcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKHRoaXMudWlDb21wb25lbnQgJiYgdHlwZW9mIHRoaXMudWlDb21wb25lbnQuc2V0TWF0cml4ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnQuc2V0TWF0cml4KHRoaXMubWF0cml4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRldHJvUG9zaXRpb25zICgpIHtcbiAgICAgICAgY29uc3QgeyB0ZXRybywgdGV0cm9YLCB0ZXRyb1kgfSA9IHRoaXM7XG4gICAgICAgIGlmICh0ZXRybykge1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLnRldHJvLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24ucmVkdWNlKChsaXN0LCBwb3MsIHJvdykgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHBvcy5sZW5ndGg7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwb3NbY29sXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDEgfHwgY29kZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0ZXRyb1ggKyBjb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGV0cm9ZICsgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXRyby5jb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdXBkYXRlTWF0cml4ICh7IHJlc2V0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgbnVtT2ZDb2wsIG51bU9mUm93IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBibG9ja1Bvc2l0aW9ucyA9IHRoaXMuZ2V0VGV0cm9Qb3NpdGlvbnMoKTtcblxuICAgICAgICBpZiAoYmxvY2tQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dE9mQm91bmRhcnkgPSBibG9ja1Bvc2l0aW9ucy5zb21lKChiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBiO1xuICAgICAgICAgICAgICAgIHJldHVybiB4IDwgMCB8fCB4ID4gbnVtT2ZDb2wgLSAxIHx8IHkgPCAwIHx8IHkgPiBudW1PZlJvdyAtMTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAob3V0T2ZCb3VuZGFyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuUmVzZXQgPSBibG9ja1Bvc2l0aW9ucy5ldmVyeShiID0+IHRoaXMubWF0cml4W2IueV1bYi54XSAhPT0gXCJcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuUmVzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tQb3NpdGlvbnMuZm9yRWFjaChiID0+IHRoaXMubWF0cml4W2IueV1bYi54XSA9IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbkRyb3AgPSBibG9ja1Bvc2l0aW9ucy5ldmVyeShiID0+IHRoaXMubWF0cml4W2IueV1bYi54XSA9PT0gXCJcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuRHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBibG9ja1Bvc2l0aW9ucy5mb3JFYWNoKGIgPT4gdGhpcy5tYXRyaXhbYi55XVtiLnhdID0gYi5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRUZXRybyAoeyB0ZXRybywgeCwgeSB9KSB7XG4gICAgICAgIHRoaXMudGV0cm9YID0geCB8fCB0aGlzLmRlZmF1bHRUZXRyb1g7XG4gICAgICAgIHRoaXMudGV0cm9ZID0geSB8fCB0aGlzLmRlZmF1bHRUZXRyb1k7XG4gICAgICAgIHRoaXMudGV0cm8gPSB0ZXRybztcblxuICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgfVxuXG4gICAgLy8gZGlyZWN0aW9uID0gW2xlZnQsIHJpZ2h0LCBkb3duXVxuICAgIG1vdmVUZXRybyAoeyBkaXJlY3Rpb24gfSA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCh7IHJlc2V0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1gtLTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV0cm9YKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1krKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZU1hdHJpeCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWC0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBCT1RUT00pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyb1ktLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZUxlZnQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlVGV0cm8oeyBkaXJlY3Rpb246IExFRlQgfSk7XG4gICAgfVxuXG4gICAgbW92ZVJpZ2h0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRldHJvKHsgZGlyZWN0aW9uOiBSSUdIVCB9KTtcbiAgICB9XG5cbiAgICBtb3ZlRG93biAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVUZXRybyh7IGRpcmVjdGlvbjogQk9UVE9NIH0pO1xuICAgIH1cblxuICAgIGRyb3AgKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5tb3ZlRG93bigpKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGxvb3BpbmcgdW50aWwgdW5hYmxlIHRvIGdvIGRvd25cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpcmVjdGlvbiA9IFtsZWZ0LCByaWdodF1cbiAgICByb3RhdGVUZXRybyAoeyBkaXJlY3Rpb24gfSA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCh7IHJlc2V0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyby5yb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZVJpZ2h0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy51cGRhdGVNYXRyaXgoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyby5yb3RhdGVSaWdodCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcm90YXRlTGVmdCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVRldHJvKHsgZGlyZWN0aW9uOiBMRUZUIH0pO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlVGV0cm8oeyBkaXJlY3Rpb246IFJJR0hUIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVVpQ29tcG9uZW50ICgpIHtcbiAgICAgICAgaWYgKHRoaXMudWlDb21wb25lbnQgJiYgdHlwZW9mIHRoaXMudWlDb21wb25lbnQudXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSB7XG4gICAgY29uc3RydWN0b3IgKHsgbnVtT2ZDb2wgPSAxMCwgbnVtT2ZSb3cgPSAyMCwgcGFyZW50Tm9kZSwgZ3JpZCwgbWF0cml4IH0gPSB7fSkge1xuICAgICAgICB0aGlzLm51bU9mQ29sID0gbnVtT2ZDb2w7XG4gICAgICAgIHRoaXMubnVtT2ZSb3cgPSBudW1PZlJvdztcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTsgLy8gUGFyZW50IERPTSBFbGVtZW50XG4gICAgICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgIHRoaXMudGFibGUuY2xhc3NOYW1lID0gXCJncmlkLTJkXCI7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmFwcGVuZFRvUm9vdCgpO1xuICAgIH1cblxuICAgIGFwcGVuZFRvUm9vdCAoKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50Tm9kZSwgdGFibGUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgdHlwZW9mIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHRhYmxlLnBhcmVudE5vZGUgIT09IHBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXQgKCkge1xuICAgICAgICBjb25zdCB7IG51bU9mQ29sLCBudW1PZlJvdywgdGFibGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuXG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgbnVtT2ZSb3c7IHIrKykge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgbnVtT2ZDb2w7IGMrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdEJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodEJvZHkpO1xuICAgIH1cblxuICAgIHNldE1hdHJpeCAobWF0cml4KSB7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgIH1cblxuICAgIHVwZGF0ZSAoKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBtYXRyaXgubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgZm9yIChsZXQgY2VsID0gMDsgY2VsIDwgbWF0cml4W3Jvd10ubGVuZ3RoOyBjZWwrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJnQ29sb3IgPSBtYXRyaXhbcm93XVtjZWxdIHx8IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJvd3Nbcm93XS5jZWxsc1tjZWxdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBvbk1vdmVMZWZ0LCBvbk1vdmVSaWdodCwgb25Nb3ZlRG93biwgb25Sb3RhdGVMZWZ0LCBvblJvdGF0ZVJpZ2h0LCBvbkFkZCwgb25Ecm9wLCBwYXJlbnROb2RlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLm9uQWRkID0gb25BZGQ7XG4gICAgICAgIHRoaXMub25Ecm9wID0gb25Ecm9wO1xuICAgICAgICB0aGlzLm9uTW92ZUxlZnQgPSBvbk1vdmVMZWZ0O1xuICAgICAgICB0aGlzLm9uTW92ZVJpZ2h0ID0gb25Nb3ZlUmlnaHQ7XG4gICAgICAgIHRoaXMub25Nb3ZlRG93biA9IG9uTW92ZURvd247XG4gICAgICAgIHRoaXMub25Sb3RhdGVMZWZ0ID0gb25Sb3RhdGVMZWZ0O1xuICAgICAgICB0aGlzLm9uUm90YXRlUmlnaHQgPSBvblJvdGF0ZVJpZ2h0O1xuICAgICAgICB0aGlzLnBhcmVudE5vZGUgPSBwYXJlbnROb2RlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlQnV0dG9uICh7IGxhYmVsLCBuYW1lLCBvbkNsaWNrIH0pIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwibmFtZVwiLCBuYW1lKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSBsYWJlbDtcbiAgICAgICAgaWYgKHR5cGVvZiBvbkNsaWNrID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25DbGljayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cblxuICAgIHJlbmRlciAoKSB7XG4gICAgICAgIGNvbnN0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO1xuICAgICAgICBob2xkZXIubmFtZSA9IFwiY29udHJvbEZvcm1cIjtcbiAgICAgICAgaG9sZGVyLmNsYXNzTmFtZSA9IFwiY29udHJvbEZvcm1cIjtcblxuICAgICAgICBjb25zdCByb3RhdGVMZWZ0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlJvdGF0ZSBMZWZ0XCIsXG4gICAgICAgICAgICBuYW1lOiBcInJvdGF0ZUxlZnRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3RhdGVMZWZ0XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByb3RhdGVSaWdodEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJSb3RhdGUgUmlnaHRcIixcbiAgICAgICAgICAgIG5hbWU6IFwicm90YXRlUmlnaHRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3RhdGVSaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZUxlZnRCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiTW92ZSBMZWZ0XCIsXG4gICAgICAgICAgICBuYW1lOiBcIm1vdmVMZWZ0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uTW92ZUxlZnRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vdmVSaWdodEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJNb3ZlIFJpZ2h0XCIsXG4gICAgICAgICAgICBuYW1lOiBcIm1vdmVSaWdodFwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbk1vdmVSaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZURvd25CdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiTW92ZSBEb3duXCIsXG4gICAgICAgICAgICBuYW1lOiBcIm1vdmVEb3duXCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uTW92ZURvd25cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFkZEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJBZGQgTmV3IFRldHJvXCIsXG4gICAgICAgICAgICBuYW1lOiBcImFkZE5ld1wiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkFkZFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZHJvcEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJEcm9wIFRldHJvXCIsXG4gICAgICAgICAgICBuYW1lOiBcImRyb3BUZXRyb1wiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkRyb3BcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgcm93MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJvdzEuYXBwZW5kQ2hpbGQoYWRkQnRuKTtcbiAgICAgICAgcm93MS5hcHBlbmRDaGlsZChkcm9wQnRuKTtcblxuICAgICAgICBjb25zdCByb3cyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChyb3RhdGVMZWZ0QnRuKTtcbiAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChyb3RhdGVSaWdodEJ0bik7XG5cbiAgICAgICAgY29uc3Qgcm93MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQobW92ZUxlZnRCdG4pO1xuICAgICAgICByb3czLmFwcGVuZENoaWxkKG1vdmVEb3duQnRuKTtcbiAgICAgICAgcm93My5hcHBlbmRDaGlsZChtb3ZlUmlnaHRCdG4pO1xuXG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChyb3cxKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHJvdzIpO1xuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQocm93Myk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxufSIsImltcG9ydCBJIGZyb20gXCIuL1RldHJpcy9JXCI7XG5pbXBvcnQgSiBmcm9tIFwiLi9UZXRyaXMvSlwiO1xuaW1wb3J0IEwgZnJvbSBcIi4vVGV0cmlzL0xcIjtcbmltcG9ydCBPIGZyb20gXCIuL1RldHJpcy9PXCI7XG5pbXBvcnQgUyBmcm9tIFwiLi9UZXRyaXMvU1wiO1xuaW1wb3J0IFQgZnJvbSBcIi4vVGV0cmlzL1RcIjtcbmltcG9ydCBaIGZyb20gXCIuL1RldHJpcy9aXCI7XG5pbXBvcnQgR3JpZCwgeyBMRUZULCBSSUdIVCwgRE9XTiB9IGZyb20gXCIuL1RldHJpcy9HcmlkXCI7XG5pbXBvcnQgVGFibGUgZnJvbSBcIi4vVWkyZC9UYWJsZVwiO1xuaW1wb3J0IENvbnRyb2wgZnJvbSBcIi4vVWkyZC9Db250cm9sXCI7XG5pbXBvcnQgJy4vc3R5bGVzL2xheW91dC5zY3NzJ1xuaW1wb3J0ICcuL3N0eWxlcy91aTJkLnNjc3MnXG5cbmZ1bmN0aW9uIGluaXQgKCkge1xuICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIik7XG4gICAgY29uc3QgdGV0cm9zID0gW1xuICAgICAgICBuZXcgSSgpLFxuICAgICAgICBuZXcgSigpLFxuICAgICAgICBuZXcgTCgpLFxuICAgICAgICBuZXcgTygpLFxuICAgICAgICBuZXcgUygpLFxuICAgICAgICBuZXcgVCgpLFxuICAgICAgICBuZXcgWigpXG4gICAgXTtcbiAgICBjb25zdCB0YWJsZSA9IG5ldyBUYWJsZSh7IG51bU9mQ29sOiAxMCwgbnVtT2ZSb3c6IDIwLCBwYXJlbnROb2RlOiByb290IH0pO1xuICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZCh7IG51bU9mQ29sOiAxMCwgbnVtT2ZSb3c6IDIwLCB1aUNvbXBvbmVudDogdGFibGUgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGRUZXRybyAoKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRldHJvcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW4pO1xuXG4gICAgICAgIGdyaWQuYWRkVGV0cm8oeyB0ZXRybzogdGV0cm9zW3JhbmRdLCB4OiAzLCB5OiAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRyb2wgPSBuZXcgQ29udHJvbCh7XG4gICAgICAgIG9uQWRkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhZGRUZXRybygpO1xuICAgICAgICB9LFxuICAgICAgICBvbkRyb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdyaWQuZHJvcCgpO1xuICAgICAgICAgICAgYWRkVGV0cm8oKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlTGVmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ3JpZC5tb3ZlTGVmdCgpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdmVSaWdodDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ3JpZC5tb3ZlUmlnaHQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3ZlRG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ3JpZC5tb3ZlRG93bigpO1xuICAgICAgICB9LFxuICAgICAgICBvblJvdGF0ZUxlZnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdyaWQucm90YXRlTGVmdCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJvdGF0ZVJpZ2h0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBncmlkLnJvdGF0ZVJpZ2h0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhcmVudE5vZGU6IHJvb3RcbiAgICB9KTtcblxuICAgIGFkZFRldHJvKCk7XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS02LTIhLi91aTJkLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS02LTIhLi9sYXlvdXQuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==