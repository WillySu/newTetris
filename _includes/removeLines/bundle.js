!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0==--v&&0===b&&R()}(e,n),t&&t(e,n)};var n,o=!0,r="482af5483a3edde33569",i=1e4,s={},a=[],c=[];function d(e){var t=M[e];if(!t)return L;var o=function(o){return t.hot.active?(M[o]?-1===M[o].parents.indexOf(e)&&M[o].parents.push(e):(a=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),L(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return L[e]},set:function(t){L[e]=t}}};for(var i in L)Object.prototype.hasOwnProperty.call(L,i)&&"e"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===u&&p("prepare"),b++,L.e(e).then(t,function(e){throw t(),e});function t(){b--,"prepare"===u&&(y[e]||O(e),0===b&&0===v&&R())}},o}var l=[],u="idle";function p(e){u=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var f,h,m,v=0,b=0,y={},g={},x={};function w(e){return+e+""===e?+e:e}function C(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=L.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;g={},y={},x=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){f={resolve:e,reject:t}});h={};return O(0),"prepare"===u&&0===b&&0===v&&R(),t});var t}function O(e){x[e]?(g[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=L.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):y[e]=!0}function R(){p("ready");var e=f;if(f=null,e)if(o)Promise.resolve().then(function(){return E(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(w(n));e.resolve(t)}}function E(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,o,i,c,d;function l(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,s=r.chain;if((c=M[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<c.parents.length;a++){var d=c.parents[a],l=M[d];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([d]),moduleId:i,parentId:d};-1===t.indexOf(d)&&(l.hot._acceptedDependencies[i]?(n[d]||(n[d]=[]),f(n[d],[i])):(delete n[d],t.push(d),o.push({chain:s.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var v={},b=[],y={},g=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var C in h)if(Object.prototype.hasOwnProperty.call(h,C)){var O;d=w(C);var R=!1,E=!1,I=!1,j="";switch((O=h[C]?l(d):{type:"disposed",moduleId:C}).chain&&(j="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(R=new Error("Aborted because of self decline: "+O.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(R=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(R=new Error("Aborted because "+d+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(O),E=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),I=!0;break;default:throw new Error("Unexception type "+O.type)}if(R)return p("abort"),Promise.reject(R);if(E)for(d in y[d]=h[d],f(b,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,d)&&(v[d]||(v[d]=[]),f(v[d],O.outdatedDependencies[d]));I&&(f(b,[O.moduleId]),y[d]=g)}var T,U=[];for(o=0;o<b.length;o++)d=b[o],M[d]&&M[d].hot._selfAccepted&&U.push({module:d,errorHandler:M[d].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var D,A,S=b.slice();S.length>0;)if(d=S.pop(),c=M[d]){var _={},k=c.hot._disposeHandlers;for(i=0;i<k.length;i++)(n=k[i])(_);for(s[d]=_,c.hot.active=!1,delete M[d],delete v[d],i=0;i<c.children.length;i++){var N=M[c.children[i]];N&&((T=N.parents.indexOf(d))>=0&&N.parents.splice(T,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(c=M[d]))for(A=v[d],i=0;i<A.length;i++)D=A[i],(T=c.children.indexOf(D))>=0&&c.children.splice(T,1);for(d in p("apply"),r=m,y)Object.prototype.hasOwnProperty.call(y,d)&&(e[d]=y[d]);var H=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(c=M[d])){A=v[d];var B=[];for(o=0;o<A.length;o++)if(D=A[o],n=c.hot._acceptedDependencies[D]){if(-1!==B.indexOf(n))continue;B.push(n)}for(o=0;o<B.length;o++){n=B[o];try{n(A)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:A[o],error:e}),t.ignoreErrored||H||(H=e)}}}for(o=0;o<U.length;o++){var P=U[o];d=P.module,a=[d];try{L(d)}catch(e){if("function"==typeof P.errorHandler)try{P.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:n,originalError:e}),t.ignoreErrored||H||(H=n),H||(H=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||H||(H=e)}}return H?(p("fail"),Promise.reject(H)):(p("idle"),new Promise(function(e){e(b)}))}var M={};function L(t){if(M[t])return M[t].exports;var o=M[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:C,apply:E,status:function(e){if(!e)return u;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:s[e]};return n=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(o.exports,o,o.exports,d(t)),o.l=!0,o.exports}L.m=e,L.c=M,L.d=function(e,t,n){L.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},L.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},L.t=function(e,t){if(1&t&&(e=L(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(L.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)L.d(n,o,function(t){return e[t]}.bind(null,o));return n},L.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return L.d(t,"a",t),t},L.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},L.p="/",L.h=function(){return r},d(4)(L.s=4)}([function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"table.grid-2d {\n  border-collapse: collapse;\n  border: 2px solid #444;\n  margin-bottom: 0; }\n  table.grid-2d td {\n    padding: 0;\n    border: 1px solid #aaa;\n    height: 24px;\n    width: 24px; }\n\nform.controlForm {\n  margin-top: 12px; }\n  form.controlForm button {\n    margin-right: 6px; }\n  form.controlForm :last-child {\n    margin-right: 0; }\n",""])},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".main-holder {\n  display: flex; }\n",""])},function(e,t,n){var o,r,i={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,d=0,l=[],u=n(6);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(y(o.parts[s],t))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(y(o.parts[s],t));i[o.id]={id:o.id,refs:1,parts:a}}}}function f(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function h(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=l[l.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),h(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=d++;n=c||(c=v(t)),o=w.bind(null,n,s,!1),r=w.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),h(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var s=n[r];(a=i[s.id]).refs--,o.push(a)}e&&p(f(e,t),t);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var g,x=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){"use strict";n.r(t);class o{constructor({name:e,color:t}={}){this.name=e,this.color=t||"red",this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]],this.rotationIndex=0}get rotation(){return this.rotations[this.rotationIndex]}rotateLeft(){this.rotationIndex--,this.rotationIndex<0&&(this.rotationIndex=3)}rotateRight(){this.rotationIndex++,this.rotationIndex>3&&(this.rotationIndex=0)}}const r="left",i="right",s="bottom",a="",c=[new class extends o{constructor({name:e,color:t}={}){super({name:"I",color:"red"}),this.rotations=[[[3],[1],[1],[1]],[[1,3,1,1]],[[3],[1],[1],[1]],[[1,1,3,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"J",color:"magenta"}),this.rotations=[[[1,3,1],[0,0,1]],[[0,3],[0,1],[1,1]],[[1,2,0],[1,1,1]],[[3,1],[1,0],[1,0]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"L",color:"yellow"}),this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"O",color:"cyan"}),this.rotations=[[[3,1],[1,1]],[[1,3],[1,1]],[[3,1],[1,1]],[[1,3],[1,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"S",color:"blue"}),this.rotations=[[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]],[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"T",color:"silver"}),this.rotations=[[[1,3,1],[0,1,0]],[[0,3],[1,1],[0,1]],[[0,3,0],[1,1,1]],[[3,0],[1,1],[1,0]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"Z",color:"green"}),this.rotations=[[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]],[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]]]}}],d=3e3;class l{constructor({numOfCol:e=10,numOfRow:t=20,defaultTetroX:n,defaultTetroY:o,uiComponent:r}={}){this.numOfCol=e,this.numOfRow=t,this.defaultTetroX=n||0,this.defaultTetroY=o||0,this.isGameOver=!1,this.intervall=1e3,this.tetro=null,this.tetroX,this.tetroY,this.timerKey=null,this.timestamp=d,this.uiComponent=r,this.uiControl=null;const i=[];for(let n=0;n<t;n++)i.push(new Array(e).fill(a));this.matrix=i,this.uiComponent&&"function"==typeof this.uiComponent.setMatrix&&this.uiComponent.setMatrix(this.matrix)}setControl(e){this.uiControl=e}resetMatrix(){this.matrix.forEach(e=>e.fill(a))}getTetroPositions(){const{tetro:e,tetroX:t,tetroY:n}=this;if(e){return this.tetro.rotation.reduce((o,r,i)=>{for(let s=0;s<r.length;s++){const a=r[s];1!==a&&3!==a||o.push({x:t+s,y:n+i,color:e.color})}return o},[])}}updateMatrix({reset:e=!1}={}){const{numOfCol:t,numOfRow:n}=this,o=this.getTetroPositions();if(o){if(o.some(e=>{const{x:o,y:r}=e;return o<0||o>t-1||r<0||r>n-1}))return!1;if(e){if(o.every(e=>this.matrix[e.y][e.x]!==a))return o.forEach(e=>this.matrix[e.y][e.x]=a),!0}else{if(o.every(e=>this.matrix[e.y][e.x]===a))return o.forEach(e=>this.matrix[e.y][e.x]=e.color),!0}}return!1}addTetro({x:e,y:t}={}){const n=c.length,o=Math.floor(Math.random()*n);return this.tetro=c[o],this.tetroX=e||this.defaultTetroX,this.tetroY=t||this.defaultTetroY,!!this.updateMatrix()&&(this.updateUiComponent(),!0)}moveTetro({direction:e}={}){if(this.updateMatrix({reset:!0})){if(e===r?this.tetroX--:e===i?this.tetroX++:e===s&&this.tetroY++,this.updateMatrix())return this.updateUiComponent(),!0;e===r?this.tetroX++:e===i?this.tetroX--:e===s&&this.tetroY--,this.updateMatrix()}return!1}moveLeft(){return this.moveTetro({direction:r})}moveRight(){return this.moveTetro({direction:i})}moveDown(){const e=this.moveTetro({direction:s});if(!e){const e=this.checkFullLines();e&&console.log("Number of Lines removed:",e)}return e}drop(){for(;this.moveDown(););}rotateTetro({direction:e}={}){if(this.updateMatrix({reset:!0})){if(e===r?this.tetro.rotateLeft():e===i&&this.tetro.rotateRight(),this.updateMatrix())return this.updateUiComponent(),!0;e===r?this.tetro.rotateRight():e===i&&this.tetro.rotateLeft(),this.updateMatrix()}return!1}rotateLeft(){return this.rotateTetro({direction:r})}rotateRight(){return this.rotateTetro({direction:i})}updateUiComponent(){this.uiComponent&&"function"==typeof this.uiComponent.update&&this.uiComponent.update()}start(){this.isGameOver&&(this.resetMatrix(),this.updateUiComponent(),this.isGameOver=!1),this.tetro||this.addTetro(),this.dropping()}stop(){cancelAnimationFrame(this.timerKey)}checkFullLines(){let e=0,t=this.numOfRow-1;for(;t>=0;){this.matrix[t].every(e=>e!==a)?(this.removeFullLine(t),e++):t--}return e}removeFullLine(e){const{numOfCol:t}=this;for(let n=e;n>0;n--)if(0===n)this.matrix[n].fill(a);else for(let e=0;e<t;e++)this.matrix[n][e]=this.matrix[n-1][e];this.updateUiComponent()}dropping(e){if(e-this.timestamp>this.intervall&&(this.timestamp=e,!this.moveDown())){if(!this.addTetro())return void this.gameOver();cancelAnimationFrame(this.timerKey)}this.timerKey=requestAnimationFrame(e=>this.dropping(e))}gameOver(){this.timestamp=d,this.isGameOver=!0,this.stop(),this.uiControl&&"function"==typeof this.uiControl.stopUI&&this.uiControl.stopUI()}}class u{constructor({numOfCol:e=10,numOfRow:t=20,parentNode:n,grid:o,matrix:r}={}){this.numOfCol=e,this.numOfRow=t,this.parentNode=n,this.table=document.createElement("table"),this.table.className="grid-2d",this.matrix=r,this.init(),this.appendToRoot()}appendToRoot(){const{parentNode:e,table:t}=this;e&&"function"==typeof e.appendChild&&t.parentNode!==e&&e.appendChild(t)}init(){const{numOfCol:e,numOfRow:t,table:n}=this,o=document.createElement("tbody");for(let n=0;n<t;n++){const t=document.createElement("tr");for(let n=0;n<e;n++){const e=document.createElement("td");t.appendChild(e)}o.appendChild(t)}n.appendChild(o)}setMatrix(e){this.matrix=e}update(){const e=this.matrix;for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){const o=e[t][n]||"transparent";this.table.rows[t].cells[n].style.backgroundColor=o}}}class p{constructor({onMoveLeft:e,onMoveRight:t,onRotateLeft:n,onRotateRight:o,onStart:r,onStop:i,onDrop:s,parentNode:a}={}){this.onStart=r,this.onStop=i,this.onDrop=s,this.onMoveLeft=e,this.onMoveRight=t,this.onRotateLeft=n,this.onRotateRight=o,this.parentNode=a,this.render()}createButton({label:e,name:t,onClick:n,disabled:o}){const r=document.createElement("button");return r.setAttribute("name",t),r.setAttribute("type","button"),r.innerText=e,"function"==typeof n&&r.addEventListener("click",n),o&&r.setAttribute("disabled",!0),r}loopButtons({name:e,disabled:t}){const n=document.controlForm.elements;for(let o=0,r=n.length;o<r;o++){const r=n[o];r.name===e?t?r.setAttribute("disabled",!0):r.removeAttribute("disabled"):t?r.removeAttribute("disabled"):r.setAttribute("disabled",!0)}}startUI(){this.loopButtons({name:"start",disabled:!0})}stopUI(){this.loopButtons({name:"start",disabled:!1})}render(){const e=document.createElement("form");e.name="controlForm",e.className="controlForm";const t=this.createButton({label:"Rotate Left",name:"rotateLeft",onClick:this.onRotateLeft,disabled:!0}),n=this.createButton({label:"Rotate Right",name:"rotateRight",onClick:this.onRotateRight,disabled:!0}),o=this.createButton({label:"Move Left",name:"moveLeft",onClick:this.onMoveLeft,disabled:!0}),r=this.createButton({label:"Move Right",name:"moveRight",onClick:this.onMoveRight,disabled:!0}),i=this.createButton({label:"Start",name:"start",onClick:(()=>{this.onStart(),this.startUI()}).bind(this)}),s=this.createButton({label:"Stop",name:"stop",onClick:(()=>{this.onStop(),this.stopUI()}).bind(this),disabled:!0}),a=this.createButton({label:"Drop Tetro",name:"dropTetro",onClick:this.onDrop,disabled:!0}),c=document.createElement("div");c.appendChild(i),c.appendChild(s);const d=document.createElement("div");d.appendChild(t),d.appendChild(n);const l=document.createElement("div");l.appendChild(o),l.appendChild(a),l.appendChild(r),e.appendChild(c),e.appendChild(d),e.appendChild(l),this.parentNode.appendChild(e)}}n(7),n(5);window.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("root"),t=new u({numOfCol:10,numOfRow:20,parentNode:e});!function({grid:e,parentNode:t}){const n=new p({onMoveLeft:()=>e.moveLeft(),onMoveRight:()=>e.moveRight(),onRotateLeft:()=>e.rotateLeft(),onRotateRight:()=>e.rotateRight(),onStart:()=>e.start(),onStop:()=>e.stop(),onDrop:()=>{e.drop(),e.addTetro()},parentNode:t});e.setControl(n)}({grid:new l({numOfCol:10,numOfRow:20,defaultTetroX:3,defaultTetroY:0,uiComponent:t}),parentNode:e})})},function(e,t,n){var o=n(0);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(0,function(t){!function(){var t=n(0);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(1,function(t){!function(){var t=n(1);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9sYXlvdXQuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVGV0cm9taW5vLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvR3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0kuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9KLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvTC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL08uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9TLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1ouanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvQ29udHJvbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3M/NTA0MyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvbGF5b3V0LnNjc3M/NTBiZCJdLCJuYW1lcyI6WyJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIndpbmRvdyIsImNodW5rSWQiLCJtb3JlTW9kdWxlcyIsImhvdEF2YWlsYWJsZUZpbGVzTWFwIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJtb2R1bGVJZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFN0YXR1c0hhbmRsZXJzIiwibmV3U3RhdHVzIiwiaSIsImxlbmd0aCIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsInRvTW9kdWxlSWQiLCJpZCIsImhvdENoZWNrIiwiYXBwbHkiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJob3RBcHBseSIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJjYiIsImoiLCJtb2R1bGUiLCJnZXRBZmZlY3RlZFN0dWZmIiwidXBkYXRlTW9kdWxlSWQiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJtYXAiLCJjaGFpbiIsInF1ZXVlSXRlbSIsInBvcCIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwidHlwZSIsIl9tYWluIiwicGFyZW50SWQiLCJwYXJlbnQiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJjb25jYXQiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJpZHgiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImluc3RhbGxlZENodW5rcyIsImhvdERpc3Bvc2VDaHVuayIsImRlcGVuZGVuY3kiLCJtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyIsImRhdGEiLCJkaXNwb3NlSGFuZGxlcnMiLCJfZGlzcG9zZUhhbmRsZXJzIiwiY2hpbGQiLCJzcGxpY2UiLCJtb2R1bGVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJleHBvcnRzIiwibCIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiY2hlY2siLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsInVuZGVmaW5lZCIsImhvdENyZWF0ZU1vZHVsZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsInRoaXMiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsImFkZEF0dHJzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJyZW1vdmUiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiVGV0cm9taW5vIiwiW29iamVjdCBPYmplY3RdIiwiY29sb3IiLCJyb3RhdGlvbnMiLCJyb3RhdGlvbkluZGV4Iiwicm90YXRpb24iLCJMRUZUIiwiUklHSFQiLCJCT1RUT00iLCJFTVBUWSIsIlRFVFJPUyIsInN1cGVyIiwiREVGQVVMVF9USU1FU1RBTVAiLCJHcmlkIiwibnVtT2ZDb2wiLCJudW1PZlJvdyIsImRlZmF1bHRUZXRyb1giLCJkZWZhdWx0VGV0cm9ZIiwidWlDb21wb25lbnQiLCJpc0dhbWVPdmVyIiwiaW50ZXJ2YWxsIiwidGV0cm8iLCJ0ZXRyb1giLCJ0ZXRyb1kiLCJ0aW1lcktleSIsInRpbWVzdGFtcCIsInVpQ29udHJvbCIsIm1hdHJpeCIsIkFycmF5IiwiZmlsbCIsInNldE1hdHJpeCIsImNvbnRyb2wiLCJjZWxscyIsInJlZHVjZSIsInBvcyIsInJvdyIsImNvbCIsImNvZGUiLCJ4IiwieSIsInJlc2V0IiwiYmxvY2tQb3NpdGlvbnMiLCJnZXRUZXRyb1Bvc2l0aW9ucyIsInNvbWUiLCJldmVyeSIsImxlbiIsInJhbmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1cGRhdGVNYXRyaXgiLCJ1cGRhdGVVaUNvbXBvbmVudCIsImRpcmVjdGlvbiIsIm1vdmVUZXRybyIsImhhc01vdmVkRG93biIsImxpbmVzUmVtb3ZlZCIsImNoZWNrRnVsbExpbmVzIiwibG9nIiwibW92ZURvd24iLCJyb3RhdGVMZWZ0Iiwicm90YXRlUmlnaHQiLCJyb3RhdGVUZXRybyIsInJlc2V0TWF0cml4IiwiYWRkVGV0cm8iLCJkcm9wcGluZyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibnVtT2ZGdWxsTGluZXMiLCJjZWxsIiwicmVtb3ZlRnVsbExpbmUiLCJnYW1lT3ZlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0b3AiLCJzdG9wVUkiLCJUYWJsZSIsImdyaWQiLCJ0YWJsZSIsImNsYXNzTmFtZSIsImluaXQiLCJhcHBlbmRUb1Jvb3QiLCJ0Qm9keSIsInRyIiwidGQiLCJjZWwiLCJiZ0NvbG9yIiwicm93cyIsImJhY2tncm91bmRDb2xvciIsIkNvbnRyb2wiLCJvbk1vdmVMZWZ0Iiwib25Nb3ZlUmlnaHQiLCJvblJvdGF0ZUxlZnQiLCJvblJvdGF0ZVJpZ2h0Iiwib25TdGFydCIsIm9uU3RvcCIsIm9uRHJvcCIsInJlbmRlciIsImxhYmVsIiwib25DbGljayIsImRpc2FibGVkIiwiYnV0dG9uIiwiaW5uZXJUZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsZW1lbnRzIiwiY29udHJvbEZvcm0iLCJyZW1vdmVBdHRyaWJ1dGUiLCJsb29wQnV0dG9ucyIsImhvbGRlciIsInJvdGF0ZUxlZnRCdG4iLCJjcmVhdGVCdXR0b24iLCJyb3RhdGVSaWdodEJ0biIsIm1vdmVMZWZ0QnRuIiwibW92ZVJpZ2h0QnRuIiwic3RhcnRCdG4iLCJzdGFydFVJIiwic3RvcEJ0biIsImRyb3BCdG4iLCJyb3cxIiwicm93MiIsInJvdzMiLCJyb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJtb3ZlTGVmdCIsIm1vdmVSaWdodCIsInN0YXJ0IiwiZHJvcCIsInNldENvbnRyb2wiLCJnZXRDb250cm9sRmFjdG9yeSIsImhtciIsImxvY2FscyIsIl9fV0VCUEFDS19PVVREQVRFRF9ERVBFTkRFTkNJRVNfXyIsIm5ld0NvbnRlbnQiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiXSwibWFwcGluZ3MiOiJhQUdBLElBQUFBLEVBQUFDLE9BQUEsaUJBQ0FBLE9BQUEsaUJBQ0EsU0FBQUMsRUFBQUMsSUF5UUEsU0FBQUQsRUFBQUMsR0FDQSxJQUFBQyxFQUFBRixLQUFBRyxFQUFBSCxHQUNBLE9BRUEsUUFBQUksS0FEQUQsRUFBQUgsSUFBQSxFQUNBQyxFQUNBSSxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBUCxFQUFBRyxLQUNBSyxFQUFBTCxHQUFBSCxFQUFBRyxJQUdBLEtBQUFNLEdBQUEsSUFBQUMsR0FDQUMsSUFsUkFDLENBQUFiLEVBQUFDLEdBQ0FILEtBQUFFLEVBQUFDLElBd0RBLElBSUFhLEVBSkFDLEdBQUEsRUFDQUMsRUFBQSx1QkFDQUMsRUFBQSxJQUNBQyxLQUVBQyxLQUNBQyxLQUdBLFNBQUFDLEVBQUFqQixHQUNBLElBQUFrQixFQUFBQyxFQUFBbkIsR0FDQSxJQUFB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QUEsSUFHeEMsMERBQUFDLEtBQUFILEdBQ0FILEdBUUFFLEVBRkEsSUFBQUMsRUFBQTFZLFFBQUEsTUFFQTBZLEVBQ0csSUFBQUEsRUFBQTFZLFFBQUEsS0FFSGlZLEVBQUFTLEVBR0FOLEVBQUFNLEVBQUFKLFFBQUEsWUFJQSxPQUFBeFYsS0FBQWlMLFVBQUEwSyxHQUFBLHlCQ2xGQSxJQUFBckosRUFBQTFQLEVBQUEsR0FFQSxpQkFBQTBQLFFBQUFoTCxFQUFBN0MsRUFBQTZOLEVBQUEsTUFPQSxJQUFBbkwsR0FBZTJULEtBQUEsRUFFZjVLLGVBUEFBLEVBUUFqQixnQkFBQXJELEdBRUE3RixFQUFBbkQsRUFBQSxFQUFBQSxDQUFBMFAsRUFBQW5MLEdBRUFtTCxFQUFBeUksU0FBQXpULEVBQUEwRCxRQUFBc0gsRUFBQXlJLFFBR0F6VCxFQUFBdkUsSUFBQW1JLE9BQUEsV0FBQThQLElBQUEsV0FDQSxJQUFBQyxFQUFBclksRUFBQSxHQWlCQSxHQWZBLGlCQUFBcVksUUFBQTNULEVBQUE3QyxFQUFBd1csRUFBQSxPQUVBLFNBQUF2UyxFQUFBQyxHQUNBLElBQUErRCxFQUFBaEQsRUFBQSxFQUVBLElBQUFnRCxLQUFBaEUsRUFBQSxDQUNBLElBQUFDLEdBQUFELEVBQUFnRSxLQUFBL0QsRUFBQStELEdBQUEsU0FDQWhELElBR0EsSUFBQWdELEtBQUEvRCxFQUFBZSxJQUVBLFdBQUFBLEVBVkEsQ0FXRzRJLEVBQUF5SSxPQUFBRSxFQUFBRixRQUVILFVBQUE5VixNQUFBLHVEQUVBYyxFQUFBa1YsR0FwQkEsS0F1QkEzVCxFQUFBdkUsSUFBQXVJLFFBQUEsV0FBZ0N2RiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHRcdGlmIChwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0fSA7XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdDtcbiBcdFx0aGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCI0ODJhZjU0ODNhM2VkZGUzMzU2OVwiOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIlxuIFx0XHRcdCkge1xuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInJlYWR5XCIpIGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XG4gXHRcdFx0XHR0aHJvdyBlcnI7XG4gXHRcdFx0fSk7XG5cbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XG4gXHRcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xuIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIikgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9uZS1ibG9ja3NcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoNCkoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcInRhYmxlLmdyaWQtMmQge1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICM0NDQ7XFxuICBtYXJnaW4tYm90dG9tOiAwOyB9XFxuICB0YWJsZS5ncmlkLTJkIHRkIHtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcXG4gICAgaGVpZ2h0OiAyNHB4O1xcbiAgICB3aWR0aDogMjRweDsgfVxcblxcbmZvcm0uY29udHJvbEZvcm0ge1xcbiAgbWFyZ2luLXRvcDogMTJweDsgfVxcbiAgZm9ybS5jb250cm9sRm9ybSBidXR0b24ge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDZweDsgfVxcbiAgZm9ybS5jb250cm9sRm9ybSA6bGFzdC1jaGlsZCB7XFxuICAgIG1hcmdpbi1yaWdodDogMDsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1haW4taG9sZGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7IH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3IgfHwgXCJyZWRcIjtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDAsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzXSxcbiAgICAgICAgICAgICAgICBbMCwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAyLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTsgLy8gRGVmYXVsdCBMXG4gICAgICAgIHRoaXMucm90YXRpb25JbmRleCA9IDA7XG4gICAgfVxuXG4gICAgZ2V0IHJvdGF0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRpb25zW3RoaXMucm90YXRpb25JbmRleF07XG4gICAgfVxuXG4gICAgcm90YXRlTGVmdCAoKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25JbmRleC0tO1xuXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW9uSW5kZXggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uSW5kZXggPSAzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcm90YXRlUmlnaHQgKCkge1xuICAgICAgICB0aGlzLnJvdGF0aW9uSW5kZXgrKztcblxuICAgICAgICBpZiAodGhpcy5yb3RhdGlvbkluZGV4ID4gMykge1xuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBJIGZyb20gXCIuL0lcIjtcbmltcG9ydCBKIGZyb20gXCIuL0pcIjtcbmltcG9ydCBMIGZyb20gXCIuL0xcIjtcbmltcG9ydCBPIGZyb20gXCIuL09cIjtcbmltcG9ydCBTIGZyb20gXCIuL1NcIjtcbmltcG9ydCBUIGZyb20gXCIuL1RcIjtcbmltcG9ydCBaIGZyb20gXCIuL1pcIjtcblxuZXhwb3J0IGNvbnN0IExFRlQgPSBcImxlZnRcIjtcbmV4cG9ydCBjb25zdCBSSUdIVCA9IFwicmlnaHRcIjtcbmV4cG9ydCBjb25zdCBCT1RUT00gPSBcImJvdHRvbVwiO1xuZXhwb3J0IGNvbnN0IEVNUFRZID0gXCJcIjtcblxuY29uc3QgVEVUUk9TID0gW1xuICAgIG5ldyBJKCksXG4gICAgbmV3IEooKSxcbiAgICBuZXcgTCgpLFxuICAgIG5ldyBPKCksXG4gICAgbmV3IFMoKSxcbiAgICBuZXcgVCgpLFxuICAgIG5ldyBaKClcbl07XG5cbmNvbnN0IERFRkFVTFRfVElNRVNUQU1QID0gMzAwMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZCB7XG4gICAgY29uc3RydWN0b3IgKHsgbnVtT2ZDb2wgPSAxMCwgbnVtT2ZSb3cgPSAyMCwgZGVmYXVsdFRldHJvWCwgZGVmYXVsdFRldHJvWSwgdWlDb21wb25lbnQgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMubnVtT2ZDb2wgPSBudW1PZkNvbDtcbiAgICAgICAgdGhpcy5udW1PZlJvdyA9IG51bU9mUm93O1xuICAgICAgICB0aGlzLmRlZmF1bHRUZXRyb1ggPSBkZWZhdWx0VGV0cm9YIHx8IDA7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRldHJvWSA9IGRlZmF1bHRUZXRyb1kgfHwgMDtcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxsID0gMTAwMDsgLy8gMyBzZWMuXG4gICAgICAgIHRoaXMudGV0cm8gPSBudWxsO1xuICAgICAgICB0aGlzLnRldHJvWDtcbiAgICAgICAgdGhpcy50ZXRyb1k7XG4gICAgICAgIHRoaXMudGltZXJLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IERFRkFVTFRfVElNRVNUQU1QO1xuICAgICAgICB0aGlzLnVpQ29tcG9uZW50ID0gdWlDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudWlDb250cm9sID0gbnVsbDsgLy8gc2V0IGJ5IHNldENvbnRyb2wgYWZ0ZXIgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBudW1PZlJvdzsgcisrKSB7XG4gICAgICAgICAgICBtYXRyaXgucHVzaChuZXcgQXJyYXkobnVtT2ZDb2wpLmZpbGwoRU1QVFkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmICh0aGlzLnVpQ29tcG9uZW50ICYmIHR5cGVvZiB0aGlzLnVpQ29tcG9uZW50LnNldE1hdHJpeCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnVpQ29tcG9uZW50LnNldE1hdHJpeCh0aGlzLm1hdHJpeCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb250cm9sIChjb250cm9sKSB7XG4gICAgICAgIHRoaXMudWlDb250cm9sID0gY29udHJvbDtcbiAgICB9XG5cbiAgICByZXNldE1hdHJpeCAoKSB7XG4gICAgICAgIHRoaXMubWF0cml4LmZvckVhY2goY2VsbHMgPT4gY2VsbHMuZmlsbChFTVBUWSkpO1xuICAgIH1cblxuICAgIGdldFRldHJvUG9zaXRpb25zICgpIHtcbiAgICAgICAgY29uc3QgeyB0ZXRybywgdGV0cm9YLCB0ZXRyb1kgfSA9IHRoaXM7XG4gICAgICAgIGlmICh0ZXRybykge1xuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLnRldHJvLnJvdGF0aW9uO1xuXG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24ucmVkdWNlKChsaXN0LCBwb3MsIHJvdykgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHBvcy5sZW5ndGg7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwb3NbY29sXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDEgfHwgY29kZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0ZXRyb1ggKyBjb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGV0cm9ZICsgcm93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB0ZXRyby5jb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdXBkYXRlTWF0cml4ICh7IHJlc2V0ID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHsgbnVtT2ZDb2wsIG51bU9mUm93IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBibG9ja1Bvc2l0aW9ucyA9IHRoaXMuZ2V0VGV0cm9Qb3NpdGlvbnMoKTtcblxuICAgICAgICBpZiAoYmxvY2tQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dE9mQm91bmRhcnkgPSBibG9ja1Bvc2l0aW9ucy5zb21lKChiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBiO1xuICAgICAgICAgICAgICAgIHJldHVybiB4IDwgMCB8fCB4ID4gbnVtT2ZDb2wgLSAxIHx8IHkgPCAwIHx8IHkgPiBudW1PZlJvdyAtMTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAob3V0T2ZCb3VuZGFyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuUmVzZXQgPSBibG9ja1Bvc2l0aW9ucy5ldmVyeShiID0+IHRoaXMubWF0cml4W2IueV1bYi54XSAhPT0gRU1QVFkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhblJlc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUG9zaXRpb25zLmZvckVhY2goYiA9PiB0aGlzLm1hdHJpeFtiLnldW2IueF0gPSBFTVBUWSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuTW92ZSA9IGJsb2NrUG9zaXRpb25zLmV2ZXJ5KGIgPT4gdGhpcy5tYXRyaXhbYi55XVtiLnhdID09PSBFTVBUWSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuTW92ZSkge1xuICAgICAgICAgICAgICAgICAgICBibG9ja1Bvc2l0aW9ucy5mb3JFYWNoKGIgPT4gdGhpcy5tYXRyaXhbYi55XVtiLnhdID0gYi5jb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGRUZXRybyAoeyB4LCB5IH0gPSB7fSkge1xuICAgICAgICBjb25zdCBsZW4gPSBURVRST1MubGVuZ3RoO1xuICAgICAgICBjb25zdCByYW5kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGVuKTtcbiAgICAgICAgdGhpcy50ZXRybyA9IFRFVFJPU1tyYW5kXTtcbiAgICAgICAgdGhpcy50ZXRyb1ggPSB4IHx8IHRoaXMuZGVmYXVsdFRldHJvWDtcbiAgICAgICAgdGhpcy50ZXRyb1kgPSB5IHx8IHRoaXMuZGVmYXVsdFRldHJvWTtcblxuICAgICAgICBpZiAodGhpcy51cGRhdGVNYXRyaXgoKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVaUNvbXBvbmVudCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gZGlyZWN0aW9uID0gW2xlZnQsIHJpZ2h0LCBkb3duXVxuICAgIG1vdmVUZXRybyAoeyBkaXJlY3Rpb24gfSA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCh7IHJlc2V0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1gtLTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV0cm9YKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1krKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZU1hdHJpeCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWC0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBCT1RUT00pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyb1ktLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZUxlZnQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlVGV0cm8oeyBkaXJlY3Rpb246IExFRlQgfSk7XG4gICAgfVxuXG4gICAgbW92ZVJpZ2h0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRldHJvKHsgZGlyZWN0aW9uOiBSSUdIVCB9KTtcbiAgICB9XG5cbiAgICBtb3ZlRG93biAoKSB7XG4gICAgICAgIGNvbnN0IGhhc01vdmVkRG93biA9IHRoaXMubW92ZVRldHJvKHsgZGlyZWN0aW9uOiBCT1RUT00gfSk7XG5cbiAgICAgICAgaWYgKCFoYXNNb3ZlZERvd24pIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzUmVtb3ZlZCA9IHRoaXMuY2hlY2tGdWxsTGluZXMoKTtcblxuICAgICAgICAgICAgaWYgKGxpbmVzUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTnVtYmVyIG9mIExpbmVzIHJlbW92ZWQ6XCIsIGxpbmVzUmVtb3ZlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFzTW92ZWREb3duO1xuICAgIH1cblxuICAgIGRyb3AgKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5tb3ZlRG93bigpKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGxvb3BpbmcgdW50aWwgdW5hYmxlIHRvIGdvIGRvd25cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpcmVjdGlvbiA9IFtsZWZ0LCByaWdodF1cbiAgICByb3RhdGVUZXRybyAoeyBkaXJlY3Rpb24gfSA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCh7IHJlc2V0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyby5yb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZVJpZ2h0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy51cGRhdGVNYXRyaXgoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyby5yb3RhdGVSaWdodCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcm90YXRlTGVmdCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVRldHJvKHsgZGlyZWN0aW9uOiBMRUZUIH0pO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlVGV0cm8oeyBkaXJlY3Rpb246IFJJR0hUIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVVpQ29tcG9uZW50ICgpIHtcbiAgICAgICAgaWYgKHRoaXMudWlDb21wb25lbnQgJiYgdHlwZW9mIHRoaXMudWlDb21wb25lbnQudXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzR2FtZU92ZXIpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRNYXRyaXgoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVWlDb21wb25lbnQoKTtcbiAgICAgICAgICAgIHRoaXMuaXNHYW1lT3ZlciA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRldHJvKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRldHJvKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyb3BwaW5nKCk7XG4gICAgfVxuXG4gICAgc3RvcCAoKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJLZXkpO1xuICAgIH1cblxuICAgIGNoZWNrRnVsbExpbmVzICgpIHtcbiAgICAgICAgbGV0IG51bU9mRnVsbExpbmVzID0gMDtcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMubnVtT2ZSb3cgLSAxO1xuXG4gICAgICAgIHdoaWxlIChyb3cgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgaXNGdWxsTGluZSA9IHRoaXMubWF0cml4W3Jvd10uZXZlcnkoY2VsbCA9PiBjZWxsICE9PSBFTVBUWSk7XG5cbiAgICAgICAgICAgIGlmIChpc0Z1bGxMaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGdWxsTGluZShyb3cpO1xuICAgICAgICAgICAgICAgIG51bU9mRnVsbExpbmVzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bU9mRnVsbExpbmVzO1xuICAgIH1cblxuICAgIHJlbW92ZUZ1bGxMaW5lIChpbmRleCkge1xuICAgICAgICBjb25zdCB7IG51bU9mQ29sIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IHJvdyA9IGluZGV4OyByb3cgPiAwOyByb3ctLSkge1xuICAgICAgICAgICAgaWYgKHJvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF0cml4W3Jvd10uZmlsbChFTVBUWSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNlbGwgPSAwOyBjZWxsIDwgbnVtT2ZDb2w7IGNlbGwrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdHJpeFtyb3ddW2NlbGxdID0gdGhpcy5tYXRyaXhbcm93IC0gMV1bY2VsbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVVaUNvbXBvbmVudCgpO1xuICAgIH1cblxuICAgIGRyb3BwaW5nICh0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHRoaXMudGltZXN0YW1wID4gdGhpcy5pbnRlcnZhbGwpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmVEb3duKCkpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGV0cm8oKSkge1xuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGltZXJcbiAgICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJLZXkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRpbWVyS2V5ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0KSA9PiB0aGlzLmRyb3BwaW5nKHQpKTtcbiAgICB9XG5cbiAgICBnYW1lT3ZlciAoKSB7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gREVGQVVMVF9USU1FU1RBTVA7XG4gICAgICAgIHRoaXMuaXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBpZiAodGhpcy51aUNvbnRyb2wgJiYgdHlwZW9mIHRoaXMudWlDb250cm9sLnN0b3BVSSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnVpQ29udHJvbC5zdG9wVUkoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEkgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiSVwiLCBjb2xvcjogXCJyZWRcIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbM10sXG4gICAgICAgICAgICAgICAgWzFdLFxuICAgICAgICAgICAgICAgIFsxXSxcbiAgICAgICAgICAgICAgICBbMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDMsIDEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszXSxcbiAgICAgICAgICAgICAgICBbMV0sXG4gICAgICAgICAgICAgICAgWzFdLFxuICAgICAgICAgICAgICAgIFsxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMSwgMywgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIkpcIiwgY29sb3I6IFwibWFnZW50YVwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDIsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAwXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEwgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiTFwiLCBjb2xvcjogXCJ5ZWxsb3dcIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDAsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzXSxcbiAgICAgICAgICAgICAgICBbMCwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAyLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIk9cIiwgY29sb3I6IFwiY3lhblwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIlNcIiwgY29sb3I6IFwiYmx1ZVwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDMsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAwXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFQgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiVFwiLCBjb2xvcjogXCJzaWx2ZXJcIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzXSxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIlpcIiwgY29sb3I6IFwiZ3JlZW5cIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzXSxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSB7XG4gICAgY29uc3RydWN0b3IgKHsgbnVtT2ZDb2wgPSAxMCwgbnVtT2ZSb3cgPSAyMCwgcGFyZW50Tm9kZSwgZ3JpZCwgbWF0cml4IH0gPSB7fSkge1xuICAgICAgICB0aGlzLm51bU9mQ29sID0gbnVtT2ZDb2w7XG4gICAgICAgIHRoaXMubnVtT2ZSb3cgPSBudW1PZlJvdztcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTsgLy8gUGFyZW50IERPTSBFbGVtZW50XG4gICAgICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgIHRoaXMudGFibGUuY2xhc3NOYW1lID0gXCJncmlkLTJkXCI7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmFwcGVuZFRvUm9vdCgpO1xuICAgIH1cblxuICAgIGFwcGVuZFRvUm9vdCAoKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50Tm9kZSwgdGFibGUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgdHlwZW9mIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHRhYmxlLnBhcmVudE5vZGUgIT09IHBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXQgKCkge1xuICAgICAgICBjb25zdCB7IG51bU9mQ29sLCBudW1PZlJvdywgdGFibGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuXG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgbnVtT2ZSb3c7IHIrKykge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgbnVtT2ZDb2w7IGMrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdEJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodEJvZHkpO1xuICAgIH1cblxuICAgIHNldE1hdHJpeCAobWF0cml4KSB7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgIH1cblxuICAgIHVwZGF0ZSAoKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBtYXRyaXgubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgZm9yIChsZXQgY2VsID0gMDsgY2VsIDwgbWF0cml4W3Jvd10ubGVuZ3RoOyBjZWwrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJnQ29sb3IgPSBtYXRyaXhbcm93XVtjZWxdIHx8IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJvd3Nbcm93XS5jZWxsc1tjZWxdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJvbEZhY3RvcnkoeyBncmlkLCBwYXJlbnROb2RlIH0pIHtcbiAgICBjb25zdCBjb250cm9sID0gbmV3IENvbnRyb2woe1xuICAgICAgICBvbk1vdmVMZWZ0OiAoKSA9PiBncmlkLm1vdmVMZWZ0KCksXG4gICAgICAgIG9uTW92ZVJpZ2h0OiAoKSA9PiBncmlkLm1vdmVSaWdodCgpLFxuICAgICAgICBvblJvdGF0ZUxlZnQ6ICgpID0+IGdyaWQucm90YXRlTGVmdCgpLFxuICAgICAgICBvblJvdGF0ZVJpZ2h0OiAoKSA9PiBncmlkLnJvdGF0ZVJpZ2h0KCksXG4gICAgICAgIG9uU3RhcnQ6ICgpID0+IGdyaWQuc3RhcnQoKSxcbiAgICAgICAgb25TdG9wOiAoKSA9PiBncmlkLnN0b3AoKSxcbiAgICAgICAgb25Ecm9wOiAoKSA9PiB7XG4gICAgICAgICAgICBncmlkLmRyb3AoKTtcbiAgICAgICAgICAgIGdyaWQuYWRkVGV0cm8oKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50Tm9kZVxuICAgIH0pO1xuXG4gICAgZ3JpZC5zZXRDb250cm9sKGNvbnRyb2wpO1xuXG4gICAgcmV0dXJuIGNvbnRyb2w7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2wge1xuICAgIGNvbnN0cnVjdG9yICh7IG9uTW92ZUxlZnQsIG9uTW92ZVJpZ2h0LCBvblJvdGF0ZUxlZnQsIG9uUm90YXRlUmlnaHQsIG9uU3RhcnQsIG9uU3RvcCwgb25Ecm9wLCBwYXJlbnROb2RlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBvblN0YXJ0O1xuICAgICAgICB0aGlzLm9uU3RvcCA9IG9uU3RvcDtcbiAgICAgICAgdGhpcy5vbkRyb3AgPSBvbkRyb3A7XG4gICAgICAgIHRoaXMub25Nb3ZlTGVmdCA9IG9uTW92ZUxlZnQ7XG4gICAgICAgIHRoaXMub25Nb3ZlUmlnaHQgPSBvbk1vdmVSaWdodDtcbiAgICAgICAgdGhpcy5vblJvdGF0ZUxlZnQgPSBvblJvdGF0ZUxlZnQ7XG4gICAgICAgIHRoaXMub25Sb3RhdGVSaWdodCA9IG9uUm90YXRlUmlnaHQ7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IHBhcmVudE5vZGU7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVCdXR0b24gKHsgbGFiZWwsIG5hbWUsIG9uQ2xpY2ssIGRpc2FibGVkIH0pIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwibmFtZVwiLCBuYW1lKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSBsYWJlbDtcblxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG5cbiAgICBsb29wQnV0dG9ucyAoeyBuYW1lLCBkaXNhYmxlZCB9KSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuY29udHJvbEZvcm0uZWxlbWVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGVsLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRVSSAoKSB7XG4gICAgICAgIHRoaXMubG9vcEJ1dHRvbnMoeyBuYW1lOiBcInN0YXJ0XCIsIGRpc2FibGVkOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHN0b3BVSSAoKSB7XG4gICAgICAgIHRoaXMubG9vcEJ1dHRvbnMoeyBuYW1lOiBcInN0YXJ0XCIsIGRpc2FibGVkOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIgKCkge1xuICAgICAgICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgaG9sZGVyLm5hbWUgPSBcImNvbnRyb2xGb3JtXCI7XG4gICAgICAgIGhvbGRlci5jbGFzc05hbWUgPSBcImNvbnRyb2xGb3JtXCI7XG5cbiAgICAgICAgY29uc3Qgcm90YXRlTGVmdEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJSb3RhdGUgTGVmdFwiLFxuICAgICAgICAgICAgbmFtZTogXCJyb3RhdGVMZWZ0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUm90YXRlTGVmdCxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByb3RhdGVSaWdodEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJSb3RhdGUgUmlnaHRcIixcbiAgICAgICAgICAgIG5hbWU6IFwicm90YXRlUmlnaHRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Sb3RhdGVSaWdodCxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlTGVmdEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJNb3ZlIExlZnRcIixcbiAgICAgICAgICAgIG5hbWU6IFwibW92ZUxlZnRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Nb3ZlTGVmdCxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb3ZlUmlnaHRCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiTW92ZSBSaWdodFwiLFxuICAgICAgICAgICAgbmFtZTogXCJtb3ZlUmlnaHRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Nb3ZlUmlnaHQsXG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RhcnRCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiU3RhcnRcIixcbiAgICAgICAgICAgIG5hbWU6IFwic3RhcnRcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFVJKCk7XG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzdG9wQnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlN0b3BcIixcbiAgICAgICAgICAgIG5hbWU6IFwic3RvcFwiLFxuICAgICAgICAgICAgb25DbGljazogKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcFVJKCk7XG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRyb3BCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiRHJvcCBUZXRyb1wiLFxuICAgICAgICAgICAgbmFtZTogXCJkcm9wVGV0cm9cIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Ecm9wLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgcm93MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJvdzEuYXBwZW5kQ2hpbGQoc3RhcnRCdG4pO1xuICAgICAgICByb3cxLmFwcGVuZENoaWxkKHN0b3BCdG4pO1xuXG4gICAgICAgIGNvbnN0IHJvdzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByb3cyLmFwcGVuZENoaWxkKHJvdGF0ZUxlZnRCdG4pO1xuICAgICAgICByb3cyLmFwcGVuZENoaWxkKHJvdGF0ZVJpZ2h0QnRuKTtcblxuICAgICAgICBjb25zdCByb3czID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcm93My5hcHBlbmRDaGlsZChtb3ZlTGVmdEJ0bik7XG4gICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQoZHJvcEJ0bik7XG4gICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQobW92ZVJpZ2h0QnRuKTtcblxuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQocm93MSk7XG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChyb3cyKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHJvdzMpO1xuXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgR3JpZCBmcm9tIFwiLi9UZXRyaXMvR3JpZFwiO1xuaW1wb3J0IFRhYmxlIGZyb20gXCIuL1VpMmQvVGFibGVcIjtcbmltcG9ydCB7IGdldENvbnRyb2xGYWN0b3J5IH0gZnJvbSBcIi4vVWkyZC9Db250cm9sXCI7XG5pbXBvcnQgJy4vc3R5bGVzL2xheW91dC5zY3NzJ1xuaW1wb3J0ICcuL3N0eWxlcy91aTJkLnNjc3MnXG5cbmZ1bmN0aW9uIGluaXQgKCkge1xuICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIik7XG4gICAgY29uc3QgdGFibGUgPSBuZXcgVGFibGUoeyBudW1PZkNvbDogMTAsIG51bU9mUm93OiAyMCwgcGFyZW50Tm9kZTogcm9vdCB9KTtcbiAgICBjb25zdCBncmlkID0gbmV3IEdyaWQoe1xuICAgICAgICBudW1PZkNvbDogMTAsXG4gICAgICAgIG51bU9mUm93OiAyMCxcbiAgICAgICAgZGVmYXVsdFRldHJvWDogMyxcbiAgICAgICAgZGVmYXVsdFRldHJvWTogMCxcbiAgICAgICAgdWlDb21wb25lbnQ6IHRhYmxlXG4gICAgfSk7XG4gICAgY29uc3QgY29udHJvbCA9IGdldENvbnRyb2xGYWN0b3J5KHsgZ3JpZCwgcGFyZW50Tm9kZTogcm9vdCB9KTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGluaXQpO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNi0yIS4vdWkyZC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNi0yIS4vdWkyZC5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNi0yIS4vbGF5b3V0LnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNi0yIS4vbGF5b3V0LnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iXSwic291cmNlUm9vdCI6IiJ9