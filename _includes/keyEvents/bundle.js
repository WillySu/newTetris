!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(f[n]=t[n]);0==--v&&0===b&&R()}(e,n),t&&t(e,n)};var n,o=!0,r="d472a04f1ba4aee498d2",i=1e4,s={},a=[],c=[];function l(e){var t=E[e];if(!t)return L;var o=function(o){return t.hot.active?(E[o]?-1===E[o].parents.indexOf(e)&&E[o].parents.push(e):(a=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),L(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return L[e]},set:function(t){L[e]=t}}};for(var i in L)Object.prototype.hasOwnProperty.call(L,i)&&"e"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===u&&p("prepare"),b++,L.e(e).then(t,function(e){throw t(),e});function t(){b--,"prepare"===u&&(y[e]||O(e),0===b&&0===v&&R())}},o}var d=[],u="idle";function p(e){u=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,f,m,v=0,b=0,y={},g={},x={};function w(e){return+e+""===e?+e:e}function C(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=L.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;g={},y={},x=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});f={};return O(0),"prepare"===u&&0===b&&0===v&&R(),t});var t}function O(e){x[e]?(g[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=L.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):y[e]=!0}function R(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then(function(){return D(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&t.push(w(n));e.resolve(t)}}function D(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,o,i,c,l;function d(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,s=r.chain;if((c=E[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<c.parents.length;a++){var l=c.parents[a],d=E[l];if(d){if(d.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(d.hot._acceptedDependencies[i]?(n[l]||(n[l]=[]),h(n[l],[i])):(delete n[l],t.push(l),o.push({chain:s.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var v={},b=[],y={},g=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)){var O;l=w(C);var R=!1,D=!1,M=!1,S="";switch((O=f[C]?d(l):{type:"disposed",moduleId:C}).chain&&(S="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(R=new Error("Aborted because of self decline: "+O.moduleId+S));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(R=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+S));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(R=new Error("Aborted because "+l+" is not accepted"+S));break;case"accepted":t.onAccepted&&t.onAccepted(O),D=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),M=!0;break;default:throw new Error("Unexception type "+O.type)}if(R)return p("abort"),Promise.reject(R);if(D)for(l in y[l]=f[l],h(b,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,l)&&(v[l]||(v[l]=[]),h(v[l],O.outdatedDependencies[l]));M&&(h(b,[O.moduleId]),y[l]=g)}var T,U=[];for(o=0;o<b.length;o++)l=b[o],E[l]&&E[l].hot._selfAccepted&&U.push({module:l,errorHandler:E[l].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var A,I,j=b.slice();j.length>0;)if(l=j.pop(),c=E[l]){var N={},k=c.hot._disposeHandlers;for(i=0;i<k.length;i++)(n=k[i])(N);for(s[l]=N,c.hot.active=!1,delete E[l],delete v[l],i=0;i<c.children.length;i++){var P=E[c.children[i]];P&&((T=P.parents.indexOf(l))>=0&&P.parents.splice(T,1))}}for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(c=E[l]))for(I=v[l],i=0;i<I.length;i++)A=I[i],(T=c.children.indexOf(A))>=0&&c.children.splice(T,1);for(l in p("apply"),r=m,y)Object.prototype.hasOwnProperty.call(y,l)&&(e[l]=y[l]);var _=null;for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(c=E[l])){I=v[l];var B=[];for(o=0;o<I.length;o++)if(A=I[o],n=c.hot._acceptedDependencies[A]){if(-1!==B.indexOf(n))continue;B.push(n)}for(o=0;o<B.length;o++){n=B[o];try{n(I)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:I[o],error:e}),t.ignoreErrored||_||(_=e)}}}for(o=0;o<U.length;o++){var H=U[o];l=H.module,a=[l];try{L(l)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:n,originalError:e}),t.ignoreErrored||_||(_=n),_||(_=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||_||(_=e)}}return _?(p("fail"),Promise.reject(_)):(p("idle"),new Promise(function(e){e(b)}))}var E={};function L(t){if(E[t])return E[t].exports;var o=E[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:C,apply:D,status:function(e){if(!e)return u;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:s[e]};return n=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(o.exports,o,o.exports,l(t)),o.l=!0,o.exports}L.m=e,L.c=E,L.d=function(e,t,n){L.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},L.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},L.t=function(e,t){if(1&t&&(e=L(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(L.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)L.d(n,o,function(t){return e[t]}.bind(null,o));return n},L.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return L.d(t,"a",t),t},L.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},L.p="/",L.h=function(){return r},l(4)(L.s=4)}([function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"table.grid-2d {\n  border-collapse: collapse;\n  border: 2px solid #444;\n  margin-bottom: 0; }\n  table.grid-2d td {\n    padding: 0;\n    border: 1px solid #aaa;\n    height: 24px;\n    width: 24px; }\n\nform.control-form button {\n  margin-right: 6px; }\n\nform.control-form :last-child {\n  margin-right: 0; }\n",""])},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".container {\n  display: flex;\n  flex-direction: row; }\n\n.main-panel {\n  display: flex;\n  flex-direction: column; }\n\n.control-panel {\n  padding: 6px;\n  background-color: #eee; }\n\n.side-panel {\n  margin-left: 12px; }\n\n.side-panel div {\n  margin-bottom: 12px; }\n\n.score-panel {\n  border: 1px solid #000;\n  padding: 6px 12px; }\n\n.score-panel div {\n  min-width: 120px;\n  text-align: right;\n  border-bottom: 1px solid #888;\n  padding-bottom: 6px; }\n",""])},function(e,t,n){var o,r,i={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,l=0,d=[],u=n(6);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(y(o.parts[s],t))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(y(o.parts[s],t));i[o.id]={id:o.id,refs:1,parts:a}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),f(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=l++;n=c||(c=v(t)),o=w.bind(null,n,s,!1),r=w.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),f(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var s=n[r];(a=i[s.id]).refs--,o.push(a)}e&&p(h(e,t),t);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var g,x=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function w(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){"use strict";n.r(t);class o{constructor({name:e,color:t}={}){this.name=e,this.color=t||"red",this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]],this.rotationIndex=0}get rotation(){return this.rotations[this.rotationIndex]}rotateLeft(){this.rotationIndex--,this.rotationIndex<0&&(this.rotationIndex=3)}rotateRight(){this.rotationIndex++,this.rotationIndex>3&&(this.rotationIndex=0)}}const r="left",i="right",s="bottom",a="",c=[new class extends o{constructor({name:e,color:t}={}){super({name:"I",color:"red"}),this.rotations=[[[3],[1],[1],[1]],[[1,3,1,1]],[[3],[1],[1],[1]],[[1,1,3,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"J",color:"magenta"}),this.rotations=[[[1,3,1],[0,0,1]],[[0,3],[0,1],[1,1]],[[1,2,0],[1,1,1]],[[3,1],[1,0],[1,0]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"L",color:"yellow"}),this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"O",color:"cyan"}),this.rotations=[[[3,1],[1,1]],[[1,3],[1,1]],[[3,1],[1,1]],[[1,3],[1,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"S",color:"blue"}),this.rotations=[[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]],[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"T",color:"silver"}),this.rotations=[[[1,3,1],[0,1,0]],[[0,3],[1,1],[0,1]],[[0,3,0],[1,1,1]],[[3,0],[1,1],[1,0]]]}},new class extends o{constructor({name:e,color:t}={}){super({name:"Z",color:"green"}),this.rotations=[[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]],[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]]]}}],l=3e3;class d{constructor({numOfCol:e=10,numOfRow:t=20,defaultTetroX:n,defaultTetroY:o,uiComponent:r}={}){this.numOfCol=e,this.numOfRow=t,this.defaultTetroX=n||0,this.defaultTetroY=o||0,this.isGameOver=!1,this.isStarted=!1,this.intervall=l,this.tetro=null,this.tetroX,this.tetroY,this.timerKey=null,this.timestamp=l,this.uiComponent=r,this.uiControl=null,this.uiScorePanel=null;const i=[];for(let n=0;n<t;n++)i.push(new Array(e).fill(a));this.matrix=i,this.uiComponent&&"function"==typeof this.uiComponent.setMatrix&&this.uiComponent.setMatrix(this.matrix)}setControl(e){this.uiControl=e}setScorePanel(e){this.uiScorePanel=e}resetMatrix(){this.matrix.forEach(e=>e.fill(a))}getTetroPositions(){const{tetro:e,tetroX:t,tetroY:n}=this;if(e){return this.tetro.rotation.reduce((o,r,i)=>{for(let s=0;s<r.length;s++){const a=r[s];1!==a&&3!==a||o.push({x:t+s,y:n+i,color:e.color})}return o},[])}}updateMatrix({reset:e=!1}={}){const{numOfCol:t,numOfRow:n}=this,o=this.getTetroPositions();if(o){if(o.some(e=>{const{x:o,y:r}=e;return o<0||o>t-1||r<0||r>n-1}))return!1;if(e){if(o.every(e=>this.matrix[e.y][e.x]!==a))return o.forEach(e=>this.matrix[e.y][e.x]=a),!0}else{if(o.every(e=>this.matrix[e.y][e.x]===a))return o.forEach(e=>this.matrix[e.y][e.x]=e.color),!0}}return!1}addTetro({x:e,y:t}={}){const n=c.length,o=Math.floor(Math.random()*n);return this.tetro=c[o],this.tetroX=e||this.defaultTetroX,this.tetroY=t||this.defaultTetroY,!!this.updateMatrix()&&(this.updateUiComponent(),!0)}moveTetro({direction:e}={}){if(!this.isStarted)return!1;if(this.updateMatrix({reset:!0})){if(e===r?this.tetroX--:e===i?this.tetroX++:e===s&&this.tetroY++,this.updateMatrix())return this.updateUiComponent(),!0;e===r?this.tetroX++:e===i?this.tetroX--:e===s&&this.tetroY--,this.updateMatrix()}return!1}moveLeft(){return this.moveTetro({direction:r})}moveRight(){return this.moveTetro({direction:i})}moveDown(){const e=this.moveTetro({direction:s});if(!e){const e=this.checkFullLines();e&&this.uiScorePanel&&"function"==typeof this.uiScorePanel.update&&this.uiScorePanel.update(e)}return e}drop(){if(!this.isStarted)return!1;for(;this.moveDown(););}rotateTetro({direction:e}={}){if(!this.isStarted)return!1;if(this.updateMatrix({reset:!0})){if(e===r?this.tetro.rotateLeft():e===i&&this.tetro.rotateRight(),this.updateMatrix())return this.updateUiComponent(),!0;e===r?this.tetro.rotateRight():e===i&&this.tetro.rotateLeft(),this.updateMatrix()}return!1}rotateLeft(){return this.rotateTetro({direction:r})}rotateRight(){return this.rotateTetro({direction:i})}updateUiComponent(){this.uiComponent&&"function"==typeof this.uiComponent.update&&this.uiComponent.update()}start(){this.isStarted=!0,this.isGameOver&&(this.resetMatrix(),this.updateUiComponent(),this.isGameOver=!1,this.intervall=l),this.tetro||this.addTetro(),this.dropping()}stop(){this.isStarted=!1,cancelAnimationFrame(this.timerKey)}checkFullLines(){let e=0,t=this.numOfRow-1;for(;t>=0;){this.matrix[t].every(e=>e!==a)?(this.removeFullLine(t),e++):t--}return e}removeFullLine(e){const{numOfCol:t}=this;for(let n=e;n>0;n--)if(0===n)this.matrix[n].fill(a);else for(let e=0;e<t;e++)this.matrix[n][e]=this.matrix[n-1][e];this.updateUiComponent()}dropping(e){if(e-this.timestamp>this.intervall&&(this.timestamp=e,!this.moveDown())){if(!this.addTetro())return void this.gameOver();cancelAnimationFrame(this.timerKey)}this.timerKey=requestAnimationFrame(e=>this.dropping(e))}gameOver(){this.timestamp=l,this.isGameOver=!0,this.stop(),this.uiControl&&"function"==typeof this.uiControl.stopUI&&this.uiControl.stopUI()}speedUp(){this.intervall=Math.round(this.intervall/2)}}class u{constructor({numOfCol:e=10,numOfRow:t=20,parentNode:n,grid:o,matrix:r}={}){this.numOfCol=e,this.numOfRow=t,this.parentNode=n,this.table=document.createElement("table"),this.table.className="grid-2d",this.matrix=r,this.init(),this.appendToRoot()}appendToRoot(){const{parentNode:e,table:t}=this;e&&"function"==typeof e.appendChild&&t.parentNode!==e&&e.appendChild(t)}init(){const{numOfCol:e,numOfRow:t,table:n}=this,o=document.createElement("tbody");for(let n=0;n<t;n++){const t=document.createElement("tr");for(let n=0;n<e;n++){const e=document.createElement("td");t.appendChild(e)}o.appendChild(t)}n.appendChild(o)}setMatrix(e){this.matrix=e}update(){const e=this.matrix;for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){const o=e[t][n]||"transparent";this.table.rows[t].cells[n].style.backgroundColor=o}}}class p{constructor({onMoveLeft:e,onMoveRight:t,onMoveDown:n,onRotateLeft:o,onRotateRight:r,onStart:i,onStop:s,onDrop:a,parentNode:c}={}){this.onStart=i,this.onStop=s,this.onDrop=a,this.onMoveLeft=e,this.onMoveRight=t,this.onMoveDown=n,this.onRotateLeft=o,this.onRotateRight=r,this.parentNode=c,this.render()}createButton({label:e,name:t,onClick:n,disabled:o,title:r}){const i=document.createElement("button");return i.setAttribute("name",t),i.setAttribute("type","button"),i.setAttribute("title",r),i.appendChild(document.createTextNode(e)),"function"==typeof n&&i.addEventListener("click",n),o&&i.setAttribute("disabled",!0),i}loopButtons({name:e,disabled:t}){const n=document.controlForm.elements;for(let o=0,r=n.length;o<r;o++){const r=n[o];r.name===e?t?r.setAttribute("disabled",!0):r.removeAttribute("disabled"):t?r.removeAttribute("disabled"):r.setAttribute("disabled",!0)}}startUI(){this.loopButtons({name:"start",disabled:!0})}stopUI(){this.loopButtons({name:"start",disabled:!1})}render(){const e=document.createElement("form");e.name="controlForm",e.className="control-form";const t=this.createButton({label:"Rotate Left",name:"rotateLeft",title:"Press Q or 7",onClick:this.onRotateLeft,disabled:!0}),n=this.createButton({label:"Rotate Right",name:"rotateRight",title:"Press E or 9",onClick:this.onRotateRight,disabled:!0}),o=this.createButton({label:"Move Left",name:"moveLeft",title:"Press A, Left Arrow or 4",onClick:this.onMoveLeft,disabled:!0}),r=this.createButton({label:"Move Right",name:"moveRight",title:"Press D, Right Arrow or 6",onClick:this.onMoveRight,disabled:!0}),i=this.createButton({label:"Start",name:"start",onClick:(()=>{this.onStart(),this.startUI()}).bind(this)}),s=this.createButton({label:"Stop",name:"stop",onClick:(()=>{this.onStop(),this.stopUI()}).bind(this),disabled:!0}),a=this.createButton({label:"Drop Tetro",name:"dropTetro",title:"Press W, Top Arrow or 8",onClick:this.onDrop,disabled:!0}),c=this.createButton({label:"Move Down",name:"moveDown",title:"Press S, Bottom Arrow or 5",onClick:this.onMoveDown,disabled:!0}),l=document.createElement("div");l.appendChild(i),l.appendChild(s);const d=document.createElement("div");d.appendChild(t),d.appendChild(a),d.appendChild(n);const u=document.createElement("div");u.appendChild(o),u.appendChild(c),u.appendChild(r),e.appendChild(l),e.appendChild(d),e.appendChild(u),this.parentNode.appendChild(e)}checkKey(e){switch(event.code){case"ArrowLeft":case"Numpad4":case"KeyA":this.onMoveLeft();break;case"ArrowRight":case"Numpad6":case"KeyD":this.onMoveRight();break;case"ArrowUp":case"Numpad8":case"KeyW":this.onDrop();break;case"ArrowDown":case"Numpad2":case"Numpad5":case"KeyS":this.onMoveDown();break;case"Numpad7":case"KeyQ":this.onRotateLeft();break;case"Numpad9":case"KeyE":this.onRotateRight()}}addKeyListeners(){document.body.addEventListener("keyup",e=>this.checkKey(e))}}const h=[100,300,900,2700];class f{constructor({parentNode:e,onLevelUp:t}={}){this.parentNode=e,this.level=1,this.score=0,this.lines=0,this.levelDiv=null,this.scoreDiv=null,this.linesDiv=null,this.onLevelUp=t,this.render()}levelUp(){this.level++,this.levelDiv.innerText=this.level,this.onLevelUp()}updateScore(e){this.score=this.score+e,this.scoreDiv.innerText=this.score}updateLines(e){this.lines=this.lines+e,this.linesDiv.innerText=this.lines}update(e){this.updateLines(e),this.updateScore(h[e-1]),Math.floor(this.lines/10)+1>this.level&&this.levelUp()}render(){const e=document.createElement("div");e.className="score-panel";const t=document.createElement("strong");t.appendChild(document.createTextNode("Level:")),this.levelDiv=document.createElement("div"),this.levelDiv.innerText=this.level;const n=document.createElement("strong");n.appendChild(document.createTextNode("Score:")),this.scoreDiv=document.createElement("div"),this.scoreDiv.innerText=this.score;const o=document.createElement("strong");o.appendChild(document.createTextNode("Lines:")),this.linesDiv=document.createElement("div"),this.linesDiv.innerText=this.lines,e.appendChild(t),e.appendChild(this.levelDiv),e.appendChild(n),e.appendChild(this.scoreDiv),e.appendChild(o),e.appendChild(this.linesDiv),this.parentNode.appendChild(e)}}n(7),n(5);window.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("tetris"),t=new u({numOfCol:10,numOfRow:20,parentNode:e}),n=new d({numOfCol:10,numOfRow:20,defaultTetroX:3,defaultTetroY:0,uiComponent:t});(function({grid:e,parentNode:t}){const n=new p({onMoveLeft:()=>e.moveLeft(),onMoveRight:()=>e.moveRight(),onMoveDown:()=>e.moveDown(),onRotateLeft:()=>e.rotateLeft(),onRotateRight:()=>e.rotateRight(),onStart:()=>e.start(),onStop:()=>e.stop(),onDrop:()=>{e.drop()&&e.addTetro()},parentNode:t});return e.setControl(n),n})({grid:n,parentNode:document.getElementById("controlPanel")}).addKeyListeners(),function({grid:e,parentNode:t}){const n=new f({parentNode:t,onLevelUp:()=>e.speedUp()});e.setScorePanel(n)}({grid:n,parentNode:document.getElementById("scorePanel")})})},function(e,t,n){var o=n(0);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(0,function(t){!function(){var t=n(0);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(1,function(t){!function(){var t=n(1);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9sYXlvdXQuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVGV0cm9taW5vLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvR3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0kuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9KLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvTC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL08uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9TLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1ouanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvQ29udHJvbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVWkyZC9TY29yZVBhbmVsLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3VpMmQuc2Nzcz81MDQzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9sYXlvdXQuc2Nzcz81MGJkIl0sIm5hbWVzIjpbInBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrIiwid2luZG93IiwiY2h1bmtJZCIsIm1vcmVNb2R1bGVzIiwiaG90QXZhaWxhYmxlRmlsZXNNYXAiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsIm1vZHVsZUlkIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaG90VXBkYXRlIiwiaG90V2FpdGluZ0ZpbGVzIiwiaG90Q2h1bmtzTG9hZGluZyIsImhvdFVwZGF0ZURvd25sb2FkZWQiLCJob3RBZGRVcGRhdGVDaHVuayIsImhvdEN1cnJlbnRDaGlsZE1vZHVsZSIsImhvdEFwcGx5T25VcGRhdGUiLCJob3RDdXJyZW50SGFzaCIsImhvdFJlcXVlc3RUaW1lb3V0IiwiaG90Q3VycmVudE1vZHVsZURhdGEiLCJob3RDdXJyZW50UGFyZW50cyIsImhvdEN1cnJlbnRQYXJlbnRzVGVtcCIsImhvdENyZWF0ZVJlcXVpcmUiLCJtZSIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZm4iLCJyZXF1ZXN0IiwiaG90IiwiYWN0aXZlIiwicGFyZW50cyIsImluZGV4T2YiLCJwdXNoIiwiY2hpbGRyZW4iLCJjb25zb2xlIiwid2FybiIsIk9iamVjdEZhY3RvcnkiLCJuYW1lIiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInNldCIsInZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJlIiwiaG90U3RhdHVzIiwiaG90U2V0U3RhdHVzIiwidGhlbiIsImZpbmlzaENodW5rTG9hZGluZyIsImVyciIsImhvdFdhaXRpbmdGaWxlc01hcCIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJuZXdTdGF0dXMiLCJpIiwibGVuZ3RoIiwiaG90RGVmZXJyZWQiLCJob3RVcGRhdGVOZXdIYXNoIiwidG9Nb2R1bGVJZCIsImlkIiwiaG90Q2hlY2siLCJhcHBseSIsIkVycm9yIiwicmVxdWVzdFRpbWVvdXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJwIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImMiLCJoIiwicHJvbWlzZSIsImhlYWQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJzcmMiLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJkZWZlcnJlZCIsImhvdEFwcGx5IiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJ0eXBlIiwiX21haW4iLCJwYXJlbnRJZCIsInBhcmVudCIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsImNvbmNhdCIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsImFib3J0RXJyb3IiLCJkb0FwcGx5IiwiZG9EaXNwb3NlIiwiY2hhaW5JbmZvIiwiam9pbiIsIm9uRGVjbGluZWQiLCJpZ25vcmVEZWNsaW5lZCIsIm9uVW5hY2NlcHRlZCIsImlnbm9yZVVuYWNjZXB0ZWQiLCJvbkFjY2VwdGVkIiwib25EaXNwb3NlZCIsImlkeCIsIm91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyIsImVycm9ySGFuZGxlciIsImtleXMiLCJmb3JFYWNoIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaG90RGlzcG9zZUNodW5rIiwiZGVwZW5kZW5jeSIsIm1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzIiwiZGF0YSIsImRpc3Bvc2VIYW5kbGVycyIsIl9kaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsInNwbGljZSIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJsIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJjaGVjayIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwidW5kZWZpbmVkIiwiaG90Q3JlYXRlTW9kdWxlIiwibSIsImQiLCJnZXR0ZXIiLCJvIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJhbGwiLCJhdG9iIiwidGhpcyIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImF0dHJzIiwiYWRkQXR0cnMiLCJlbCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInJlbW92ZSIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwidG9TdHJpbmciLCJjb250ZW50IiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJUZXRyb21pbm8iLCJbb2JqZWN0IE9iamVjdF0iLCJjb2xvciIsInJvdGF0aW9ucyIsInJvdGF0aW9uSW5kZXgiLCJyb3RhdGlvbiIsIkxFRlQiLCJSSUdIVCIsIkJPVFRPTSIsIkVNUFRZIiwiVEVUUk9TIiwic3VwZXIiLCJERUZBVUxUX1RJTUVTVEFNUCIsIkdyaWQiLCJudW1PZkNvbCIsIm51bU9mUm93IiwiZGVmYXVsdFRldHJvWCIsImRlZmF1bHRUZXRyb1kiLCJ1aUNvbXBvbmVudCIsImlzR2FtZU92ZXIiLCJpc1N0YXJ0ZWQiLCJpbnRlcnZhbGwiLCJ0ZXRybyIsInRldHJvWCIsInRldHJvWSIsInRpbWVyS2V5IiwidGltZXN0YW1wIiwidWlDb250cm9sIiwidWlTY29yZVBhbmVsIiwibWF0cml4IiwiQXJyYXkiLCJmaWxsIiwic2V0TWF0cml4IiwiY29udHJvbCIsInNjb3JlUGFuZWwiLCJjZWxscyIsInJlZHVjZSIsInBvcyIsInJvdyIsImNvbCIsImNvZGUiLCJ4IiwieSIsInJlc2V0IiwiYmxvY2tQb3NpdGlvbnMiLCJnZXRUZXRyb1Bvc2l0aW9ucyIsInNvbWUiLCJldmVyeSIsImxlbiIsInJhbmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1cGRhdGVNYXRyaXgiLCJ1cGRhdGVVaUNvbXBvbmVudCIsImRpcmVjdGlvbiIsIm1vdmVUZXRybyIsImhhc01vdmVkRG93biIsImxpbmVzUmVtb3ZlZCIsImNoZWNrRnVsbExpbmVzIiwibW92ZURvd24iLCJyb3RhdGVMZWZ0Iiwicm90YXRlUmlnaHQiLCJyb3RhdGVUZXRybyIsInJlc2V0TWF0cml4IiwiYWRkVGV0cm8iLCJkcm9wcGluZyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibnVtT2ZGdWxsTGluZXMiLCJjZWxsIiwicmVtb3ZlRnVsbExpbmUiLCJnYW1lT3ZlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0b3AiLCJzdG9wVUkiLCJyb3VuZCIsIlRhYmxlIiwiZ3JpZCIsInRhYmxlIiwiY2xhc3NOYW1lIiwiaW5pdCIsImFwcGVuZFRvUm9vdCIsInRCb2R5IiwidHIiLCJ0ZCIsImNlbCIsImJnQ29sb3IiLCJyb3dzIiwiYmFja2dyb3VuZENvbG9yIiwiQ29udHJvbCIsIm9uTW92ZUxlZnQiLCJvbk1vdmVSaWdodCIsIm9uTW92ZURvd24iLCJvblJvdGF0ZUxlZnQiLCJvblJvdGF0ZVJpZ2h0Iiwib25TdGFydCIsIm9uU3RvcCIsIm9uRHJvcCIsInJlbmRlciIsImxhYmVsIiwib25DbGljayIsImRpc2FibGVkIiwidGl0bGUiLCJidXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZWxlbWVudHMiLCJjb250cm9sRm9ybSIsInJlbW92ZUF0dHJpYnV0ZSIsImxvb3BCdXR0b25zIiwiaG9sZGVyIiwicm90YXRlTGVmdEJ0biIsImNyZWF0ZUJ1dHRvbiIsInJvdGF0ZVJpZ2h0QnRuIiwibW92ZUxlZnRCdG4iLCJtb3ZlUmlnaHRCdG4iLCJzdGFydEJ0biIsInN0YXJ0VUkiLCJzdG9wQnRuIiwiZHJvcEJ0biIsIm1vdmVEb3duQnRuIiwicm93MSIsInJvdzIiLCJyb3czIiwiZXYiLCJldmVudCIsImJvZHkiLCJjaGVja0tleSIsIlNDT1JFX0JZX0xJTkVTIiwiU2NvcmVQYW5lbCIsIm9uTGV2ZWxVcCIsImxldmVsIiwic2NvcmUiLCJsaW5lcyIsImxldmVsRGl2Iiwic2NvcmVEaXYiLCJsaW5lc0RpdiIsImlubmVyVGV4dCIsInVwZGF0ZUxpbmVzIiwidXBkYXRlU2NvcmUiLCJsZXZlbFVwIiwibGV2ZWxIZWFkaW5nIiwic2NvcmVIZWFkaW5nIiwibGluZXNIZWFkaW5nIiwidGV0cmlzIiwiZ2V0RWxlbWVudEJ5SWQiLCJtb3ZlTGVmdCIsIm1vdmVSaWdodCIsInN0YXJ0IiwiZHJvcCIsInNldENvbnRyb2wiLCJnZXRDb250cm9sRmFjdG9yeSIsImFkZEtleUxpc3RlbmVycyIsInNwZWVkVXAiLCJzZXRTY29yZVBhbmVsIiwiZ2V0U2NvcmVQYW5lbEZhY3RvcnkiLCJobXIiLCJsb2NhbHMiLCJfX1dFQlBBQ0tfT1VUREFURURfREVQRU5ERU5DSUVTX18iLCJuZXdDb250ZW50IiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiYUFHQSxJQUFBQSxFQUFBQyxPQUFBLGlCQUNBQSxPQUFBLGlCQUNBLFNBQUFDLEVBQUFDLElBeVFBLFNBQUFELEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUYsS0FBQUcsRUFBQUgsR0FDQSxPQUVBLFFBQUFJLEtBREFELEVBQUFILElBQUEsRUFDQUMsRUFDQUksT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVAsRUFBQUcsS0FDQUssRUFBQUwsR0FBQUgsRUFBQUcsSUFHQSxLQUFBTSxHQUFBLElBQUFDLEdBQ0FDLElBbFJBQyxDQUFBYixFQUFBQyxHQUNBSCxLQUFBRSxFQUFBQyxJQXdEQSxJQUlBYSxFQUpBQyxHQUFBLEVBQ0FDLEVBQUEsdUJBQ0FDLEVBQUEsSUFDQUMsS0FFQUMsS0FDQUMsS0FHQSxTQUFBQyxFQUFBakIsR0FDQSxJQUFBa0IsRUFBQUMsRUFBQW5CLEdBQ0EsSUFBQWtCLEVBQUEsT0FBQUUsRUFDQSxJQUFBQyxFQUFBLFNBQUFDLEdBc0JBLE9BckJBSixFQUFBSyxJQUFBQyxRQUNBTCxFQUFBRyxJQUNBLElBQUFILEVBQUFHLEdBQUFHLFFBQUFDLFFBQUExQixJQUNBbUIsRUFBQUcsR0FBQUcsUUFBQUUsS0FBQTNCLElBR0FlLEdBQUFmLEdBQ0FVLEVBQUFZLElBRUEsSUFBQUosRUFBQVUsU0FBQUYsUUFBQUosSUFDQUosRUFBQVUsU0FBQUQsS0FBQUwsS0FHQU8sUUFBQUMsS0FDQSw0QkFDQVIsRUFDQSwwQkFDQXRCLEdBRUFlLE1BRUFLLEVBQUFFLElBRUFTLEVBQUEsU0FBQUMsR0FDQSxPQUNBQyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE9BQUFmLEVBQUFZLElBRUFJLElBQUEsU0FBQUMsR0FDQWpCLEVBQUFZLEdBQUFLLEtBSUEsUUFBQUwsS0FBQVosRUFFQW5CLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFnQixFQUFBWSxJQUNBLE1BQUFBLEdBRUEvQixPQUFBcUMsZUFBQWpCLEVBQUFXLEVBQUFELEVBQUFDLElBdUJBLE9BcEJBWCxFQUFBa0IsRUFBQSxTQUFBM0MsR0FHQSxNQUZBLFVBQUE0QyxHQUFBQyxFQUFBLFdBQ0FsQyxJQUNBYSxFQUFBbUIsRUFBQTNDLEdBQUE4QyxLQUFBQyxFQUFBLFNBQUFDLEdBRUEsTUFEQUQsSUFDQUMsSUFHQSxTQUFBRCxJQUNBcEMsSUFDQSxZQUFBaUMsSUFDQUssRUFBQWpELElBQ0FrRCxFQUFBbEQsR0FFQSxJQUFBVyxHQUFBLElBQUFELEdBQ0FFLE9BS0FhLEVBZ0VBLElBQUEwQixLQUNBUCxFQUFBLE9BRUEsU0FBQUMsRUFBQU8sR0FDQVIsRUFBQVEsRUFDQSxRQUFBQyxFQUFBLEVBQWtCQSxFQUFBRixFQUFBRyxPQUE4QkQsSUFDaERGLEVBQUFFLEdBQUE3QyxLQUFBLEtBQUE0QyxHQUlBLElBS0FHLEVBR0E5QyxFQUFBK0MsRUFSQTlDLEVBQUEsRUFDQUMsRUFBQSxFQUNBc0MsS0FDQTlDLEtBQ0FELEtBTUEsU0FBQXVELEVBQUFDLEdBRUEsT0FEQUEsRUFBQSxLQUFBQSxHQUNBQSxJQUdBLFNBQUFDLEVBQUFDLEdBQ0EsWUFBQWhCLEVBQ0EsVUFBQWlCLE1BQUEsMENBSUEsT0FGQTlDLEVBQUE2QyxFQUNBZixFQUFBLFVBcE5BaUIsRUFxTkE3QyxFQXBOQTZDLEtBQUEsSUFDQSxJQUFBQyxRQUFBLFNBQUFDLEVBQUFDLEdBQ0EsdUJBQUFDLGVBQ0EsT0FBQUQsRUFBQSxJQUFBSixNQUFBLHVCQUVBLElBQ0EsSUFBQW5DLEVBQUEsSUFBQXdDLGVBQ0FDLEVBQUEzQyxFQUFBNEMsRUFBQSxHQUFBcEQsRUFBQSxtQkFDQVUsRUFBQTJDLEtBQUEsTUFBQUYsR0FBQSxHQUNBekMsRUFBQTRDLFFBQUFSLEVBQ0FwQyxFQUFBNkMsS0FBQSxNQUNLLE1BQUF2QixHQUNMLE9BQUFpQixFQUFBakIsR0FFQXRCLEVBQUE4QyxtQkFBQSxXQUNBLE9BQUE5QyxFQUFBK0MsV0FDQSxPQUFBL0MsRUFBQWdELE9BRUFULEVBQ0EsSUFBQUosTUFBQSx1QkFBQU0sRUFBQSxxQkFFTSxTQUFBekMsRUFBQWdELE9BRU5WLFNBQ00sU0FBQXRDLEVBQUFnRCxRQUFBLE1BQUFoRCxFQUFBZ0QsT0FFTlQsRUFBQSxJQUFBSixNQUFBLHVCQUFBTSxFQUFBLGlCQUNNLENBRU4sSUFDQSxJQUFBUSxFQUFBQyxLQUFBQyxNQUFBbkQsRUFBQW9ELGNBQ08sTUFBQW5DLEdBRVAsWUFEQXNCLEVBQUF0QixHQUdBcUIsRUFBQVcsUUFpTEE3QixLQUFBLFNBQUE2QixHQUNBLElBQUFBLEVBRUEsT0FEQTlCLEVBQUEsUUFDQSxLQUVBMUMsS0FDQThDLEtBQ0EvQyxFQUFBeUUsRUFBQUksRUFDQXZCLEVBQUFtQixFQUFBSyxFQUVBbkMsRUFBQSxXQUNBLElBQUFvQyxFQUFBLElBQUFsQixRQUFBLFNBQUFDLEVBQUFDLEdBQ0FWLEdBQ0FTLFVBQ0FDLFlBR0F4RCxLQWNBLE9BVEF5QyxFQUpBLEdBT0EsWUFBQU4sR0FDQSxJQUFBakMsR0FDQSxJQUFBRCxHQUVBRSxJQUVBcUUsSUFwUEEsSUFBQW5CLEVBdVFBLFNBQUFaLEVBQUFsRCxHQUNBRSxFQUFBRixJQUdBRyxFQUFBSCxJQUFBLEVBQ0FVLElBdFJBLFNBQUFWLEdBQ0EsSUFBQWtGLEVBQUFDLFNBQUFDLHFCQUFBLFdBQ0FDLEVBQUFGLFNBQUFHLGNBQUEsVUFDQUQsRUFBQUUsUUFBQSxRQUNBRixFQUFBRyxJQUFBaEUsRUFBQTRDLEVBQUEsR0FBQXBFLEVBQUEsSUFBQWdCLEVBQUEsaUJBRUFrRSxFQUFBTyxZQUFBSixHQWlSQUssQ0FBQTFGLElBSkFpRCxFQUFBakQsSUFBQSxFQVFBLFNBQUFZLElBQ0FpQyxFQUFBLFNBQ0EsSUFBQThDLEVBQUFwQyxFQUVBLEdBREFBLEVBQUEsS0FDQW9DLEVBQ0EsR0FBQTVFLEVBSUFnRCxRQUFBQyxVQUNBbEIsS0FBQSxXQUNBLE9BQUE4QyxFQUFBN0UsS0FFQStCLEtBQ0EsU0FBQStDLEdBQ0FGLEVBQUEzQixRQUFBNkIsSUFFQSxTQUFBN0MsR0FDQTJDLEVBQUExQixPQUFBakIsU0FHSSxDQUNKLElBQUE4QyxLQUNBLFFBQUFwQyxLQUFBakQsRUFDQUosT0FBQUMsVUFBQUMsZUFBQUMsS0FBQUMsRUFBQWlELElBQ0FvQyxFQUFBL0QsS0FBQTBCLEVBQUFDLElBR0FpQyxFQUFBM0IsUUFBQThCLElBSUEsU0FBQUYsRUFBQUcsR0FDQSxhQUFBbkQsRUFDQSxVQUFBaUIsTUFBQSwyQ0FHQSxJQUFBbUMsRUFDQTNDLEVBQ0E0QyxFQUNBQyxFQUNBOUYsRUFFQSxTQUFBK0YsRUFBQUMsR0FVQSxJQVRBLElBQUFOLEdBQUFNLEdBQ0FDLEtBRUFDLEVBQUFSLEVBQUFTLFFBQUFDLElBQUEsU0FBQTlDLEdBQ0EsT0FDQStDLE9BQUEvQyxHQUNBQSxRQUdBNEMsRUFBQWhELE9BQUEsSUFDQSxJQUFBb0QsRUFBQUosRUFBQUssTUFDQXZHLEVBQUFzRyxFQUFBaEQsR0FDQStDLEVBQUFDLEVBQUFELE1BRUEsSUFEQVAsRUFBQTNFLEVBQUFuQixNQUNBOEYsRUFBQXZFLElBQUFpRixjQUFBLENBQ0EsR0FBQVYsRUFBQXZFLElBQUFrRixjQUNBLE9BQ0FDLEtBQUEsZ0JBQ0FMLFFBQ0FyRyxZQUdBLEdBQUE4RixFQUFBdkUsSUFBQW9GLE1BQ0EsT0FDQUQsS0FBQSxhQUNBTCxRQUNBckcsWUFHQSxRQUFBaUQsRUFBQSxFQUFvQkEsRUFBQTZDLEVBQUFyRSxRQUFBeUIsT0FBMkJELElBQUEsQ0FDL0MsSUFBQTJELEVBQUFkLEVBQUFyRSxRQUFBd0IsR0FDQTRELEVBQUExRixFQUFBeUYsR0FDQSxHQUFBQyxFQUFBLENBQ0EsR0FBQUEsRUFBQXRGLElBQUF1RixzQkFBQTlHLEdBQ0EsT0FDQTBHLEtBQUEsV0FDQUwsUUFBQVUsUUFBQUgsSUFDQTVHLFdBQ0E0RyxhQUdBLElBQUFsQixFQUFBaEUsUUFBQWtGLEtBQ0FDLEVBQUF0RixJQUFBeUYsc0JBQUFoSCxJQUNBaUcsRUFBQVcsS0FDQVgsRUFBQVcsT0FDQUssRUFBQWhCLEVBQUFXLElBQUE1RyxhQUdBaUcsRUFBQVcsR0FDQWxCLEVBQUEvRCxLQUFBaUYsR0FDQVYsRUFBQXZFLE1BQ0EwRSxRQUFBVSxRQUFBSCxJQUNBdEQsR0FBQXNELFNBS0EsT0FDQUYsS0FBQSxXQUNBMUcsU0FBQWdHLEVBQ0FOLGtCQUNBTyx3QkFJQSxTQUFBZ0IsRUFBQUMsRUFBQUMsR0FDQSxRQUFBbEUsRUFBQSxFQUFtQkEsRUFBQWtFLEVBQUFqRSxPQUFjRCxJQUFBLENBQ2pDLElBQUFtRSxFQUFBRCxFQUFBbEUsSUFDQSxJQUFBaUUsRUFBQXhGLFFBQUEwRixJQUFBRixFQUFBdkYsS0FBQXlGLElBN0VBekIsUUFtRkEsSUFBQU0sS0FDQVAsS0FDQTJCLEtBRUFDLEVBQUEsV0FDQXpGLFFBQUFDLEtBQ0EsNEJBQUEyRCxFQUFBekYsU0FBQSx5QkFJQSxRQUFBc0QsS0FBQWpELEVBQ0EsR0FBQUosT0FBQUMsVUFBQUMsZUFBQUMsS0FBQUMsRUFBQWlELEdBQUEsQ0FHQSxJQUFBbUMsRUFGQXpGLEVBQUFxRCxFQUFBQyxHQVlBLElBQUFpRSxHQUFBLEVBQ0FDLEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxFQUFBLEdBSUEsUUFmQWpDLEVBREFwRixFQUFBaUQsR0FDQXlDLEVBQUEvRixJQUdBMEcsS0FBQSxXQUNBMUcsU0FBQXNELElBUUErQyxRQUNBcUIsRUFBQSx5QkFBQWpDLEVBQUFZLE1BQUFzQixLQUFBLFNBRUFsQyxFQUFBaUIsTUFDQSxvQkFDQWYsRUFBQWlDLFlBQUFqQyxFQUFBaUMsV0FBQW5DLEdBQ0FFLEVBQUFrQyxpQkFDQU4sRUFBQSxJQUFBOUQsTUFDQSxvQ0FDQWdDLEVBQUF6RixTQUNBMEgsSUFFQSxNQUNBLGVBQ0EvQixFQUFBaUMsWUFBQWpDLEVBQUFpQyxXQUFBbkMsR0FDQUUsRUFBQWtDLGlCQUNBTixFQUFBLElBQUE5RCxNQUNBLDJDQUNBZ0MsRUFBQXpGLFNBQ0EsT0FDQXlGLEVBQUFtQixTQUNBYyxJQUVBLE1BQ0EsaUJBQ0EvQixFQUFBbUMsY0FBQW5DLEVBQUFtQyxhQUFBckMsR0FDQUUsRUFBQW9DLG1CQUNBUixFQUFBLElBQUE5RCxNQUNBLG1CQUFBekQsRUFBQSxtQkFBQTBILElBRUEsTUFDQSxlQUNBL0IsRUFBQXFDLFlBQUFyQyxFQUFBcUMsV0FBQXZDLEdBQ0ErQixHQUFBLEVBQ0EsTUFDQSxlQUNBN0IsRUFBQXNDLFlBQUF0QyxFQUFBc0MsV0FBQXhDLEdBQ0FnQyxHQUFBLEVBQ0EsTUFDQSxRQUNBLFVBQUFoRSxNQUFBLG9CQUFBZ0MsRUFBQWlCLE1BRUEsR0FBQWEsRUFFQSxPQURBOUUsRUFBQSxTQUNBa0IsUUFBQUUsT0FBQTBELEdBRUEsR0FBQUMsRUFHQSxJQUFBeEgsS0FGQXFILEVBQUFySCxHQUFBSyxFQUFBTCxHQUNBaUgsRUFBQXZCLEVBQUFELEVBQUFDLGlCQUNBRCxFQUFBUSxxQkFFQWhHLE9BQUFDLFVBQUFDLGVBQUFDLEtBQ0FxRixFQUFBUSxxQkFDQWpHLEtBR0FpRyxFQUFBakcsS0FDQWlHLEVBQUFqRyxPQUNBaUgsRUFDQWhCLEVBQUFqRyxHQUNBeUYsRUFBQVEscUJBQUFqRyxLQUtBeUgsSUFDQVIsRUFBQXZCLEdBQUFELEVBQUF6RixXQUNBcUgsRUFBQXJILEdBQUFzSCxHQU1BLElBcUJBWSxFQXJCQUMsS0FDQSxJQUFBbEYsRUFBQSxFQUFjQSxFQUFBeUMsRUFBQXhDLE9BQTRCRCxJQUMxQ2pELEVBQUEwRixFQUFBekMsR0FFQTlCLEVBQUFuQixJQUNBbUIsRUFBQW5CLEdBQUF1QixJQUFBaUYsZUFFQTJCLEVBQUF4RyxNQUNBbUUsT0FBQTlGLEVBQ0FvSSxhQUFBakgsRUFBQW5CLEdBQUF1QixJQUFBaUYsZ0JBS0EvRCxFQUFBLFdBQ0F4QyxPQUFBb0ksS0FBQXZJLEdBQUF3SSxRQUFBLFNBQUExSSxJQUNBLElBQUFFLEVBQUFGLElBamhCQSxTQUFBQSxVQUNBMkksZ0JBQUEzSSxHQWloQkE0SSxDQUFBNUksS0FNQSxJQURBLElBcUNBNkksRUFDQUMsRUF0Q0F4QyxFQUFBUixFQUFBUyxRQUNBRCxFQUFBaEQsT0FBQSxHQUdBLEdBRkFsRCxFQUFBa0csRUFBQUssTUFDQVQsRUFBQTNFLEVBQUFuQixHQUNBLENBRUEsSUFBQTJJLEtBR0FDLEVBQUE5QyxFQUFBdkUsSUFBQXNILGlCQUNBLElBQUFoRCxFQUFBLEVBQWVBLEVBQUErQyxFQUFBMUYsT0FBNEIyQyxLQUMzQ0QsRUFBQWdELEVBQUEvQyxJQUNBOEMsR0FjQSxJQVpBN0gsRUFBQWQsR0FBQTJJLEVBR0E3QyxFQUFBdkUsSUFBQUMsUUFBQSxTQUdBTCxFQUFBbkIsVUFHQWlHLEVBQUFqRyxHQUdBNkYsRUFBQSxFQUFlQSxFQUFBQyxFQUFBbEUsU0FBQXNCLE9BQTRCMkMsSUFBQSxDQUMzQyxJQUFBaUQsRUFBQTNILEVBQUEyRSxFQUFBbEUsU0FBQWlFLElBQ0FpRCxLQUNBWixFQUFBWSxFQUFBckgsUUFBQUMsUUFBQTFCLEtBQ0EsR0FDQThJLEVBQUFySCxRQUFBc0gsT0FBQWIsRUFBQSxLQVFBLElBQUFsSSxLQUFBaUcsRUFDQSxHQUNBaEcsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQTZGLEVBQUFqRyxLQUVBOEYsRUFBQTNFLEVBQUFuQixJQUdBLElBREEwSSxFQUFBekMsRUFBQWpHLEdBQ0E2RixFQUFBLEVBQWlCQSxFQUFBNkMsRUFBQXhGLE9BQXVDMkMsSUFDeEQ0QyxFQUFBQyxFQUFBN0MsSUFDQXFDLEVBQUFwQyxFQUFBbEUsU0FBQUYsUUFBQStHLEtBQ0EsR0FBQTNDLEVBQUFsRSxTQUFBbUgsT0FBQWIsRUFBQSxHQVlBLElBQUFsSSxLQUxBeUMsRUFBQSxTQUVBN0IsRUFBQXdDLEVBR0FpRSxFQUNBcEgsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQWlILEVBQUFySCxLQUNBZ0osRUFBQWhKLEdBQUFxSCxFQUFBckgsSUFLQSxJQUFBaUosRUFBQSxLQUNBLElBQUFqSixLQUFBaUcsRUFDQSxHQUNBaEcsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQTZGLEVBQUFqRyxLQUVBOEYsRUFBQTNFLEVBQUFuQixJQUNBLENBQ0EwSSxFQUFBekMsRUFBQWpHLEdBQ0EsSUFBQWtKLEtBQ0EsSUFBQWpHLEVBQUEsRUFBaUJBLEVBQUF5RixFQUFBeEYsT0FBdUNELElBR3hELEdBRkF3RixFQUFBQyxFQUFBekYsR0FDQTJDLEVBQUFFLEVBQUF2RSxJQUFBeUYsc0JBQUF5QixHQUNBLENBQ0EsUUFBQVMsRUFBQXhILFFBQUFrRSxHQUFBLFNBQ0FzRCxFQUFBdkgsS0FBQWlFLEdBR0EsSUFBQTNDLEVBQUEsRUFBaUJBLEVBQUFpRyxFQUFBaEcsT0FBc0JELElBQUEsQ0FDdkMyQyxFQUFBc0QsRUFBQWpHLEdBQ0EsSUFDQTJDLEVBQUE4QyxHQUNRLE1BQUE5RixHQUNSK0MsRUFBQXdELFdBQ0F4RCxFQUFBd0QsV0FDQXpDLEtBQUEsaUJBQ0ExRyxXQUNBb0osYUFBQVYsRUFBQXpGLEdBQ0FnRyxNQUFBckcsSUFHQStDLEVBQUEwRCxlQUNBSixNQUFBckcsS0FTQSxJQUFBSyxFQUFBLEVBQWNBLEVBQUFrRixFQUFBakYsT0FBd0NELElBQUEsQ0FDdEQsSUFBQW1FLEVBQUFlLEVBQUFsRixHQUNBakQsRUFBQW9ILEVBQUF0QixPQUNBL0UsR0FBQWYsR0FDQSxJQUNBb0IsRUFBQXBCLEdBQ0ssTUFBQTRDLEdBQ0wsc0JBQUF3RSxFQUFBZ0IsYUFDQSxJQUNBaEIsRUFBQWdCLGFBQUF4RixHQUNPLE1BQUEwRyxHQUNQM0QsRUFBQXdELFdBQ0F4RCxFQUFBd0QsV0FDQXpDLEtBQUEsb0NBQ0ExRyxXQUNBaUosTUFBQUssRUFDQUMsY0FBQTNHLElBR0ErQyxFQUFBMEQsZUFDQUosTUFBQUssR0FFQUwsTUFBQXJHLFFBR0ErQyxFQUFBd0QsV0FDQXhELEVBQUF3RCxXQUNBekMsS0FBQSxzQkFDQTFHLFdBQ0FpSixNQUFBckcsSUFHQStDLEVBQUEwRCxlQUNBSixNQUFBckcsSUFPQSxPQUFBcUcsR0FDQXhHLEVBQUEsUUFDQWtCLFFBQUFFLE9BQUFvRixLQUdBeEcsRUFBQSxRQUNBLElBQUFrQixRQUFBLFNBQUFDLEdBQ0FBLEVBQUE4QixNQUtBLElBQUF2RSxLQUdBLFNBQUFDLEVBQUFwQixHQUdBLEdBQUFtQixFQUFBbkIsR0FDQSxPQUFBbUIsRUFBQW5CLEdBQUF3SixRQUdBLElBQUExRCxFQUFBM0UsRUFBQW5CLElBQ0FpRCxFQUFBakQsRUFDQXlKLEdBQUEsRUFDQUQsV0FDQWpJLElBdGpCQSxTQUFBdkIsR0FDQSxJQUFBdUIsR0FFQXlGLHlCQUNBRix5QkFDQU4sZUFBQSxFQUNBQyxlQUFBLEVBQ0FvQyxvQkFDQWxDLE1BQUFqRyxJQUFBVixFQUdBd0IsUUFBQSxFQUNBa0ksT0FBQSxTQUFBQyxFQUFBQyxHQUNBLFlBQUFELEVBQUFwSSxFQUFBaUYsZUFBQSxPQUNBLHNCQUFBbUQsRUFBQXBJLEVBQUFpRixjQUFBbUQsT0FDQSxvQkFBQUEsRUFDQSxRQUFBMUcsRUFBQSxFQUFxQkEsRUFBQTBHLEVBQUF6RyxPQUFnQkQsSUFDckMxQixFQUFBeUYsc0JBQUEyQyxFQUFBMUcsSUFBQTJHLEdBQUEsa0JBQ0FySSxFQUFBeUYsc0JBQUEyQyxHQUFBQyxHQUFBLGNBRUFDLFFBQUEsU0FBQUYsR0FDQSxZQUFBQSxFQUFBcEksRUFBQWtGLGVBQUEsT0FDQSxvQkFBQWtELEVBQ0EsUUFBQTFHLEVBQUEsRUFBcUJBLEVBQUEwRyxFQUFBekcsT0FBZ0JELElBQ3JDMUIsRUFBQXVGLHNCQUFBNkMsRUFBQTFHLEtBQUEsT0FDQTFCLEVBQUF1RixzQkFBQTZDLElBQUEsR0FFQUcsUUFBQSxTQUFBRixHQUNBckksRUFBQXNILGlCQUFBbEgsS0FBQWlJLElBRUFHLGtCQUFBLFNBQUFILEdBQ0FySSxFQUFBc0gsaUJBQUFsSCxLQUFBaUksSUFFQUkscUJBQUEsU0FBQUosR0FDQSxJQUFBMUIsRUFBQTNHLEVBQUFzSCxpQkFBQW5ILFFBQUFrSSxHQUNBMUIsR0FBQSxHQUFBM0csRUFBQXNILGlCQUFBRSxPQUFBYixFQUFBLElBSUErQixNQUFBMUcsRUFDQUMsTUFBQWdDLEVBQ0FsQixPQUFBLFNBQUFtRixHQUNBLElBQUFBLEVBQUEsT0FBQWpILEVBQ0FPLEVBQUFwQixLQUFBOEgsSUFFQVMsaUJBQUEsU0FBQVQsR0FDQTFHLEVBQUFwQixLQUFBOEgsSUFFQVUsb0JBQUEsU0FBQVYsR0FDQSxJQUFBdkIsRUFBQW5GLEVBQUFyQixRQUFBK0gsR0FDQXZCLEdBQUEsR0FBQW5GLEVBQUFnRyxPQUFBYixFQUFBLElBSUFTLEtBQUE3SCxFQUFBZCxJQUdBLE9BREFVLE9BQUEwSixFQUNBN0ksRUE2ZkE4SSxDQUFBckssR0FDQXlCLFNBQUFULEVBQUFELE9BQUFDLEdBQ0FZLGFBVUEsT0FOQW9ILEVBQUFoSixHQUFBSSxLQUFBMEYsRUFBQTBELFFBQUExRCxJQUFBMEQsUUFBQXZJLEVBQUFqQixJQUdBOEYsRUFBQTJELEdBQUEsRUFHQTNELEVBQUEwRCxRQUtBcEksRUFBQWtKLEVBQUF0QixFQUdBNUgsRUFBQXVELEVBQUF4RCxFQUdBQyxFQUFBbUosRUFBQSxTQUFBZixFQUFBeEgsRUFBQXdJLEdBQ0FwSixFQUFBcUosRUFBQWpCLEVBQUF4SCxJQUNBL0IsT0FBQXFDLGVBQUFrSCxFQUFBeEgsR0FBMENFLFlBQUEsRUFBQUMsSUFBQXFJLEtBSzFDcEosRUFBQXNKLEVBQUEsU0FBQWxCLEdBQ0Esb0JBQUFtQixlQUFBQyxhQUNBM0ssT0FBQXFDLGVBQUFrSCxFQUFBbUIsT0FBQUMsYUFBd0R2SSxNQUFBLFdBRXhEcEMsT0FBQXFDLGVBQUFrSCxFQUFBLGNBQWlEbkgsT0FBQSxLQVFqRGpCLEVBQUF5SixFQUFBLFNBQUF4SSxFQUFBeUksR0FFQSxHQURBLEVBQUFBLElBQUF6SSxFQUFBakIsRUFBQWlCLElBQ0EsRUFBQXlJLEVBQUEsT0FBQXpJLEVBQ0EsS0FBQXlJLEdBQUEsaUJBQUF6SSxRQUFBMEksV0FBQSxPQUFBMUksRUFDQSxJQUFBMkksRUFBQS9LLE9BQUFnTCxPQUFBLE1BR0EsR0FGQTdKLEVBQUFzSixFQUFBTSxHQUNBL0ssT0FBQXFDLGVBQUEwSSxFQUFBLFdBQXlDOUksWUFBQSxFQUFBRyxVQUN6QyxFQUFBeUksR0FBQSxpQkFBQXpJLEVBQUEsUUFBQTZJLEtBQUE3SSxFQUFBakIsRUFBQW1KLEVBQUFTLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQTdJLEVBQUE2SSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBNUosRUFBQWdLLEVBQUEsU0FBQXRGLEdBQ0EsSUFBQTBFLEVBQUExRSxLQUFBaUYsV0FDQSxXQUEyQixPQUFBakYsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBMUUsRUFBQW1KLEVBQUFDLEVBQUEsSUFBQUEsR0FDQUEsR0FJQXBKLEVBQUFxSixFQUFBLFNBQUFZLEVBQUFDLEdBQXNELE9BQUFyTCxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBaUwsRUFBQUMsSUFHdERsSyxFQUFBNEMsRUFBQSxJQUdBNUMsRUFBQXdELEVBQUEsV0FBc0MsT0FBQWhFLEdBSXRDSyxFQUFBLEVBQUFBLENBQUFHLEVBQUFtSyxFQUFBLHNCQzl3QkF6RixFQUFBMEQsUUFBQXBJLEVBQUEsRUFBQUEsRUFBQSxJQUtBTyxNQUFBbUUsRUFBQTdDLEVBQUEsOFRBQW1WLHVCQ0xuVjZDLEVBQUEwRCxRQUFBcEksRUFBQSxFQUFBQSxFQUFBLElBS0FPLE1BQUFtRSxFQUFBN0MsRUFBQSx5ZEFBOGUsc0JDQTllLElBRUE1QixFQUNBbUssRUFIQUMsS0FXQUMsR0FUQXJLLEVBU0EsV0FNQSxPQUFBMUIsUUFBQW9GLG1CQUFBNEcsTUFBQWhNLE9BQUFpTSxNQVpBLFdBRUEsWUFEQSxJQUFBSixNQUFBbkssRUFBQW1DLE1BQUFxSSxLQUFBQyxZQUNBTixJQWlCQU8sRUFBQSxTQUFBMUssR0FDQSxJQUFBbUssS0FFQSxnQkFBQVEsR0FNQSxzQkFBQUEsRUFDQSxPQUFBQSxJQUVBLFlBQUFSLEVBQUFRLEdBQUEsQ0FDQSxJQUFBQyxFQWpCQSxTQUFBRCxHQUNBLE9BQUFqSCxTQUFBbUgsY0FBQUYsSUFnQkE1TCxLQUFBeUwsS0FBQUcsR0FFQSxHQUFBck0sT0FBQXdNLG1CQUFBRixhQUFBdE0sT0FBQXdNLGtCQUNBLElBR0FGLElBQUFHLGdCQUFBdEgsS0FDSyxNQUFBdkMsR0FDTDBKLEVBQUEsS0FHQVQsRUFBQVEsR0FBQUMsRUFFQSxPQUFBVCxFQUFBUSxJQTFCQSxHQThCQUssRUFBQSxLQUNBQyxFQUFBLEVBQ0FDLEtBRUFDLEVBQUFwTCxFQUFBLEdBcURBLFNBQUFxTCxFQUFBQyxFQUFBL0csR0FDQSxRQUFBMUMsRUFBQSxFQUFnQkEsRUFBQXlKLEVBQUF4SixPQUFtQkQsSUFBQSxDQUNuQyxJQUFBbUUsRUFBQXNGLEVBQUF6SixHQUNBMEosRUFBQWxCLEVBQUFyRSxFQUFBOUQsSUFFQSxHQUFBcUosRUFBQSxDQUNBQSxFQUFBQyxPQUVBLFFBQUEvRyxFQUFBLEVBQWlCQSxFQUFBOEcsRUFBQUUsTUFBQTNKLE9BQTJCMkMsSUFDNUM4RyxFQUFBRSxNQUFBaEgsR0FBQXVCLEVBQUF5RixNQUFBaEgsSUFHQSxLQUFRQSxFQUFBdUIsRUFBQXlGLE1BQUEzSixPQUF1QjJDLElBQy9COEcsRUFBQUUsTUFBQWxMLEtBQUFtTCxFQUFBMUYsRUFBQXlGLE1BQUFoSCxHQUFBRixRQUVHLENBQ0gsSUFBQWtILEtBRUEsSUFBQWhILEVBQUEsRUFBaUJBLEVBQUF1QixFQUFBeUYsTUFBQTNKLE9BQXVCMkMsSUFDeENnSCxFQUFBbEwsS0FBQW1MLEVBQUExRixFQUFBeUYsTUFBQWhILEdBQUFGLElBR0E4RixFQUFBckUsRUFBQTlELEtBQTJCQSxHQUFBOEQsRUFBQTlELEdBQUFzSixLQUFBLEVBQUFDLFdBSzNCLFNBQUFFLEVBQUFDLEVBQUFySCxHQUlBLElBSEEsSUFBQStHLEtBQ0FPLEtBRUFoSyxFQUFBLEVBQWdCQSxFQUFBK0osRUFBQTlKLE9BQWlCRCxJQUFBLENBQ2pDLElBQUFtRSxFQUFBNEYsRUFBQS9KLEdBQ0FLLEVBQUFxQyxFQUFBdUgsS0FBQTlGLEVBQUEsR0FBQXpCLEVBQUF1SCxLQUFBOUYsRUFBQSxHQUlBK0YsR0FBY0MsSUFIZGhHLEVBQUEsR0FHY2lHLE1BRmRqRyxFQUFBLEdBRWNrRyxVQURkbEcsRUFBQSxJQUdBNkYsRUFBQTNKLEdBQ0EySixFQUFBM0osR0FBQXVKLE1BQUFsTCxLQUFBd0wsR0FEQVQsRUFBQS9LLEtBQUFzTCxFQUFBM0osSUFBa0RBLEtBQUF1SixPQUFBTSxLQUlsRCxPQUFBVCxFQUdBLFNBQUFhLEVBQUE1SCxFQUFBNkgsR0FDQSxJQUFBeEIsRUFBQUQsRUFBQXBHLEVBQUE4SCxZQUVBLElBQUF6QixFQUNBLFVBQUF2SSxNQUFBLCtHQUdBLElBQUFpSyxFQUFBbkIsSUFBQXJKLE9BQUEsR0FFQSxXQUFBeUMsRUFBQWdJLFNBQ0FELEVBRUdBLEVBQUFFLFlBQ0g1QixFQUFBNkIsYUFBQUwsRUFBQUUsRUFBQUUsYUFFQTVCLEVBQUEzRyxZQUFBbUksR0FKQXhCLEVBQUE2QixhQUFBTCxFQUFBeEIsRUFBQThCLFlBTUF2QixFQUFBNUssS0FBQTZMLFFBQ0UsY0FBQTdILEVBQUFnSSxTQUNGM0IsRUFBQTNHLFlBQUFtSSxPQUNFLHFCQUFBN0gsRUFBQWdJLFdBQUFoSSxFQUFBZ0ksU0FBQUksT0FJRixVQUFBdEssTUFBQSw4TEFIQSxJQUFBbUssRUFBQTdCLEVBQUFwRyxFQUFBOEgsV0FBQSxJQUFBOUgsRUFBQWdJLFNBQUFJLFFBQ0EvQixFQUFBNkIsYUFBQUwsRUFBQUksSUFNQSxTQUFBSSxFQUFBUixHQUNBLFVBQUFBLEVBQUFTLFdBQUEsU0FDQVQsRUFBQVMsV0FBQUMsWUFBQVYsR0FFQSxJQUFBdEYsRUFBQXFFLEVBQUE3SyxRQUFBOEwsR0FDQXRGLEdBQUEsR0FDQXFFLEVBQUF4RCxPQUFBYixFQUFBLEdBSUEsU0FBQWlHLEVBQUF4SSxHQUNBLElBQUE2SCxFQUFBekksU0FBQUcsY0FBQSxTQU9BLE9BTEFTLEVBQUF5SSxNQUFBMUgsS0FBQSxXQUVBMkgsRUFBQWIsRUFBQTdILEVBQUF5SSxPQUNBYixFQUFBNUgsRUFBQTZILEdBRUFBLEVBZUEsU0FBQWEsRUFBQUMsRUFBQUYsR0FDQW5PLE9BQUFvSSxLQUFBK0YsR0FBQTlGLFFBQUEsU0FBQTRDLEdBQ0FvRCxFQUFBQyxhQUFBckQsRUFBQWtELEVBQUFsRCxNQUlBLFNBQUE0QixFQUFBMEIsRUFBQTdJLEdBQ0EsSUFBQTZILEVBQUFqSixFQUFBa0ssRUFBQWhKLEVBR0EsR0FBQUUsRUFBQStJLFdBQUFGLEVBQUFwQixJQUFBLENBR0EsS0FGQTNILEVBQUFFLEVBQUErSSxVQUFBRixFQUFBcEIsTUFTQSxvQkFKQW9CLEVBQUFwQixJQUFBM0gsRUFVQSxHQUFBRSxFQUFBMEcsVUFBQSxDQUNBLElBQUFzQyxFQUFBckMsSUFFQWtCLEVBQUFuQixNQUFBOEIsRUFBQXhJLElBRUFwQixFQUFBcUssRUFBQXpELEtBQUEsS0FBQXFDLEVBQUFtQixHQUFBLEdBQ0FGLEVBQUFHLEVBQUF6RCxLQUFBLEtBQUFxQyxFQUFBbUIsR0FBQSxRQUdBSCxFQUFBbEIsV0FDQSxtQkFBQXVCLEtBQ0EsbUJBQUFBLElBQUFDLGlCQUNBLG1CQUFBRCxJQUFBRSxpQkFDQSxtQkFBQUMsTUFDQSxtQkFBQUMsTUFFQXpCLEVBdERBLFNBQUE3SCxHQUNBLElBQUF1SixFQUFBbkssU0FBQUcsY0FBQSxRQVFBLE9BTkFTLEVBQUF5SSxNQUFBMUgsS0FBQSxXQUNBZixFQUFBeUksTUFBQWUsSUFBQSxhQUVBZCxFQUFBYSxFQUFBdkosRUFBQXlJLE9BQ0FiLEVBQUE1SCxFQUFBdUosR0FFQUEsRUE2Q0FFLENBQUF6SixHQUNBcEIsRUFpRkEsU0FBQTJLLEVBQUF2SixFQUFBNkksR0FDQSxJQUFBcEIsRUFBQW9CLEVBQUFwQixJQUNBRSxFQUFBa0IsRUFBQWxCLFVBUUErQixPQUFBakYsSUFBQXpFLEVBQUEySix1QkFBQWhDLEdBRUEzSCxFQUFBMkosdUJBQUFELEtBQ0FqQyxFQUFBWixFQUFBWSxJQUdBRSxJQUVBRixHQUFBLHVEQUF1RDZCLEtBQUFNLFNBQUFDLG1CQUFBaEwsS0FBQWlMLFVBQUFuQyxNQUFBLE9BR3ZELElBQUFvQyxFQUFBLElBQUFWLE1BQUE1QixJQUE2QjFHLEtBQUEsYUFFN0JpSixFQUFBVCxFQUFBVSxLQUVBVixFQUFBVSxLQUFBZixJQUFBQyxnQkFBQVksR0FFQUMsR0FBQWQsSUFBQUUsZ0JBQUFZLElBNUdBeEUsS0FBQSxLQUFBcUMsRUFBQTdILEdBQ0E4SSxFQUFBLFdBQ0FULEVBQUFSLEdBRUFBLEVBQUFvQyxNQUFBZixJQUFBRSxnQkFBQXZCLEVBQUFvQyxTQUdBcEMsRUFBQVcsRUFBQXhJLEdBQ0FwQixFQXNEQSxTQUFBaUosRUFBQWdCLEdBQ0EsSUFBQXBCLEVBQUFvQixFQUFBcEIsSUFDQUMsRUFBQW1CLEVBQUFuQixNQUVBQSxHQUNBRyxFQUFBZSxhQUFBLFFBQUFsQixHQUdBLEdBQUFHLEVBQUFxQyxXQUNBckMsRUFBQXFDLFdBQUFDLFFBQUExQyxNQUNFLENBQ0YsS0FBQUksRUFBQU0sWUFDQU4sRUFBQVUsWUFBQVYsRUFBQU0sWUFHQU4sRUFBQW5JLFlBQUFOLFNBQUFnTCxlQUFBM0MsTUFyRUFqQyxLQUFBLEtBQUFxQyxHQUNBaUIsRUFBQSxXQUNBVCxFQUFBUixLQU1BLE9BRkFqSixFQUFBaUssR0FFQSxTQUFBd0IsR0FDQSxHQUFBQSxFQUFBLENBQ0EsR0FDQUEsRUFBQTVDLE1BQUFvQixFQUFBcEIsS0FDQTRDLEVBQUEzQyxRQUFBbUIsRUFBQW5CLE9BQ0EyQyxFQUFBMUMsWUFBQWtCLEVBQUFsQixVQUVBLE9BR0EvSSxFQUFBaUssRUFBQXdCLFFBRUF2QixLQXJPQTNJLEVBQUEwRCxRQUFBLFNBQUF3RCxFQUFBckgsR0FDQSx1QkFBQXNLLGNBQ0EsaUJBQUFsTCxTQUFBLFVBQUF0QixNQUFBLGlFQUdBa0MsU0FFQXlJLE1BQUEsaUJBQUF6SSxFQUFBeUksTUFBQXpJLEVBQUF5SSxTQUlBekksRUFBQTBHLFdBQUEsa0JBQUExRyxFQUFBMEcsWUFBQTFHLEVBQUEwRyxVQUFBWCxLQUdBL0YsRUFBQThILGFBQUE5SCxFQUFBOEgsV0FBQSxRQUdBOUgsRUFBQWdJLFdBQUFoSSxFQUFBZ0ksU0FBQSxVQUVBLElBQUFqQixFQUFBSyxFQUFBQyxFQUFBckgsR0FJQSxPQUZBOEcsRUFBQUMsRUFBQS9HLEdBRUEsU0FBQXVLLEdBR0EsSUFGQSxJQUFBQyxLQUVBbE4sRUFBQSxFQUFpQkEsRUFBQXlKLEVBQUF4SixPQUFtQkQsSUFBQSxDQUNwQyxJQUFBbUUsRUFBQXNGLEVBQUF6SixJQUNBMEosRUFBQWxCLEVBQUFyRSxFQUFBOUQsS0FFQXNKLE9BQ0F1RCxFQUFBeE8sS0FBQWdMLEdBR0F1RCxHQUVBekQsRUFEQU0sRUFBQW1ELEVBQUF2SyxHQUNBQSxHQUdBLElBQUExQyxFQUFBLEVBQWlCQSxFQUFBa04sRUFBQWpOLE9BQXNCRCxJQUFBLENBQ3ZDLElBQUEwSixFQUVBLFFBRkFBLEVBQUF3RCxFQUFBbE4sSUFFQTJKLEtBQUEsQ0FDQSxRQUFBL0csRUFBQSxFQUFtQkEsRUFBQThHLEVBQUFFLE1BQUEzSixPQUEyQjJDLElBQUE4RyxFQUFBRSxNQUFBaEgsWUFFOUM0RixFQUFBa0IsRUFBQXJKLFFBNkxBLElBQ0E4TSxFQURBQyxHQUNBRCxLQUVBLFNBQUFFLEVBQUFDLEdBR0EsT0FGQUgsRUFBQUUsR0FBQUMsRUFFQUgsRUFBQUksT0FBQUMsU0FBQTlJLEtBQUEsUUFJQSxTQUFBaUgsRUFBQXBCLEVBQUE4QyxFQUFBN0IsRUFBQUQsR0FDQSxJQUFBcEIsRUFBQXFCLEVBQUEsR0FBQUQsRUFBQXBCLElBRUEsR0FBQUksRUFBQXFDLFdBQ0FyQyxFQUFBcUMsV0FBQUMsUUFBQU8sRUFBQUMsRUFBQWxELE9BQ0UsQ0FDRixJQUFBc0QsRUFBQTNMLFNBQUFnTCxlQUFBM0MsR0FDQXVELEVBQUFuRCxFQUFBbUQsV0FFQUEsRUFBQUwsSUFBQTlDLEVBQUFVLFlBQUF5QyxFQUFBTCxJQUVBSyxFQUFBek4sT0FDQXNLLEVBQUFLLGFBQUE2QyxFQUFBQyxFQUFBTCxJQUVBOUMsRUFBQW5JLFlBQUFxTCxvQkM5VEE1SyxFQUFBMEQsUUFBQSxTQUFBb0gsR0FDQSxJQUFBNUQsS0F3Q0EsT0FyQ0FBLEVBQUE2RCxTQUFBLFdBQ0EsT0FBQWhGLEtBQUF6RixJQUFBLFNBQUFnQixHQUNBLElBQUEwSixFQXNDQSxTQUFBMUosRUFBQXdKLEdBQ0EsSUFBQUUsRUFBQTFKLEVBQUEsT0FDQTJKLEVBQUEzSixFQUFBLEdBQ0EsSUFBQTJKLEVBQ0EsT0FBQUQsRUFHQSxHQUFBRixHQUFBLG1CQUFBM0IsS0FBQSxDQUNBLElBQUErQixHQVlBMUQsRUFaQXlELEVBaUJBLG1FQUhBOUIsS0FBQU0sU0FBQUMsbUJBQUFoTCxLQUFBaUwsVUFBQW5DLE1BR0EsT0FoQkEyRCxFQUFBRixFQUFBRyxRQUFBOUssSUFBQSxTQUFBK0ssR0FDQSx1QkFBQUosRUFBQUssV0FBQUQsRUFBQSxRQUdBLE9BQUFMLEdBQUEvSixPQUFBa0ssR0FBQWxLLFFBQUFpSyxJQUFBckosS0FBQSxNQU9BLElBQUEyRixFQUpBLE9BQUF3RCxHQUFBbkosS0FBQSxNQXREQTBKLENBQUFqSyxFQUFBd0osR0FDQSxPQUFBeEosRUFBQSxHQUNBLFVBQUFBLEVBQUEsT0FBbUMwSixFQUFBLElBRW5DQSxJQUVHbkosS0FBQSxLQUlIcUYsRUFBQS9KLEVBQUEsU0FBQStGLEVBQUFzSSxHQUNBLGlCQUFBdEksSUFDQUEsSUFBQSxLQUFBQSxFQUFBLE1BRUEsSUFEQSxJQUFBdUksS0FDQXRPLEVBQUEsRUFBZ0JBLEVBQUE0SSxLQUFBM0ksT0FBaUJELElBQUEsQ0FDakMsSUFBQUssRUFBQXVJLEtBQUE1SSxHQUFBLEdBQ0EsaUJBQUFLLElBQ0FpTyxFQUFBak8sSUFBQSxHQUVBLElBQUFMLEVBQUEsRUFBWUEsRUFBQStGLEVBQUE5RixPQUFvQkQsSUFBQSxDQUNoQyxJQUFBbUUsRUFBQTRCLEVBQUEvRixHQUtBLGlCQUFBbUUsRUFBQSxJQUFBbUssRUFBQW5LLEVBQUEsTUFDQWtLLElBQUFsSyxFQUFBLEdBQ0FBLEVBQUEsR0FBQWtLLEVBQ0tBLElBQ0xsSyxFQUFBLE9BQUFBLEVBQUEsYUFBQWtLLEVBQUEsS0FFQXRFLEVBQUFyTCxLQUFBeUYsTUFJQTRGLDhDQzlDQXdFLEVBQ0FDLGFBQUF6UCxLQUFrQkEsRUFBQTBQLGFBQ2xCN0YsS0FBQTdKLE9BQ0E2SixLQUFBNkYsU0FBQSxNQU1BN0YsS0FBQThGLGFBRUEsUUFDQSxVQUdBLE1BQ0EsTUFDQSxRQUdBLFFBQ0EsVUFHQSxNQUNBLE1BQ0EsT0FHQTlGLEtBQUErRixjQUFBLEVBR0FDLGVBQ0EsT0FBQWhHLEtBQUE4RixVQUFBOUYsS0FBQStGLGVBR0FILGFBQ0E1RixLQUFBK0YsZ0JBRUEvRixLQUFBK0YsY0FBQSxJQUNBL0YsS0FBQStGLGNBQUEsR0FJQUgsY0FDQTVGLEtBQUErRixnQkFFQS9GLEtBQUErRixjQUFBLElBQ0EvRixLQUFBK0YsY0FBQSxJQ3hDQSxNQUFBRSxFQUFBLE9BQ0FDLEVBQUEsUUFDQUMsRUFBQSxTQUNBQyxFQUFBLEdBRUFDLEdBQ0Esa0JDWkFWLEVBQ0FDLGFBQUF6UCxLQUFrQkEsRUFBQTBQLGFBQ2xCUyxPQUFlblEsS0FBQSxJQUFBMFAsTUFBQSxRQU1mN0YsS0FBQThGLGFBRUEsSUFDQSxJQUNBLElBQ0EsTUFHQSxZQUdBLElBQ0EsSUFDQSxJQUNBLE1BR0EsYURaQSxrQkViQUgsRUFDQUMsYUFBQXpQLEtBQWtCQSxFQUFBMFAsYUFDbEJTLE9BQWVuUSxLQUFBLElBQUEwUCxNQUFBLFlBTWY3RixLQUFBOEYsYUFFQSxRQUNBLFVBR0EsTUFDQSxNQUNBLFFBR0EsUUFDQSxVQUdBLE1BQ0EsTUFDQSxTRlhBLGtCR2RBSCxFQUNBQyxhQUFBelAsS0FBa0JBLEVBQUEwUCxhQUNsQlMsT0FBZW5RLEtBQUEsSUFBQTBQLE1BQUEsV0FNZjdGLEtBQUE4RixhQUVBLFFBQ0EsVUFHQSxNQUNBLE1BQ0EsUUFHQSxRQUNBLFVBR0EsTUFDQSxNQUNBLFNIVkEsa0JJZkFILEVBQ0FDLGFBQUF6UCxLQUFrQkEsRUFBQTBQLGFBQ2xCUyxPQUFlblEsS0FBQSxJQUFBMFAsTUFBQSxTQU1mN0YsS0FBQThGLGFBRUEsTUFDQSxRQUdBLE1BQ0EsUUFHQSxNQUNBLFFBR0EsTUFDQSxTSlBBLGtCS2hCQUgsRUFDQUMsYUFBQXpQLEtBQWtCQSxFQUFBMFAsYUFDbEJTLE9BQWVuUSxLQUFBLElBQUEwUCxNQUFBLFNBTWY3RixLQUFBOEYsYUFFQSxRQUNBLFVBR0EsTUFDQSxNQUNBLFFBR0EsUUFDQSxVQUdBLE1BQ0EsTUFDQSxTTFJBLGtCTWpCQUgsRUFDQUMsYUFBQXpQLEtBQWtCQSxFQUFBMFAsYUFDbEJTLE9BQWVuUSxLQUFBLElBQUEwUCxNQUFBLFdBTWY3RixLQUFBOEYsYUFFQSxRQUNBLFVBR0EsTUFDQSxNQUNBLFFBR0EsUUFDQSxVQUdBLE1BQ0EsTUFDQSxTTlBBLGtCT2xCQUgsRUFDQUMsYUFBQXpQLEtBQWtCQSxFQUFBMFAsYUFDbEJTLE9BQWVuUSxLQUFBLElBQUEwUCxNQUFBLFVBTWY3RixLQUFBOEYsYUFFQSxRQUNBLFVBR0EsTUFDQSxNQUNBLFFBR0EsUUFDQSxVQUdBLE1BQ0EsTUFDQSxVUEpBUyxFQUFBLFVBRUFDLEVBQ0FaLGFBQUFhLFNBQWtCQSxFQUFBLEdBQUFDLFdBQUEsR0FBQUMsZ0JBQUFDLGdCQUFBQyxtQkFDbEI3RyxLQUFBeUcsV0FDQXpHLEtBQUEwRyxXQUNBMUcsS0FBQTJHLGlCQUFBLEVBQ0EzRyxLQUFBNEcsaUJBQUEsRUFDQTVHLEtBQUE4RyxZQUFBLEVBQ0E5RyxLQUFBK0csV0FBQSxFQUNBL0csS0FBQWdILFVBQUFULEVBQ0F2RyxLQUFBaUgsTUFBQSxLQUNBakgsS0FBQWtILE9BQ0FsSCxLQUFBbUgsT0FDQW5ILEtBQUFvSCxTQUFBLEtBQ0FwSCxLQUFBcUgsVUFBQWQsRUFDQXZHLEtBQUE2RyxjQUNBN0csS0FBQXNILFVBQUEsS0FDQXRILEtBQUF1SCxhQUFBLEtBQ0EsTUFBQUMsS0FFQSxRQUFBM0ksRUFBQSxFQUF1QkEsRUFBQTZILEVBQWM3SCxJQUNyQzJJLEVBQUExUixLQUFBLElBQUEyUixNQUFBaEIsR0FBQWlCLEtBQUF0QixJQUdBcEcsS0FBQXdILFNBRUF4SCxLQUFBNkcsYUFBQSxtQkFBQTdHLEtBQUE2RyxZQUFBYyxXQUNBM0gsS0FBQTZHLFlBQUFjLFVBQUEzSCxLQUFBd0gsUUFJQTVCLFdBQUFnQyxHQUNBNUgsS0FBQXNILFVBQUFNLEVBR0FoQyxjQUFBaUMsR0FDQTdILEtBQUF1SCxhQUFBTSxFQUdBakMsY0FDQTVGLEtBQUF3SCxPQUFBL0ssUUFBQXFMLEtBQUFKLEtBQUF0QixJQUdBUixvQkFDQSxNQUFBcUIsTUFBZUEsRUFBQUMsU0FBQUMsVUFBd0JuSCxLQUN2QyxHQUFBaUgsRUFBQSxDQUdBLE9BRkFqSCxLQUFBaUgsTUFBQWpCLFNBRUErQixPQUFBLENBQUE1RyxFQUFBNkcsRUFBQUMsS0FDQSxRQUFBQyxFQUFBLEVBQWlDQSxFQUFBRixFQUFBM1EsT0FBa0I2USxJQUFBLENBQ25ELE1BQUFDLEVBQUFILEVBQUFFLEdBQ0EsSUFBQUMsR0FBQSxJQUFBQSxHQUNBaEgsRUFBQXJMLE1BQ0FzUyxFQUFBbEIsRUFBQWdCLEVBQ0FHLEVBQUFsQixFQUFBYyxFQUNBcEMsTUFBQW9CLEVBQUFwQixRQUtBLE9BQUExRSxRQU9BeUUsY0FBQTBDLE1BQW1CQSxHQUFBLE9BQ25CLE1BQUE3QixTQUFlQSxFQUFBQyxZQUFxQjFHLEtBQ3BDdUksRUFBQXZJLEtBQUF3SSxvQkFFQSxHQUFBRCxFQUFBLENBTUEsR0FMQUEsRUFBQUUsS0FBQW5OLElBQ0EsTUFBQThNLEVBQXVCQSxFQUFBQyxLQUFPL00sRUFDOUIsT0FBQThNLEVBQUEsR0FBQUEsRUFBQTNCLEVBQUEsR0FBQTRCLEVBQUEsR0FBQUEsRUFBQTNCLEVBQUEsSUFJQSxTQUdBLEdBQUE0QixFQUFBLENBR0EsR0FGQUMsRUFBQUcsTUFBQXBOLEdBQUEwRSxLQUFBd0gsT0FBQWxNLEVBQUErTSxHQUFBL00sRUFBQThNLEtBQUFoQyxHQUlBLE9BREFtQyxFQUFBOUwsUUFBQW5CLEdBQUEwRSxLQUFBd0gsT0FBQWxNLEVBQUErTSxHQUFBL00sRUFBQThNLEdBQUFoQyxJQUNBLE1BRWEsQ0FHYixHQUZBbUMsRUFBQUcsTUFBQXBOLEdBQUEwRSxLQUFBd0gsT0FBQWxNLEVBQUErTSxHQUFBL00sRUFBQThNLEtBQUFoQyxHQUlBLE9BREFtQyxFQUFBOUwsUUFBQW5CLEdBQUEwRSxLQUFBd0gsT0FBQWxNLEVBQUErTSxHQUFBL00sRUFBQThNLEdBQUE5TSxFQUFBdUssUUFDQSxHQUtBLFNBR0FELFVBQUF3QyxFQUFlQSxFQUFBQyxTQUNmLE1BQUFNLEVBQUF0QyxFQUFBaFAsT0FDQXVSLEVBQUFDLEtBQUFDLE1BQUFELEtBQUFFLFNBQUFKLEdBS0EsT0FKQTNJLEtBQUFpSCxNQUFBWixFQUFBdUMsR0FDQTVJLEtBQUFrSCxPQUFBa0IsR0FBQXBJLEtBQUEyRyxjQUNBM0csS0FBQW1ILE9BQUFrQixHQUFBckksS0FBQTRHLGdCQUVBNUcsS0FBQWdKLGlCQUNBaEosS0FBQWlKLHFCQUNBLEdBT0FyRCxXQUFBc0QsVUFBZ0JBLE9BQ2hCLElBQUFsSixLQUFBK0csVUFDQSxTQUdBLEdBQUEvRyxLQUFBZ0osY0FBK0JWLE9BQUEsSUFBYyxDQVM3QyxHQVJBWSxJQUFBakQsRUFDQWpHLEtBQUFrSCxTQUNhZ0MsSUFBQWhELEVBQ2JsRyxLQUFBa0gsU0FDYWdDLElBQUEvQyxHQUNibkcsS0FBQW1ILFNBR0FuSCxLQUFBZ0osZUFZQSxPQURBaEosS0FBQWlKLHFCQUNBLEVBWEFDLElBQUFqRCxFQUNBakcsS0FBQWtILFNBQ2lCZ0MsSUFBQWhELEVBQ2pCbEcsS0FBQWtILFNBQ2lCZ0MsSUFBQS9DLEdBQ2pCbkcsS0FBQW1ILFNBR0FuSCxLQUFBZ0osZUFPQSxTQUdBcEQsV0FDQSxPQUFBNUYsS0FBQW1KLFdBQStCRCxVQUFBakQsSUFHL0JMLFlBQ0EsT0FBQTVGLEtBQUFtSixXQUErQkQsVUFBQWhELElBRy9CTixXQUNBLE1BQUF3RCxFQUFBcEosS0FBQW1KLFdBQTZDRCxVQUFBL0MsSUFFN0MsSUFBQWlELEVBQUEsQ0FDQSxNQUFBQyxFQUFBckosS0FBQXNKLGlCQUVBRCxHQUNBckosS0FBQXVILGNBQUEsbUJBQUF2SCxLQUFBdUgsYUFBQTdPLFFBQ0FzSCxLQUFBdUgsYUFBQTdPLE9BQUEyUSxHQUtBLE9BQUFELEVBR0F4RCxPQUNBLElBQUE1RixLQUFBK0csVUFDQSxTQUdBLEtBQUEvRyxLQUFBdUosY0FNQTNELGFBQUFzRCxVQUFrQkEsT0FDbEIsSUFBQWxKLEtBQUErRyxVQUNBLFNBR0EsR0FBQS9HLEtBQUFnSixjQUErQlYsT0FBQSxJQUFjLENBTzdDLEdBTkFZLElBQUFqRCxFQUNBakcsS0FBQWlILE1BQUF1QyxhQUNhTixJQUFBaEQsR0FDYmxHLEtBQUFpSCxNQUFBd0MsY0FHQXpKLEtBQUFnSixlQVVBLE9BREFoSixLQUFBaUoscUJBQ0EsRUFUQUMsSUFBQWpELEVBQ0FqRyxLQUFBaUgsTUFBQXdDLGNBQ2lCUCxJQUFBaEQsR0FDakJsRyxLQUFBaUgsTUFBQXVDLGFBR0F4SixLQUFBZ0osZUFPQSxTQUdBcEQsYUFDQSxPQUFBNUYsS0FBQTBKLGFBQWlDUixVQUFBakQsSUFHakNMLGNBQ0EsT0FBQTVGLEtBQUEwSixhQUFpQ1IsVUFBQWhELElBR2pDTixvQkFDQTVGLEtBQUE2RyxhQUFBLG1CQUFBN0csS0FBQTZHLFlBQUFuTyxRQUNBc0gsS0FBQTZHLFlBQUFuTyxTQUlBa04sUUFDQTVGLEtBQUErRyxXQUFBLEVBRUEvRyxLQUFBOEcsYUFDQTlHLEtBQUEySixjQUNBM0osS0FBQWlKLG9CQUNBakosS0FBQThHLFlBQUEsRUFDQTlHLEtBQUFnSCxVQUFBVCxHQUdBdkcsS0FBQWlILE9BQ0FqSCxLQUFBNEosV0FHQTVKLEtBQUE2SixXQUdBakUsT0FDQTVGLEtBQUErRyxXQUFBLEVBQ0ErQyxxQkFBQTlKLEtBQUFvSCxVQUdBeEIsaUJBQ0EsSUFBQW1FLEVBQUEsRUFDQTlCLEVBQUFqSSxLQUFBMEcsU0FBQSxFQUVBLEtBQUF1QixHQUFBLElBQ0FqSSxLQUFBd0gsT0FBQVMsR0FBQVMsTUFBQXNCLE9BQUE1RCxJQUdBcEcsS0FBQWlLLGVBQUFoQyxHQUNBOEIsS0FFQTlCLElBSUEsT0FBQThCLEVBR0FuRSxlQUFBbkIsR0FDQSxNQUFBZ0MsU0FBZUEsR0FBV3pHLEtBRTFCLFFBQUFpSSxFQUFBeEQsRUFBNkJ3RCxFQUFBLEVBQVNBLElBQ3RDLE9BQUFBLEVBQ0FqSSxLQUFBd0gsT0FBQVMsR0FBQVAsS0FBQXRCLFFBRUEsUUFBQTRELEVBQUEsRUFBa0NBLEVBQUF2RCxFQUFpQnVELElBQ25EaEssS0FBQXdILE9BQUFTLEdBQUErQixHQUFBaEssS0FBQXdILE9BQUFTLEVBQUEsR0FBQStCLEdBS0FoSyxLQUFBaUosb0JBR0FyRCxTQUFBeUIsR0FDQSxHQUFBQSxFQUFBckgsS0FBQXFILFVBQUFySCxLQUFBZ0gsWUFDQWhILEtBQUFxSCxhQUNBckgsS0FBQXVKLFlBQUEsQ0FDQSxJQUFBdkosS0FBQTRKLFdBS0EsWUFEQTVKLEtBQUFrSyxXQUZBSixxQkFBQTlKLEtBQUFvSCxVQVFBcEgsS0FBQW9ILFNBQUErQyxzQkFBQW5MLEdBQUFnQixLQUFBNkosU0FBQTdLLElBR0E0RyxXQUNBNUYsS0FBQXFILFVBQUFkLEVBQ0F2RyxLQUFBOEcsWUFBQSxFQUNBOUcsS0FBQW9LLE9BQ0FwSyxLQUFBc0gsV0FBQSxtQkFBQXRILEtBQUFzSCxVQUFBK0MsUUFDQXJLLEtBQUFzSCxVQUFBK0MsU0FJQXpFLFVBQ0E1RixLQUFBZ0gsVUFBQTZCLEtBQUF5QixNQUFBdEssS0FBQWdILFVBQUEsVVEvVUF1RCxFQUNBM0UsYUFBQWEsU0FBa0JBLEVBQUEsR0FBQUMsV0FBQSxHQUFBdEUsYUFBQW9JLE9BQUFoRCxjQUNsQnhILEtBQUF5RyxXQUNBekcsS0FBQTBHLFdBQ0ExRyxLQUFBb0MsYUFDQXBDLEtBQUF5SyxNQUFBdlIsU0FBQUcsY0FBQSxTQUNBMkcsS0FBQXlLLE1BQUFDLFVBQUEsVUFDQTFLLEtBQUF3SCxTQUVBeEgsS0FBQTJLLE9BQ0EzSyxLQUFBNEssZUFHQWhGLGVBQ0EsTUFBQXhELFdBQWVBLEVBQUFxSSxTQUFvQnpLLEtBRW5Db0MsR0FBQSxtQkFBQUEsRUFBQTVJLGFBQ0FpUixFQUFBckksZ0JBQ0FBLEVBQUE1SSxZQUFBaVIsR0FLQTdFLE9BQ0EsTUFBQWEsU0FBZUEsRUFBQUMsV0FBQStELFNBQTRCekssS0FDM0M2SyxFQUFBM1IsU0FBQUcsY0FBQSxTQUVBLFFBQUF3RixFQUFBLEVBQXVCQSxFQUFBNkgsRUFBYzdILElBQUEsQ0FDckMsTUFBQWlNLEVBQUE1UixTQUFBRyxjQUFBLE1BRUEsUUFBQVAsRUFBQSxFQUEyQkEsRUFBQTJOLEVBQWMzTixJQUFBLENBQ3pDLE1BQUFpUyxFQUFBN1IsU0FBQUcsY0FBQSxNQUNBeVIsRUFBQXRSLFlBQUF1UixHQUdBRixFQUFBclIsWUFBQXNSLEdBR0FMLEVBQUFqUixZQUFBcVIsR0FHQWpGLFVBQUE0QixHQUNBeEgsS0FBQXdILFNBR0E1QixTQUNBLE1BQUE0QixFQUFBeEgsS0FBQXdILE9BQ0EsUUFBQVMsRUFBQSxFQUF5QkEsRUFBQVQsRUFBQW5RLE9BQXFCNFEsSUFDOUMsUUFBQStDLEVBQUEsRUFBNkJBLEVBQUF4RCxFQUFBUyxHQUFBNVEsT0FBMEIyVCxJQUFBLENBQ3ZELE1BQUFDLEVBQUF6RCxFQUFBUyxHQUFBK0MsSUFBQSxjQUNBaEwsS0FBQXlLLE1BQUFTLEtBQUFqRCxHQUFBSCxNQUFBa0QsR0FBQXJKLE1BQUF3SixnQkFBQUYsVUM1QkFHLEVBQ0F4RixhQUFBeUYsV0FBa0JBLEVBQUFDLGNBQUFDLGFBQUFDLGVBQUFDLGdCQUFBQyxVQUFBQyxTQUFBQyxTQUFBeEosa0JBQ2xCcEMsS0FBQTBMLFVBQ0ExTCxLQUFBMkwsU0FDQTNMLEtBQUE0TCxTQUNBNUwsS0FBQXFMLGFBQ0FyTCxLQUFBc0wsY0FDQXRMLEtBQUF1TCxhQUNBdkwsS0FBQXdMLGVBQ0F4TCxLQUFBeUwsZ0JBQ0F6TCxLQUFBb0MsYUFFQXBDLEtBQUE2TCxTQUdBakcsY0FBQWtHLE1BQW1CQSxFQUFBM1YsT0FBQTRWLFVBQUFDLFdBQUFDLFVBQ25CLE1BQUFDLEVBQUFoVCxTQUFBRyxjQUFBLFVBZUEsT0FiQTZTLEVBQUF4SixhQUFBLE9BQUF2TSxHQUNBK1YsRUFBQXhKLGFBQUEsaUJBQ0F3SixFQUFBeEosYUFBQSxRQUFBdUosR0FDQUMsRUFBQTFTLFlBQUFOLFNBQUFnTCxlQUFBNEgsSUFFQSxtQkFBQUMsR0FDQUcsRUFBQUMsaUJBQUEsUUFBQUosR0FHQUMsR0FDQUUsRUFBQXhKLGFBQUEsZUFHQXdKLEVBR0F0RyxhQUFBelAsS0FBa0JBLEVBQUE2VixhQUNsQixNQUFBSSxFQUFBbFQsU0FBQW1ULFlBQUFELFNBQ0EsUUFBQWhWLEVBQUEsRUFBQXdHLEVBQUF3TyxFQUFBL1UsT0FBNENELEVBQUF3RyxFQUFPeEcsSUFBQSxDQUNuRCxNQUFBcUwsRUFBQTJKLEVBQUFoVixHQUNBcUwsRUFBQXRNLFNBQ0E2VixFQUNBdkosRUFBQUMsYUFBQSxlQUVBRCxFQUFBNkosZ0JBQUEsWUFHQU4sRUFDQXZKLEVBQUE2SixnQkFBQSxZQUVBN0osRUFBQUMsYUFBQSxnQkFNQWtELFVBQ0E1RixLQUFBdU0sYUFBMEJwVyxLQUFBLFFBQUE2VixVQUFBLElBRzFCcEcsU0FDQTVGLEtBQUF1TSxhQUEwQnBXLEtBQUEsUUFBQTZWLFVBQUEsSUFHMUJwRyxTQUNBLE1BQUE0RyxFQUFBdFQsU0FBQUcsY0FBQSxRQUNBbVQsRUFBQXJXLEtBQUEsY0FDQXFXLEVBQUE5QixVQUFBLGVBRUEsTUFBQStCLEVBQUF6TSxLQUFBME0sY0FDQVosTUFBQSxjQUNBM1YsS0FBQSxhQUNBOFYsTUFBQSxlQUNBRixRQUFBL0wsS0FBQXdMLGFBQ0FRLFVBQUEsSUFFQVcsRUFBQTNNLEtBQUEwTSxjQUNBWixNQUFBLGVBQ0EzVixLQUFBLGNBQ0E4VixNQUFBLGVBQ0FGLFFBQUEvTCxLQUFBeUwsY0FDQU8sVUFBQSxJQUVBWSxFQUFBNU0sS0FBQTBNLGNBQ0FaLE1BQUEsWUFDQTNWLEtBQUEsV0FDQThWLE1BQUEsMkJBQ0FGLFFBQUEvTCxLQUFBcUwsV0FDQVcsVUFBQSxJQUVBYSxFQUFBN00sS0FBQTBNLGNBQ0FaLE1BQUEsYUFDQTNWLEtBQUEsWUFDQThWLE1BQUEsNEJBQ0FGLFFBQUEvTCxLQUFBc0wsWUFDQVUsVUFBQSxJQUVBYyxFQUFBOU0sS0FBQTBNLGNBQ0FaLE1BQUEsUUFDQTNWLEtBQUEsUUFDQTRWLFNBQUEsS0FDQS9MLEtBQUEwTCxVQUNBMUwsS0FBQStNLFlBQ2F6TixLQUFBVSxRQUViZ04sRUFBQWhOLEtBQUEwTSxjQUNBWixNQUFBLE9BQ0EzVixLQUFBLE9BQ0E0VixTQUFBLEtBQ0EvTCxLQUFBMkwsU0FDQTNMLEtBQUFxSyxXQUNhL0ssS0FBQVUsTUFDYmdNLFVBQUEsSUFFQWlCLEVBQUFqTixLQUFBME0sY0FDQVosTUFBQSxhQUNBM1YsS0FBQSxZQUNBOFYsTUFBQSwwQkFDQUYsUUFBQS9MLEtBQUE0TCxPQUNBSSxVQUFBLElBRUFrQixFQUFBbE4sS0FBQTBNLGNBQ0FaLE1BQUEsWUFDQTNWLEtBQUEsV0FDQThWLE1BQUEsNkJBQ0FGLFFBQUEvTCxLQUFBdUwsV0FDQVMsVUFBQSxJQUdBbUIsRUFBQWpVLFNBQUFHLGNBQUEsT0FDQThULEVBQUEzVCxZQUFBc1QsR0FDQUssRUFBQTNULFlBQUF3VCxHQUVBLE1BQUFJLEVBQUFsVSxTQUFBRyxjQUFBLE9BQ0ErVCxFQUFBNVQsWUFBQWlULEdBQ0FXLEVBQUE1VCxZQUFBeVQsR0FDQUcsRUFBQTVULFlBQUFtVCxHQUVBLE1BQUFVLEVBQUFuVSxTQUFBRyxjQUFBLE9BQ0FnVSxFQUFBN1QsWUFBQW9ULEdBQ0FTLEVBQUE3VCxZQUFBMFQsR0FDQUcsRUFBQTdULFlBQUFxVCxHQUVBTCxFQUFBaFQsWUFBQTJULEdBQ0FYLEVBQUFoVCxZQUFBNFQsR0FDQVosRUFBQWhULFlBQUE2VCxHQUVBck4sS0FBQW9DLFdBQUE1SSxZQUFBZ1QsR0FHQTVHLFNBQUEwSCxHQUNBLE9BQUFDLE1BQUFwRixNQUNBLGdCQUNBLGNBQ0EsV0FDQW5JLEtBQUFxTCxhQUNBLE1BQ0EsaUJBQ0EsY0FDQSxXQUNBckwsS0FBQXNMLGNBQ0EsTUFDQSxjQUNBLGNBQ0EsV0FDQXRMLEtBQUE0TCxTQUNBLE1BQ0EsZ0JBQ0EsY0FDQSxjQUNBLFdBQ0E1TCxLQUFBdUwsYUFDQSxNQUNBLGNBQ0EsV0FDQXZMLEtBQUF3TCxlQUNBLE1BQ0EsY0FDQSxXQUNBeEwsS0FBQXlMLGlCQUtBN0Ysa0JBQ0ExTSxTQUFBc1UsS0FBQXJCLGlCQUFBLFFBQUFtQixHQUFBdE4sS0FBQXlOLFNBQUFILEtDN01BLE1BQUFJLEdBQ0EsSUFDQSxJQUNBLElBQ0EsWUFjQUMsRUFDQS9ILGFBQUF4RCxXQUFrQkEsRUFBQXdMLGlCQUNsQjVOLEtBQUFvQyxhQUNBcEMsS0FBQTZOLE1BQUEsRUFDQTdOLEtBQUE4TixNQUFBLEVBQ0E5TixLQUFBK04sTUFBQSxFQUNBL04sS0FBQWdPLFNBQUEsS0FDQWhPLEtBQUFpTyxTQUFBLEtBQ0FqTyxLQUFBa08sU0FBQSxLQUNBbE8sS0FBQTROLFlBRUE1TixLQUFBNkwsU0FHQWpHLFVBQ0E1RixLQUFBNk4sUUFDQTdOLEtBQUFnTyxTQUFBRyxVQUFBbk8sS0FBQTZOLE1BQ0E3TixLQUFBNE4sWUFHQWhJLFlBQUFrSSxHQUNBOU4sS0FBQThOLE1BQUE5TixLQUFBOE4sUUFDQTlOLEtBQUFpTyxTQUFBRSxVQUFBbk8sS0FBQThOLE1BR0FsSSxZQUFBbUksR0FDQS9OLEtBQUErTixNQUFBL04sS0FBQStOLFFBQ0EvTixLQUFBa08sU0FBQUMsVUFBQW5PLEtBQUErTixNQUdBbkksT0FBQW1JLEdBQ0EvTixLQUFBb08sWUFBQUwsR0FDQS9OLEtBQUFxTyxZQUFBWCxFQUFBSyxFQUFBLElBRUFsRixLQUFBQyxNQUFBOUksS0FBQStOLE1BQUEsTUFFQS9OLEtBQUE2TixPQUNBN04sS0FBQXNPLFVBSUExSSxTQUNBLE1BQUE0RyxFQUFBdFQsU0FBQUcsY0FBQSxPQUNBbVQsRUFBQTlCLFVBQUEsY0FFQSxNQUFBNkQsRUFBQXJWLFNBQUFHLGNBQUEsVUFDQWtWLEVBQUEvVSxZQUFBTixTQUFBZ0wsZUFBQSxXQUNBbEUsS0FBQWdPLFNBQUE5VSxTQUFBRyxjQUFBLE9BQ0EyRyxLQUFBZ08sU0FBQUcsVUFBQW5PLEtBQUE2TixNQUVBLE1BQUFXLEVBQUF0VixTQUFBRyxjQUFBLFVBQ0FtVixFQUFBaFYsWUFBQU4sU0FBQWdMLGVBQUEsV0FDQWxFLEtBQUFpTyxTQUFBL1UsU0FBQUcsY0FBQSxPQUNBMkcsS0FBQWlPLFNBQUFFLFVBQUFuTyxLQUFBOE4sTUFFQSxNQUFBVyxFQUFBdlYsU0FBQUcsY0FBQSxVQUNBb1YsRUFBQWpWLFlBQUFOLFNBQUFnTCxlQUFBLFdBQ0FsRSxLQUFBa08sU0FBQWhWLFNBQUFHLGNBQUEsT0FDQTJHLEtBQUFrTyxTQUFBQyxVQUFBbk8sS0FBQStOLE1BRUF2QixFQUFBaFQsWUFBQStVLEdBQ0EvQixFQUFBaFQsWUFBQXdHLEtBQUFnTyxVQUNBeEIsRUFBQWhULFlBQUFnVixHQUNBaEMsRUFBQWhULFlBQUF3RyxLQUFBaU8sVUFDQXpCLEVBQUFoVCxZQUFBaVYsR0FDQWpDLEVBQUFoVCxZQUFBd0csS0FBQWtPLFVBRUFsTyxLQUFBb0MsV0FBQTVJLFlBQUFnVCxjQzNEQTFZLE9BQUFxWSxpQkFBQSxtQkFuQkEsV0FDQSxNQUFBdUMsRUFBQXhWLFNBQUF5VixlQUFBLFVBQ0FsRSxFQUFBLElBQUFGLEdBQTZCOUQsU0FBQSxHQUFBQyxTQUFBLEdBQUF0RSxXQUFBc00sSUFDN0JsRSxFQUFBLElBQUFoRSxHQUNBQyxTQUFBLEdBQ0FDLFNBQUEsR0FDQUMsY0FBQSxFQUNBQyxjQUFBLEVBQ0FDLFlBQUE0RCxLRmZBLFVBQUFELEtBQW1DQSxFQUFBcEksZUFDbkMsTUFBQXdGLEVBQUEsSUFBQXdELEdBQ0FDLFdBQUEsSUFBQWIsRUFBQW9FLFdBQ0F0RCxZQUFBLElBQUFkLEVBQUFxRSxZQUNBdEQsV0FBQSxJQUFBZixFQUFBakIsV0FDQWlDLGFBQUEsSUFBQWhCLEVBQUFoQixhQUNBaUMsY0FBQSxJQUFBakIsRUFBQWYsY0FDQWlDLFFBQUEsSUFBQWxCLEVBQUFzRSxRQUNBbkQsT0FBQSxJQUFBbkIsRUFBQUosT0FDQXdCLE9BQUEsS0FDQXBCLEVBQUF1RSxRQUNBdkUsRUFBQVosWUFHQXhILGVBS0EsT0FGQW9JLEVBQUF3RSxXQUFBcEgsR0FFQUEsR0VBQXFILEVBQXVDekUsT0FBQXBJLFdBRHZDbEosU0FBQXlWLGVBQUEsa0JBRUFPLGtCRGJBLFVBQUExRSxLQUFzQ0EsRUFBQXBJLGVBQ3RDLE1BQUF5RixFQUFBLElBQUE4RixHQUNBdkwsYUFDQXdMLFVBQUEsSUFBQXBELEVBQUEyRSxZQUdBM0UsRUFBQTRFLGNBQUF2SCxHQ1VBd0gsRUFBd0M3RSxPQUFBcEksV0FEeENsSixTQUFBeVYsZUFBQSxtQ0NyQkEsSUFBQTFKLEVBQUExUCxFQUFBLEdBRUEsaUJBQUEwUCxRQUFBaEwsRUFBQTdDLEVBQUE2TixFQUFBLE1BT0EsSUFBQW5MLEdBQWV3VixLQUFBLEVBRWZ6TSxlQVBBQSxFQVFBakIsZ0JBQUFyRCxHQUVBN0YsRUFBQW5ELEVBQUEsRUFBQUEsQ0FBQTBQLEVBQUFuTCxHQUVBbUwsRUFBQXNLLFNBQUF0VixFQUFBMEQsUUFBQXNILEVBQUFzSyxRQUdBdFYsRUFBQXZFLElBQUFtSSxPQUFBLFdBQUEyUixJQUFBLFdBQ0EsSUFBQUMsRUFBQWxhLEVBQUEsR0FpQkEsR0FmQSxpQkFBQWthLFFBQUF4VixFQUFBN0MsRUFBQXFZLEVBQUEsT0FFQSxTQUFBcFUsRUFBQUMsR0FDQSxJQUFBK0QsRUFBQWhELEVBQUEsRUFFQSxJQUFBZ0QsS0FBQWhFLEVBQUEsQ0FDQSxJQUFBQyxHQUFBRCxFQUFBZ0UsS0FBQS9ELEVBQUErRCxHQUFBLFNBQ0FoRCxJQUdBLElBQUFnRCxLQUFBL0QsRUFBQWUsSUFFQSxXQUFBQSxFQVZBLENBV0c0SSxFQUFBc0ssT0FBQUUsRUFBQUYsUUFFSCxVQUFBM1gsTUFBQSx1REFFQWMsRUFBQStXLEdBcEJBLEtBdUJBeFYsRUFBQXZFLElBQUF1SSxRQUFBLFdBQWdDdkYscUJDN0JoQ3VCLEVBQUEwRCxRQUFBLFNBQUE0RCxHQUVBLElBQUFtTyxFQUFBLG9CQUFBNWIsZUFBQTRiLFNBRUEsSUFBQUEsRUFDQSxVQUFBOVgsTUFBQSxvQ0FJQSxJQUFBMkosR0FBQSxpQkFBQUEsRUFDQSxPQUFBQSxFQUdBLElBQUFvTyxFQUFBRCxFQUFBRSxTQUFBLEtBQUFGLEVBQUFHLEtBQ0FDLEVBQUFILEVBQUFELEVBQUFLLFNBQUFDLFFBQUEsaUJBMkRBLE9BL0JBek8sRUFBQXlPLFFBQUEsK0RBQUFDLEVBQUFDLEdBRUEsSUFXQUMsRUFYQUMsRUFBQUYsRUFDQUcsT0FDQUwsUUFBQSxvQkFBQXBSLEVBQUEwUixHQUF3QyxPQUFBQSxJQUN4Q04sUUFBQSxvQkFBQXBSLEVBQUEwUixHQUF3QyxPQUFBQSxJQUd4QywwREFBQUMsS0FBQUgsR0FDQUgsR0FRQUUsRUFGQSxJQUFBQyxFQUFBdmEsUUFBQSxNQUVBdWEsRUFDRyxJQUFBQSxFQUFBdmEsUUFBQSxLQUVIOFosRUFBQVMsRUFHQU4sRUFBQU0sRUFBQUosUUFBQSxZQUlBLE9BQUFyWCxLQUFBaUwsVUFBQXVNLEdBQUEseUJDbEZBLElBQUFsTCxFQUFBMVAsRUFBQSxHQUVBLGlCQUFBMFAsUUFBQWhMLEVBQUE3QyxFQUFBNk4sRUFBQSxNQU9BLElBQUFuTCxHQUFld1YsS0FBQSxFQUVmek0sZUFQQUEsRUFRQWpCLGdCQUFBckQsR0FFQTdGLEVBQUFuRCxFQUFBLEVBQUFBLENBQUEwUCxFQUFBbkwsR0FFQW1MLEVBQUFzSyxTQUFBdFYsRUFBQTBELFFBQUFzSCxFQUFBc0ssUUFHQXRWLEVBQUF2RSxJQUFBbUksT0FBQSxXQUFBMlIsSUFBQSxXQUNBLElBQUFDLEVBQUFsYSxFQUFBLEdBaUJBLEdBZkEsaUJBQUFrYSxRQUFBeFYsRUFBQTdDLEVBQUFxWSxFQUFBLE9BRUEsU0FBQXBVLEVBQUFDLEdBQ0EsSUFBQStELEVBQUFoRCxFQUFBLEVBRUEsSUFBQWdELEtBQUFoRSxFQUFBLENBQ0EsSUFBQUMsR0FBQUQsRUFBQWdFLEtBQUEvRCxFQUFBK0QsR0FBQSxTQUNBaEQsSUFHQSxJQUFBZ0QsS0FBQS9ELEVBQUFlLElBRUEsV0FBQUEsRUFWQSxDQVdHNEksRUFBQXNLLE9BQUFFLEVBQUFGLFFBRUgsVUFBQTNYLE1BQUEsdURBRUFjLEVBQUErVyxHQXBCQSxLQXVCQXhWLEVBQUF2RSxJQUFBdUksUUFBQSxXQUFnQ3ZGIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcbiBcdFx0O1xuIFx0XHRoZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImQ0NzJhMDRmMWJhNGFlZTQ5OGQyXCI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiBcdFx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbiBcdFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGRlcCA9PT0gXCJ1bmRlZmluZWRcIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XG4gXHRcdFx0e1xuIFx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdC8qKiBAdHlwZSB7RXJyb3J8ZmFsc2V9ICovXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0KVxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSg0KShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA0KTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwidGFibGUuZ3JpZC0yZCB7XFxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcbiAgYm9yZGVyOiAycHggc29saWQgIzQ0NDtcXG4gIG1hcmdpbi1ib3R0b206IDA7IH1cXG4gIHRhYmxlLmdyaWQtMmQgdGQge1xcbiAgICBwYWRkaW5nOiAwO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xcbiAgICBoZWlnaHQ6IDI0cHg7XFxuICAgIHdpZHRoOiAyNHB4OyB9XFxuXFxuZm9ybS5jb250cm9sLWZvcm0gYnV0dG9uIHtcXG4gIG1hcmdpbi1yaWdodDogNnB4OyB9XFxuXFxuZm9ybS5jb250cm9sLWZvcm0gOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAwOyB9XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93OyB9XFxuXFxuLm1haW4tcGFuZWwge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cXG5cXG4uY29udHJvbC1wYW5lbCB7XFxuICBwYWRkaW5nOiA2cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOyB9XFxuXFxuLnNpZGUtcGFuZWwge1xcbiAgbWFyZ2luLWxlZnQ6IDEycHg7IH1cXG5cXG4uc2lkZS1wYW5lbCBkaXYge1xcbiAgbWFyZ2luLWJvdHRvbTogMTJweDsgfVxcblxcbi5zY29yZS1wYW5lbCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDAwO1xcbiAgcGFkZGluZzogNnB4IDEycHg7IH1cXG5cXG4uc2NvcmUtcGFuZWwgZGl2IHtcXG4gIG1pbi13aWR0aDogMTIwcHg7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjODg4O1xcbiAgcGFkZGluZy1ib3R0b206IDZweDsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvciB8fCBcInJlZFwiO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDIsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdOyAvLyBEZWZhdWx0IExcbiAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGlvbnNbdGhpcy5yb3RhdGlvbkluZGV4XTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0ICgpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4LS07XG5cbiAgICAgICAgaWYgKHRoaXMucm90YXRpb25JbmRleCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25JbmRleCA9IDM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb3RhdGVSaWdodCAoKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25JbmRleCsrO1xuXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW9uSW5kZXggPiAzKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IEkgZnJvbSBcIi4vSVwiO1xuaW1wb3J0IEogZnJvbSBcIi4vSlwiO1xuaW1wb3J0IEwgZnJvbSBcIi4vTFwiO1xuaW1wb3J0IE8gZnJvbSBcIi4vT1wiO1xuaW1wb3J0IFMgZnJvbSBcIi4vU1wiO1xuaW1wb3J0IFQgZnJvbSBcIi4vVFwiO1xuaW1wb3J0IFogZnJvbSBcIi4vWlwiO1xuXG5leHBvcnQgY29uc3QgTEVGVCA9IFwibGVmdFwiO1xuZXhwb3J0IGNvbnN0IFJJR0hUID0gXCJyaWdodFwiO1xuZXhwb3J0IGNvbnN0IEJPVFRPTSA9IFwiYm90dG9tXCI7XG5leHBvcnQgY29uc3QgRU1QVFkgPSBcIlwiO1xuXG5jb25zdCBURVRST1MgPSBbXG4gICAgbmV3IEkoKSxcbiAgICBuZXcgSigpLFxuICAgIG5ldyBMKCksXG4gICAgbmV3IE8oKSxcbiAgICBuZXcgUygpLFxuICAgIG5ldyBUKCksXG4gICAgbmV3IFooKVxuXTtcblxuY29uc3QgREVGQVVMVF9USU1FU1RBTVAgPSAzMDAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBudW1PZkNvbCA9IDEwLCBudW1PZlJvdyA9IDIwLCBkZWZhdWx0VGV0cm9YLCBkZWZhdWx0VGV0cm9ZLCB1aUNvbXBvbmVudCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5udW1PZkNvbCA9IG51bU9mQ29sO1xuICAgICAgICB0aGlzLm51bU9mUm93ID0gbnVtT2ZSb3c7XG4gICAgICAgIHRoaXMuZGVmYXVsdFRldHJvWCA9IGRlZmF1bHRUZXRyb1ggfHwgMDtcbiAgICAgICAgdGhpcy5kZWZhdWx0VGV0cm9ZID0gZGVmYXVsdFRldHJvWSB8fCAwO1xuICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbGwgPSBERUZBVUxUX1RJTUVTVEFNUDsgLy8gMyBzZWMuXG4gICAgICAgIHRoaXMudGV0cm8gPSBudWxsO1xuICAgICAgICB0aGlzLnRldHJvWDtcbiAgICAgICAgdGhpcy50ZXRyb1k7XG4gICAgICAgIHRoaXMudGltZXJLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IERFRkFVTFRfVElNRVNUQU1QO1xuICAgICAgICB0aGlzLnVpQ29tcG9uZW50ID0gdWlDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudWlDb250cm9sID0gbnVsbDsgLy8gc2V0IGJ5IHNldENvbnRyb2wgYWZ0ZXIgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgdGhpcy51aVNjb3JlUGFuZWwgPSBudWxsOyAvLyBzZXQgYnkgc2V0U2NvcmVQYW5lbCBhZnRlciBpbml0aWFsaXphdGlvblxuICAgICAgICBjb25zdCBtYXRyaXggPSBbXTtcblxuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG51bU9mUm93OyByKyspIHtcbiAgICAgICAgICAgIG1hdHJpeC5wdXNoKG5ldyBBcnJheShudW1PZkNvbCkuZmlsbChFTVBUWSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKHRoaXMudWlDb21wb25lbnQgJiYgdHlwZW9mIHRoaXMudWlDb21wb25lbnQuc2V0TWF0cml4ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnQuc2V0TWF0cml4KHRoaXMubWF0cml4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbnRyb2wgKGNvbnRyb2wpIHtcbiAgICAgICAgdGhpcy51aUNvbnRyb2wgPSBjb250cm9sO1xuICAgIH1cblxuICAgIHNldFNjb3JlUGFuZWwgKHNjb3JlUGFuZWwpIHtcbiAgICAgICAgdGhpcy51aVNjb3JlUGFuZWwgPSBzY29yZVBhbmVsO1xuICAgIH1cblxuICAgIHJlc2V0TWF0cml4ICgpIHtcbiAgICAgICAgdGhpcy5tYXRyaXguZm9yRWFjaChjZWxscyA9PiBjZWxscy5maWxsKEVNUFRZKSk7XG4gICAgfVxuXG4gICAgZ2V0VGV0cm9Qb3NpdGlvbnMgKCkge1xuICAgICAgICBjb25zdCB7IHRldHJvLCB0ZXRyb1gsIHRldHJvWSB9ID0gdGhpcztcbiAgICAgICAgaWYgKHRldHJvKSB7XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMudGV0cm8ucm90YXRpb247XG5cbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbi5yZWR1Y2UoKGxpc3QsIHBvcywgcm93KSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgcG9zLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IHBvc1tjb2xdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMSB8fCBjb2RlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRldHJvWCArIGNvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0ZXRyb1kgKyByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRldHJvLmNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB1cGRhdGVNYXRyaXggKHsgcmVzZXQgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBudW1PZkNvbCwgbnVtT2ZSb3cgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGJsb2NrUG9zaXRpb25zID0gdGhpcy5nZXRUZXRyb1Bvc2l0aW9ucygpO1xuXG4gICAgICAgIGlmIChibG9ja1Bvc2l0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZGFyeSA9IGJsb2NrUG9zaXRpb25zLnNvbWUoKGIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHggPCAwIHx8IHggPiBudW1PZkNvbCAtIDEgfHwgeSA8IDAgfHwgeSA+IG51bU9mUm93IC0xO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChvdXRPZkJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5SZXNldCA9IGJsb2NrUG9zaXRpb25zLmV2ZXJ5KGIgPT4gdGhpcy5tYXRyaXhbYi55XVtiLnhdICE9PSBFTVBUWSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2FuUmVzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tQb3NpdGlvbnMuZm9yRWFjaChiID0+IHRoaXMubWF0cml4W2IueV1bYi54XSA9IEVNUFRZKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5Nb3ZlID0gYmxvY2tQb3NpdGlvbnMuZXZlcnkoYiA9PiB0aGlzLm1hdHJpeFtiLnldW2IueF0gPT09IEVNUFRZKTtcblxuICAgICAgICAgICAgICAgIGlmIChjYW5Nb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUG9zaXRpb25zLmZvckVhY2goYiA9PiB0aGlzLm1hdHJpeFtiLnldW2IueF0gPSBiLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFkZFRldHJvICh7IHgsIHkgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IFRFVFJPUy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHJhbmQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW4pO1xuICAgICAgICB0aGlzLnRldHJvID0gVEVUUk9TW3JhbmRdO1xuICAgICAgICB0aGlzLnRldHJvWCA9IHggfHwgdGhpcy5kZWZhdWx0VGV0cm9YO1xuICAgICAgICB0aGlzLnRldHJvWSA9IHkgfHwgdGhpcy5kZWZhdWx0VGV0cm9ZO1xuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBkaXJlY3Rpb24gPSBbbGVmdCwgcmlnaHQsIGRvd25dXG4gICAgbW92ZVRldHJvICh7IGRpcmVjdGlvbiB9ID0ge30pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlTWF0cml4KHsgcmVzZXQ6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRldHJvWC0tO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1grKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBCT1RUT00pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRldHJvWSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMudXBkYXRlTWF0cml4KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV0cm9YKys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV0cm9YLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IEJPVFRPTSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVWlDb21wb25lbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlTGVmdCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmVUZXRybyh7IGRpcmVjdGlvbjogTEVGVCB9KTtcbiAgICB9XG5cbiAgICBtb3ZlUmlnaHQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlVGV0cm8oeyBkaXJlY3Rpb246IFJJR0hUIH0pO1xuICAgIH1cblxuICAgIG1vdmVEb3duICgpIHtcbiAgICAgICAgY29uc3QgaGFzTW92ZWREb3duID0gdGhpcy5tb3ZlVGV0cm8oeyBkaXJlY3Rpb246IEJPVFRPTSB9KTtcblxuICAgICAgICBpZiAoIWhhc01vdmVkRG93bikge1xuICAgICAgICAgICAgY29uc3QgbGluZXNSZW1vdmVkID0gdGhpcy5jaGVja0Z1bGxMaW5lcygpO1xuXG4gICAgICAgICAgICBpZiAobGluZXNSZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudWlTY29yZVBhbmVsICYmIHR5cGVvZiB0aGlzLnVpU2NvcmVQYW5lbC51cGRhdGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU2NvcmVQYW5lbC51cGRhdGUobGluZXNSZW1vdmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFzTW92ZWREb3duO1xuICAgIH1cblxuICAgIGRyb3AgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodGhpcy5tb3ZlRG93bigpKSB7XG4gICAgICAgICAgICAvLyBrZWVwIGxvb3BpbmcgdW50aWwgdW5hYmxlIHRvIGdvIGRvd25cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpcmVjdGlvbiA9IFtsZWZ0LCByaWdodF1cbiAgICByb3RhdGVUZXRybyAoeyBkaXJlY3Rpb24gfSA9IHt9KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCh7IHJlc2V0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyby5yb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZVJpZ2h0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy51cGRhdGVNYXRyaXgoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyby5yb3RhdGVSaWdodCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcm90YXRlTGVmdCAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0ZVRldHJvKHsgZGlyZWN0aW9uOiBMRUZUIH0pO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlVGV0cm8oeyBkaXJlY3Rpb246IFJJR0hUIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVVpQ29tcG9uZW50ICgpIHtcbiAgICAgICAgaWYgKHRoaXMudWlDb21wb25lbnQgJiYgdHlwZW9mIHRoaXMudWlDb21wb25lbnQudXBkYXRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnQudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMuaXNTdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5pc0dhbWVPdmVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0TWF0cml4KCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICB0aGlzLmlzR2FtZU92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxsID0gREVGQVVMVF9USU1FU1RBTVA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV0cm8pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGV0cm8oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJvcHBpbmcoKTtcbiAgICB9XG5cbiAgICBzdG9wICgpIHtcbiAgICAgICAgdGhpcy5pc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lcktleSk7XG4gICAgfVxuXG4gICAgY2hlY2tGdWxsTGluZXMgKCkge1xuICAgICAgICBsZXQgbnVtT2ZGdWxsTGluZXMgPSAwO1xuICAgICAgICBsZXQgcm93ID0gdGhpcy5udW1PZlJvdyAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHJvdyA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBpc0Z1bGxMaW5lID0gdGhpcy5tYXRyaXhbcm93XS5ldmVyeShjZWxsID0+IGNlbGwgIT09IEVNUFRZKTtcblxuICAgICAgICAgICAgaWYgKGlzRnVsbExpbmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lKHJvdyk7XG4gICAgICAgICAgICAgICAgbnVtT2ZGdWxsTGluZXMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm93LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVtT2ZGdWxsTGluZXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlRnVsbExpbmUgKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgbnVtT2ZDb2wgfSA9IHRoaXM7XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gaW5kZXg7IHJvdyA+IDA7IHJvdy0tKSB7XG4gICAgICAgICAgICBpZiAocm93ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXRyaXhbcm93XS5maWxsKEVNUFRZKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY2VsbCA9IDA7IGNlbGwgPCBudW1PZkNvbDsgY2VsbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF0cml4W3Jvd11bY2VsbF0gPSB0aGlzLm1hdHJpeFtyb3cgLSAxXVtjZWxsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgfVxuXG4gICAgZHJvcHBpbmcgKHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAodGltZXN0YW1wIC0gdGhpcy50aW1lc3RhbXAgPiB0aGlzLmludGVydmFsbCkge1xuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICBpZiAoIXRoaXMubW92ZURvd24oKSkge1xuICAgICAgICAgICAgICBpZiAodGhpcy5hZGRUZXRybygpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aW1lclxuICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy50aW1lcktleSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGltZXJLZXkgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHQpID0+IHRoaXMuZHJvcHBpbmcodCkpO1xuICAgIH1cblxuICAgIGdhbWVPdmVyICgpIHtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBERUZBVUxUX1RJTUVTVEFNUDtcbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIGlmICh0aGlzLnVpQ29udHJvbCAmJiB0eXBlb2YgdGhpcy51aUNvbnRyb2wuc3RvcFVJID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMudWlDb250cm9sLnN0b3BVSSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3BlZWRVcCAoKSB7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxsID0gTWF0aC5yb3VuZCh0aGlzLmludGVydmFsbCAvIDIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEkgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiSVwiLCBjb2xvcjogXCJyZWRcIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbM10sXG4gICAgICAgICAgICAgICAgWzFdLFxuICAgICAgICAgICAgICAgIFsxXSxcbiAgICAgICAgICAgICAgICBbMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDMsIDEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszXSxcbiAgICAgICAgICAgICAgICBbMV0sXG4gICAgICAgICAgICAgICAgWzFdLFxuICAgICAgICAgICAgICAgIFsxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMSwgMywgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIkpcIiwgY29sb3I6IFwibWFnZW50YVwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDIsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAwXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEwgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiTFwiLCBjb2xvcjogXCJ5ZWxsb3dcIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDAsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzXSxcbiAgICAgICAgICAgICAgICBbMCwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAyLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIk9cIiwgY29sb3I6IFwiY3lhblwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIlNcIiwgY29sb3I6IFwiYmx1ZVwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDMsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAwXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFQgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiVFwiLCBjb2xvcjogXCJzaWx2ZXJcIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzXSxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cm9taW5vIGZyb20gJy4vVGV0cm9taW5vJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaIGV4dGVuZHMgVGV0cm9taW5vIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBuYW1lLCBjb2xvciB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoeyBuYW1lOiBcIlpcIiwgY29sb3I6IFwiZ3JlZW5cIiB9KTtcblxuICAgICAgICAvLyAzID0+IFt4LCB5XSBhbmQgU29saWRcbiAgICAgICAgLy8gMiA9PiBbeCwgeV0gYW5kIEVtcHR5XG4gICAgICAgIC8vIDEgPT4gU29saWRcbiAgICAgICAgLy8gMCA9PiBFbXB0eVxuICAgICAgICB0aGlzLnJvdGF0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMF0sXG4gICAgICAgICAgICAgICAgWzAsIDEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFswLCAzXSxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF1cbiAgICAgICAgICAgIF1cbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSB7XG4gICAgY29uc3RydWN0b3IgKHsgbnVtT2ZDb2wgPSAxMCwgbnVtT2ZSb3cgPSAyMCwgcGFyZW50Tm9kZSwgZ3JpZCwgbWF0cml4IH0gPSB7fSkge1xuICAgICAgICB0aGlzLm51bU9mQ29sID0gbnVtT2ZDb2w7XG4gICAgICAgIHRoaXMubnVtT2ZSb3cgPSBudW1PZlJvdztcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTsgLy8gUGFyZW50IERPTSBFbGVtZW50XG4gICAgICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgIHRoaXMudGFibGUuY2xhc3NOYW1lID0gXCJncmlkLTJkXCI7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB0aGlzLmFwcGVuZFRvUm9vdCgpO1xuICAgIH1cblxuICAgIGFwcGVuZFRvUm9vdCAoKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyZW50Tm9kZSwgdGFibGUgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgdHlwZW9mIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgaWYgKHRhYmxlLnBhcmVudE5vZGUgIT09IHBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXQgKCkge1xuICAgICAgICBjb25zdCB7IG51bU9mQ29sLCBudW1PZlJvdywgdGFibGUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHRCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRib2R5XCIpO1xuXG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgbnVtT2ZSb3c7IHIrKykge1xuICAgICAgICAgICAgY29uc3QgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgbnVtT2ZDb2w7IGMrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xuICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdEJvZHkuYXBwZW5kQ2hpbGQodHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFibGUuYXBwZW5kQ2hpbGQodEJvZHkpO1xuICAgIH1cblxuICAgIHNldE1hdHJpeCAobWF0cml4KSB7XG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuICAgIH1cblxuICAgIHVwZGF0ZSAoKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBtYXRyaXgubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgZm9yIChsZXQgY2VsID0gMDsgY2VsIDwgbWF0cml4W3Jvd10ubGVuZ3RoOyBjZWwrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJnQ29sb3IgPSBtYXRyaXhbcm93XVtjZWxdIHx8IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJvd3Nbcm93XS5jZWxsc1tjZWxdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJvbEZhY3RvcnkoeyBncmlkLCBwYXJlbnROb2RlIH0pIHtcbiAgICBjb25zdCBjb250cm9sID0gbmV3IENvbnRyb2woe1xuICAgICAgICBvbk1vdmVMZWZ0OiAoKSA9PiBncmlkLm1vdmVMZWZ0KCksXG4gICAgICAgIG9uTW92ZVJpZ2h0OiAoKSA9PiBncmlkLm1vdmVSaWdodCgpLFxuICAgICAgICBvbk1vdmVEb3duOiAoKSA9PiBncmlkLm1vdmVEb3duKCksXG4gICAgICAgIG9uUm90YXRlTGVmdDogKCkgPT4gZ3JpZC5yb3RhdGVMZWZ0KCksXG4gICAgICAgIG9uUm90YXRlUmlnaHQ6ICgpID0+IGdyaWQucm90YXRlUmlnaHQoKSxcbiAgICAgICAgb25TdGFydDogKCkgPT4gZ3JpZC5zdGFydCgpLFxuICAgICAgICBvblN0b3A6ICgpID0+IGdyaWQuc3RvcCgpLFxuICAgICAgICBvbkRyb3A6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChncmlkLmRyb3AoKSkge1xuICAgICAgICAgICAgICAgIGdyaWQuYWRkVGV0cm8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50Tm9kZVxuICAgIH0pO1xuXG4gICAgZ3JpZC5zZXRDb250cm9sKGNvbnRyb2wpO1xuXG4gICAgcmV0dXJuIGNvbnRyb2w7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2wge1xuICAgIGNvbnN0cnVjdG9yICh7IG9uTW92ZUxlZnQsIG9uTW92ZVJpZ2h0LCBvbk1vdmVEb3duLCBvblJvdGF0ZUxlZnQsIG9uUm90YXRlUmlnaHQsIG9uU3RhcnQsIG9uU3RvcCwgb25Ecm9wLCBwYXJlbnROb2RlIH0gPSB7fSkge1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBvblN0YXJ0O1xuICAgICAgICB0aGlzLm9uU3RvcCA9IG9uU3RvcDtcbiAgICAgICAgdGhpcy5vbkRyb3AgPSBvbkRyb3A7XG4gICAgICAgIHRoaXMub25Nb3ZlTGVmdCA9IG9uTW92ZUxlZnQ7XG4gICAgICAgIHRoaXMub25Nb3ZlUmlnaHQgPSBvbk1vdmVSaWdodDtcbiAgICAgICAgdGhpcy5vbk1vdmVEb3duID0gb25Nb3ZlRG93bjtcbiAgICAgICAgdGhpcy5vblJvdGF0ZUxlZnQgPSBvblJvdGF0ZUxlZnQ7XG4gICAgICAgIHRoaXMub25Sb3RhdGVSaWdodCA9IG9uUm90YXRlUmlnaHQ7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IHBhcmVudE5vZGU7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVCdXR0b24gKHsgbGFiZWwsIG5hbWUsIG9uQ2xpY2ssIGRpc2FibGVkLCB0aXRsZSB9KSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgbmFtZSk7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgdGl0bGUpO1xuICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWwpKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG5cbiAgICBsb29wQnV0dG9ucyAoeyBuYW1lLCBkaXNhYmxlZCB9KSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuY29udHJvbEZvcm0uZWxlbWVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGVsLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRVSSAoKSB7XG4gICAgICAgIHRoaXMubG9vcEJ1dHRvbnMoeyBuYW1lOiBcInN0YXJ0XCIsIGRpc2FibGVkOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHN0b3BVSSAoKSB7XG4gICAgICAgIHRoaXMubG9vcEJ1dHRvbnMoeyBuYW1lOiBcInN0YXJ0XCIsIGRpc2FibGVkOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIgKCkge1xuICAgICAgICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgaG9sZGVyLm5hbWUgPSBcImNvbnRyb2xGb3JtXCI7XG4gICAgICAgIGhvbGRlci5jbGFzc05hbWUgPSBcImNvbnRyb2wtZm9ybVwiO1xuXG4gICAgICAgIGNvbnN0IHJvdGF0ZUxlZnRCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiUm90YXRlIExlZnRcIixcbiAgICAgICAgICAgIG5hbWU6IFwicm90YXRlTGVmdFwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiUHJlc3MgUSBvciA3XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUm90YXRlTGVmdCxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByb3RhdGVSaWdodEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJSb3RhdGUgUmlnaHRcIixcbiAgICAgICAgICAgIG5hbWU6IFwicm90YXRlUmlnaHRcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlByZXNzIEUgb3IgOVwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vblJvdGF0ZVJpZ2h0LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vdmVMZWZ0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIk1vdmUgTGVmdFwiLFxuICAgICAgICAgICAgbmFtZTogXCJtb3ZlTGVmdFwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiUHJlc3MgQSwgTGVmdCBBcnJvdyBvciA0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uTW92ZUxlZnQsXG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZVJpZ2h0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIk1vdmUgUmlnaHRcIixcbiAgICAgICAgICAgIG5hbWU6IFwibW92ZVJpZ2h0XCIsXG4gICAgICAgICAgICB0aXRsZTogXCJQcmVzcyBELCBSaWdodCBBcnJvdyBvciA2XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uTW92ZVJpZ2h0LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlN0YXJ0XCIsXG4gICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdGFydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRVSSgpO1xuICAgICAgICAgICAgfSkuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RvcEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJTdG9wXCIsXG4gICAgICAgICAgICBuYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BVSSgpO1xuICAgICAgICAgICAgfSkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkcm9wQnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIkRyb3AgVGV0cm9cIixcbiAgICAgICAgICAgIG5hbWU6IFwiZHJvcFRldHJvXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJQcmVzcyBXLCBUb3AgQXJyb3cgb3IgOFwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkRyb3AsXG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZURvd25CdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiTW92ZSBEb3duXCIsXG4gICAgICAgICAgICBuYW1lOiBcIm1vdmVEb3duXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJQcmVzcyBTLCBCb3R0b20gQXJyb3cgb3IgNVwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbk1vdmVEb3duLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgcm93MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJvdzEuYXBwZW5kQ2hpbGQoc3RhcnRCdG4pO1xuICAgICAgICByb3cxLmFwcGVuZENoaWxkKHN0b3BCdG4pO1xuXG4gICAgICAgIGNvbnN0IHJvdzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByb3cyLmFwcGVuZENoaWxkKHJvdGF0ZUxlZnRCdG4pO1xuICAgICAgICByb3cyLmFwcGVuZENoaWxkKGRyb3BCdG4pO1xuICAgICAgICByb3cyLmFwcGVuZENoaWxkKHJvdGF0ZVJpZ2h0QnRuKTtcblxuICAgICAgICBjb25zdCByb3czID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcm93My5hcHBlbmRDaGlsZChtb3ZlTGVmdEJ0bik7XG4gICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQobW92ZURvd25CdG4pO1xuICAgICAgICByb3czLmFwcGVuZENoaWxkKG1vdmVSaWdodEJ0bik7XG5cbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHJvdzEpO1xuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQocm93Mik7XG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChyb3czKTtcblxuICAgICAgICB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaG9sZGVyKTtcbiAgICB9XG5cbiAgICBjaGVja0tleShldikge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJOdW1wYWQ0XCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5QVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3ZlTGVmdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJOdW1wYWQ2XCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5RFwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3ZlUmlnaHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6XG4gICAgICAgICAgICBjYXNlIFwiTnVtcGFkOFwiOlxuICAgICAgICAgICAgY2FzZSBcIktleVdcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uRHJvcCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOlxuICAgICAgICAgICAgY2FzZSBcIk51bXBhZDJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJOdW1wYWQ1XCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5U1wiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3ZlRG93bigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk51bXBhZDdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJLZXlRXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vblJvdGF0ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJOdW1wYWQ5XCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5RVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Sb3RhdGVSaWdodCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkS2V5TGlzdGVuZXJzICgpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2KSA9PiB0aGlzLmNoZWNrS2V5KGV2KSk7XG4gICAgfVxufVxuIiwiY29uc3QgU0NPUkVfQllfTElORVMgPSBbXG4gICAgMTAwLFxuICAgIDMwMCxcbiAgICA5MDAsXG4gICAgMjcwMFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjb3JlUGFuZWxGYWN0b3J5KHsgZ3JpZCwgcGFyZW50Tm9kZSB9KSB7XG4gICAgY29uc3Qgc2NvcmVQYW5lbCA9IG5ldyBTY29yZVBhbmVsKHtcbiAgICAgICAgcGFyZW50Tm9kZSxcbiAgICAgICAgb25MZXZlbFVwOiAoKSA9PiBncmlkLnNwZWVkVXAoKVxuICAgIH0pO1xuXG4gICAgZ3JpZC5zZXRTY29yZVBhbmVsKHNjb3JlUGFuZWwpO1xuXG4gICAgcmV0dXJuIHNjb3JlUGFuZWw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JlUGFuZWwge1xuICAgIGNvbnN0cnVjdG9yICh7IHBhcmVudE5vZGUsIG9uTGV2ZWxVcCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTtcbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgICAgIHRoaXMuc2NvcmUgPSAwO1xuICAgICAgICB0aGlzLmxpbmVzID0gMDtcbiAgICAgICAgdGhpcy5sZXZlbERpdiA9IG51bGw7XG4gICAgICAgIHRoaXMuc2NvcmVEaXYgPSBudWxsO1xuICAgICAgICB0aGlzLmxpbmVzRGl2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkxldmVsVXAgPSBvbkxldmVsVXA7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBsZXZlbFVwICgpIHtcbiAgICAgICAgdGhpcy5sZXZlbCsrO1xuICAgICAgICB0aGlzLmxldmVsRGl2LmlubmVyVGV4dCA9IHRoaXMubGV2ZWw7XG4gICAgICAgIHRoaXMub25MZXZlbFVwKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlU2NvcmUgKHNjb3JlKSB7XG4gICAgICAgIHRoaXMuc2NvcmUgPSB0aGlzLnNjb3JlICsgc2NvcmU7XG4gICAgICAgIHRoaXMuc2NvcmVEaXYuaW5uZXJUZXh0ID0gdGhpcy5zY29yZTtcbiAgICB9XG5cbiAgICB1cGRhdGVMaW5lcyAobGluZXMpIHtcbiAgICAgICAgdGhpcy5saW5lcyA9IHRoaXMubGluZXMgKyBsaW5lcztcbiAgICAgICAgdGhpcy5saW5lc0Rpdi5pbm5lclRleHQgPSB0aGlzLmxpbmVzO1xuICAgIH1cblxuICAgIHVwZGF0ZSAobGluZXMpIHtcbiAgICAgICAgdGhpcy51cGRhdGVMaW5lcyhsaW5lcyk7XG4gICAgICAgIHRoaXMudXBkYXRlU2NvcmUoU0NPUkVfQllfTElORVNbbGluZXMgLSAxXSk7XG5cbiAgICAgICAgY29uc3QgbmV3TGV2ZWwgPSBNYXRoLmZsb29yKHRoaXMubGluZXMgLyAxMCkgKyAxO1xuXG4gICAgICAgIGlmIChuZXdMZXZlbCA+IHRoaXMubGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxVcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgY29uc3QgaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaG9sZGVyLmNsYXNzTmFtZSA9IFwic2NvcmUtcGFuZWxcIjtcblxuICAgICAgICBjb25zdCBsZXZlbEhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIpO1xuICAgICAgICBsZXZlbEhlYWRpbmcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJMZXZlbDpcIikpO1xuICAgICAgICB0aGlzLmxldmVsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5sZXZlbERpdi5pbm5lclRleHQgPSB0aGlzLmxldmVsO1xuXG4gICAgICAgIGNvbnN0IHNjb3JlSGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIik7XG4gICAgICAgIHNjb3JlSGVhZGluZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlNjb3JlOlwiKSk7XG4gICAgICAgIHRoaXMuc2NvcmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnNjb3JlRGl2LmlubmVyVGV4dCA9IHRoaXMuc2NvcmU7XG5cbiAgICAgICAgY29uc3QgbGluZXNIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiKTtcbiAgICAgICAgbGluZXNIZWFkaW5nLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiTGluZXM6XCIpKTtcbiAgICAgICAgdGhpcy5saW5lc0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMubGluZXNEaXYuaW5uZXJUZXh0ID0gdGhpcy5saW5lcztcblxuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQobGV2ZWxIZWFkaW5nKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHRoaXMubGV2ZWxEaXYpO1xuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQoc2NvcmVIZWFkaW5nKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHRoaXMuc2NvcmVEaXYpO1xuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQobGluZXNIZWFkaW5nKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHRoaXMubGluZXNEaXYpO1xuXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChob2xkZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBHcmlkIGZyb20gXCIuL1RldHJpcy9HcmlkXCI7XG5pbXBvcnQgVGFibGUgZnJvbSBcIi4vVWkyZC9UYWJsZVwiO1xuaW1wb3J0IHsgZ2V0Q29udHJvbEZhY3RvcnkgfSBmcm9tIFwiLi9VaTJkL0NvbnRyb2xcIjtcbmltcG9ydCB7IGdldFNjb3JlUGFuZWxGYWN0b3J5IH0gZnJvbSBcIi4vVWkyZC9TY29yZVBhbmVsXCI7XG5pbXBvcnQgJy4vc3R5bGVzL2xheW91dC5zY3NzJ1xuaW1wb3J0ICcuL3N0eWxlcy91aTJkLnNjc3MnXG5cbmZ1bmN0aW9uIGluaXQgKCkge1xuICAgIGNvbnN0IHRldHJpcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGV0cmlzXCIpO1xuICAgIGNvbnN0IHRhYmxlID0gbmV3IFRhYmxlKHsgbnVtT2ZDb2w6IDEwLCBudW1PZlJvdzogMjAsIHBhcmVudE5vZGU6IHRldHJpcyB9KTtcbiAgICBjb25zdCBncmlkID0gbmV3IEdyaWQoe1xuICAgICAgICBudW1PZkNvbDogMTAsXG4gICAgICAgIG51bU9mUm93OiAyMCxcbiAgICAgICAgZGVmYXVsdFRldHJvWDogMyxcbiAgICAgICAgZGVmYXVsdFRldHJvWTogMCxcbiAgICAgICAgdWlDb21wb25lbnQ6IHRhYmxlXG4gICAgfSk7XG5cbiAgICBjb25zdCBjb250cm9sUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRyb2xQYW5lbFwiKTtcbiAgICBjb25zdCBjb250cm9sID0gZ2V0Q29udHJvbEZhY3RvcnkoeyBncmlkLCBwYXJlbnROb2RlOiBjb250cm9sUGFuZWwgfSk7XG4gICAgY29udHJvbC5hZGRLZXlMaXN0ZW5lcnMoKTtcblxuICAgIGNvbnN0IHNjb3JlUGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjb3JlUGFuZWxcIik7XG4gICAgY29uc3Qgc2NvcmUgPSBnZXRTY29yZVBhbmVsRmFjdG9yeSh7IGdyaWQsIHBhcmVudE5vZGU6IHNjb3JlUGFuZWwgfSk7XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS02LTIhLi91aTJkLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS02LTIhLi9sYXlvdXQuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==