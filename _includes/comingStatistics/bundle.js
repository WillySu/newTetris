!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!y[e])return;for(var n in y[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(f[n]=t[n]);0==--v&&0===b&&E()}(e,n),t&&t(e,n)};var n,o=!0,r="078b52cc0bb2fb84612d",i=1e4,s={},a=[],l=[];function c(e){var t=L[e];if(!t)return M;var o=function(o){return t.hot.active?(L[o]?-1===L[o].parents.indexOf(e)&&L[o].parents.push(e):(a=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),M(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return M[e]},set:function(t){M[e]=t}}};for(var i in M)Object.prototype.hasOwnProperty.call(M,i)&&"e"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===u&&p("prepare"),b++,M.e(e).then(t,function(e){throw t(),e});function t(){b--,"prepare"===u&&(g[e]||O(e),0===b&&0===v&&E())}},o}var d=[],u="idle";function p(e){u=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,f,m,v=0,b=0,g={},y={},x={};function w(e){return+e+""===e?+e:e}function C(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=M.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return p("idle"),null;y={},g={},x=e.c,m=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});f={};return O(0),"prepare"===u&&0===b&&0===v&&E(),t});var t}function O(e){x[e]?(y[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=M.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):g[e]=!0}function E(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then(function(){return R(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&t.push(w(n));e.resolve(t)}}function R(t){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var n,o,i,l,c;function d(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,s=r.chain;if((l=L[i])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<l.parents.length;a++){var c=l.parents[a],d=L[c];if(d){if(d.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(d.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),h(n[c],[i])):(delete n[c],t.push(c),o.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var v={},b=[],g={},y=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)){var O;c=w(C);var E=!1,R=!1,T=!1,D="";switch((O=f[C]?d(c):{type:"disposed",moduleId:C}).chain&&(D="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(E=new Error("Aborted because of self decline: "+O.moduleId+D));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+D));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(E=new Error("Aborted because "+c+" is not accepted"+D));break;case"accepted":t.onAccepted&&t.onAccepted(O),R=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),T=!0;break;default:throw new Error("Unexception type "+O.type)}if(E)return p("abort"),Promise.reject(E);if(R)for(c in g[c]=f[c],h(b,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,c)&&(v[c]||(v[c]=[]),h(v[c],O.outdatedDependencies[c]));T&&(h(b,[O.moduleId]),g[c]=y)}var S,N=[];for(o=0;o<b.length;o++)c=b[o],L[c]&&L[c].hot._selfAccepted&&N.push({module:c,errorHandler:L[c].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)});for(var A,U,I=b.slice();I.length>0;)if(c=I.pop(),l=L[c]){var k={},j=l.hot._disposeHandlers;for(i=0;i<j.length;i++)(n=j[i])(k);for(s[c]=k,l.hot.active=!1,delete L[c],delete v[c],i=0;i<l.children.length;i++){var P=L[l.children[i]];P&&((S=P.parents.indexOf(c))>=0&&P.parents.splice(S,1))}}for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(l=L[c]))for(U=v[c],i=0;i<U.length;i++)A=U[i],(S=l.children.indexOf(A))>=0&&l.children.splice(S,1);for(c in p("apply"),r=m,g)Object.prototype.hasOwnProperty.call(g,c)&&(e[c]=g[c]);var _=null;for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(l=L[c])){U=v[c];var B=[];for(o=0;o<U.length;o++)if(A=U[o],n=l.hot._acceptedDependencies[A]){if(-1!==B.indexOf(n))continue;B.push(n)}for(o=0;o<B.length;o++){n=B[o];try{n(U)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:U[o],error:e}),t.ignoreErrored||_||(_=e)}}}for(o=0;o<N.length;o++){var H=N[o];c=H.module,a=[c];try{M(c)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||_||(_=n),_||(_=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||_||(_=e)}}return _?(p("fail"),Promise.reject(_)):(p("idle"),new Promise(function(e){e(b)}))}var L={};function M(t){if(L[t])return L[t].exports;var o=L[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:C,apply:R,status:function(e){if(!e)return u;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:s[e]};return n=void 0,t}(t),parents:(l=a,a=[],l),children:[]};return e[t].call(o.exports,o,o.exports,c(t)),o.l=!0,o.exports}M.m=e,M.c=L,M.d=function(e,t,n){M.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},M.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.t=function(e,t){if(1&t&&(e=M(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(M.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)M.d(n,o,function(t){return e[t]}.bind(null,o));return n},M.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(t,"a",t),t},M.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},M.p="/",M.h=function(){return r},c(4)(M.s=4)}([function(e,t,n){(e.exports=n(3)(!1)).push([e.i,"table.tetris-table {\n  border-collapse: collapse;\n  border: 2px solid #444;\n  margin-bottom: 0;\n  width: auto; }\n  table.tetris-table tr:nth-child(even) td:nth-child(odd) {\n    background-color: #f8f8f8; }\n  table.tetris-table tr:nth-child(odd) td:nth-child(even) {\n    background-color: #f8f8f8; }\n  table.tetris-table td {\n    padding: 0;\n    border: 1px solid #aaa;\n    height: 24px;\n    width: 24px;\n    background-color: #fff; }\n\ntable.transparent-table {\n  border-collapse: collapse;\n  width: auto;\n  margin-bottom: 0; }\n  table.transparent-table tr {\n    background-color: transparent; }\n    table.transparent-table tr td {\n      height: 12px;\n      width: 12px;\n      padding: 0;\n      border: 1px solid transparent; }\n\nform.control-form button {\n  margin-right: 6px; }\n\nform.control-form :last-child {\n  margin-right: 0; }\n\n.tetro-list,\n.statics-list {\n  list-style-type: none;\n  margin: 0;\n  padding: 0; }\n\n.tetro-list li {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 12px; }\n\n.statics-list {\n  margin-top: 12px; }\n  .statics-list li {\n    display: flex;\n    justify-content: space-around;\n    margin-bottom: 12px; }\n    .statics-list li table.transparent-table td {\n      height: 6px;\n      width: 6px; }\n",""])},function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".container {\n  display: flex;\n  flex-direction: row; }\n\n.main-panel {\n  display: flex;\n  flex-direction: column; }\n\n.control-panel {\n  padding: 6px;\n  background-color: #eee; }\n\n.right-side-panel {\n  margin-left: 12px; }\n\n.right-side-panel div {\n  margin-bottom: 12px; }\n\n.left-side-panel {\n  margin-right: 12px; }\n\n.score-panel,\n.coming-tetro-panel {\n  border: 2px solid #000;\n  padding: 6px 12px; }\n\n.score-panel {\n  min-width: 120px; }\n\n.score-panel div {\n  text-align: right;\n  border-bottom: 1px solid #888;\n  padding-bottom: 6px; }\n\n.coming-tetro-panel {\n  min-width: 90px; }\n\n.coming-tetro-panel strong {\n  display: block;\n  margin-bottom: 18px; }\n",""])},function(e,t,n){var o,r,i={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,d=[],u=n(6);function p(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(g(o.parts[s],t))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(g(o.parts[s],t));i[o.id]={id:o.id,refs:1,parts:a}}}}function h(e,t){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function f(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=d[d.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function v(e){var t=document.createElement("style");return e.attrs.type="text/css",b(t,e.attrs),f(e,t),t}function b(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,o,r,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=c++;n=l||(l=v(t)),o=w.bind(null,n,s,!1),r=w.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",b(t,e.attrs),f(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||i)&&(o=u(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([o],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),r=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){m(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var s=n[r];(a=i[s.id]).refs--,o.push(a)}e&&p(h(e,t),t);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var y,x=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function w(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var i=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(i).concat([r]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){"use strict";n.r(t);const o="";class r{constructor({numOfCol:e=10,numOfRow:t=20,defaultTetroX:n,defaultTetroY:r,uiComponent:i}={}){this.numOfCol=e,this.numOfRow=t,this.defaultTetroX=n||0,this.defaultTetroY=r||0,this.tetro=null,this.tetroX,this.tetroY,this.uiComponent=i;const s=[];for(let n=0;n<t;n++)s.push(new Array(e).fill(o));this.matrix=s,this.uiComponent&&"function"==typeof this.uiComponent.setMatrix&&this.uiComponent.setMatrix(this.matrix),this.tetroGenerator=null}setTetroGenerator(e){this.tetroGenerator=e}resetMatrix(){this.matrix.forEach(e=>e.fill(o))}getTetroPositions(){const{tetro:e,tetroX:t,tetroY:n}=this;if(e){return this.tetro.rotation.reduce((o,r,i)=>{for(let s=0;s<r.length;s++){const a=r[s];1!==a&&3!==a||o.push({x:t+s,y:n+i,color:e.color})}return o},[])}}updateMatrix({reset:e=!1}={}){const{numOfCol:t,numOfRow:n}=this,r=this.getTetroPositions();if(r){if(r.some(e=>{const{x:o,y:r}=e;return o<0||o>t-1||r<0||r>n-1}))return!1;if(e){if(r.every(e=>this.matrix[e.y][e.x]!==o))return r.forEach(e=>this.matrix[e.y][e.x]=o),!0}else{if(r.every(e=>this.matrix[e.y][e.x]===o))return r.forEach(e=>this.matrix[e.y][e.x]=e.color),!0}}return!1}addTetro({x:e,y:t,tetro:n}={}){return n?this.tetro=n:this.tetroGenerator&&(this.tetro=this.tetroGenerator.getComingTetro()),this.tetroX=e||this.defaultTetroX,this.tetroY=t||this.defaultTetroY,!!this.updateMatrix()&&(this.updateUiComponent(),!0)}updateUiComponent(){this.uiComponent&&"function"==typeof this.uiComponent.update&&this.uiComponent.update()}}const i="left",s="right",a="bottom",l=3e3,c=.66;class d extends r{constructor(e){super(e),this.isGameOver=!1,this.isStarted=!1,this.intervall=l,this.timerKey=null,this.timestamp=l,this.uiControl=null,this.uiScorePanel=null}setControl(e){this.uiControl=e}setScorePanel(e){this.uiScorePanel=e}moveTetro({direction:e}={}){if(!this.isStarted)return!1;if(this.updateMatrix({reset:!0})){if(e===i?this.tetroX--:e===s?this.tetroX++:e===a&&this.tetroY++,this.updateMatrix())return this.updateUiComponent(),!0;e===i?this.tetroX++:e===s?this.tetroX--:e===a&&this.tetroY--,this.updateMatrix()}return!1}moveLeft(){return this.moveTetro({direction:i})}moveRight(){return this.moveTetro({direction:s})}moveDown(){const e=this.moveTetro({direction:a});if(!e){const e=this.checkFullLines();e&&this.uiScorePanel&&"function"==typeof this.uiScorePanel.addLines&&this.uiScorePanel.addLines(e)}return e}drop(){if(!this.isStarted)return!1;for(;this.moveDown(););}rotateTetro({direction:e}={}){if(!this.isStarted)return!1;if(this.updateMatrix({reset:!0})){if(e===i?this.tetro.rotateLeft():e===s&&this.tetro.rotateRight(),this.updateMatrix())return this.updateUiComponent(),!0;e===i?this.tetro.rotateRight():e===s&&this.tetro.rotateLeft(),this.updateMatrix()}return!1}rotateLeft(){return this.rotateTetro({direction:i})}rotateRight(){return this.rotateTetro({direction:s})}start(){this.isStarted=!0,this.isGameOver&&(this.resetMatrix(),this.updateUiComponent(),this.isGameOver=!1,this.intervall=l),this.tetro||this.addTetro(),this.dropping()}stop(){this.isStarted=!1,cancelAnimationFrame(this.timerKey)}checkFullLines(){let e=0,t=this.numOfRow-1;for(;t>=0;){this.matrix[t].every(e=>e!==o)?(this.removeFullLine(t),e++):t--}return e}removeFullLine(e){const{numOfCol:t}=this;for(let n=e;n>0;n--)if(0===n)this.matrix[n].fill(o);else for(let e=0;e<t;e++)this.matrix[n][e]=this.matrix[n-1][e];this.updateUiComponent()}dropping(e){if(e-this.timestamp>this.intervall&&(this.timestamp=e,!this.moveDown())){if(!this.addTetro())return void this.gameOver();cancelAnimationFrame(this.timerKey)}this.timerKey=requestAnimationFrame(e=>this.dropping(e))}gameOver(){this.timestamp=l,this.isGameOver=!0,this.stop(),this.uiControl&&"function"==typeof this.uiControl.stopUI&&this.uiControl.stopUI()}speedUp(){this.intervall=Math.round(this.intervall*c)}addTetro(e){const t=super.addTetro(e);return t&&this.uiScorePanel&&"function"==typeof this.uiScorePanel.addTetro&&this.uiScorePanel.addTetro(this.tetro.name),t}}class u{constructor({numOfCol:e=10,numOfRow:t=20,parentNode:n,matrix:o,className:r="grid-2d"}={}){this.numOfCol=e,this.numOfRow=t,this.parentNode=n,this.table=document.createElement("table"),this.table.className=r,this.matrix=o,this.init(),this.appendToRoot()}appendToRoot(){const{parentNode:e,table:t}=this;e&&"function"==typeof e.appendChild&&t.parentNode!==e&&e.appendChild(t)}init(){const{numOfCol:e,numOfRow:t,table:n}=this,o=document.createElement("tbody");for(let n=0;n<t;n++){const t=document.createElement("tr");for(let n=0;n<e;n++){const e=document.createElement("td");t.appendChild(e)}o.appendChild(t)}n.appendChild(o)}setMatrix(e){this.matrix=e}update(){const e=this.matrix;for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++){const o=e[t][n];o?this.table.rows[t].cells[n].style.backgroundColor=o:this.table.rows[t].cells[n].removeAttribute("style")}}}class p{constructor({onMoveLeft:e,onMoveRight:t,onMoveDown:n,onRotateLeft:o,onRotateRight:r,onStart:i,onStop:s,onDrop:a,parentNode:l}={}){this.onStart=i,this.onStop=s,this.onDrop=a,this.onMoveLeft=e,this.onMoveRight=t,this.onMoveDown=n,this.onRotateLeft=o,this.onRotateRight=r,this.parentNode=l,this.render()}createButton({label:e,name:t,onClick:n,disabled:o,title:r}){const i=document.createElement("button");return i.setAttribute("name",t),i.setAttribute("type","button"),r&&i.setAttribute("title",r),i.appendChild(document.createTextNode(e)),"function"==typeof n&&i.addEventListener("click",n),o&&i.setAttribute("disabled",!0),i}loopButtons({name:e,disabled:t}){const n=document.controlForm.elements;for(let o=0,r=n.length;o<r;o++){const r=n[o];r.name===e?t?r.setAttribute("disabled",!0):r.removeAttribute("disabled"):t?r.removeAttribute("disabled"):r.setAttribute("disabled",!0)}}startUI(){this.loopButtons({name:"start",disabled:!0})}stopUI(){this.loopButtons({name:"start",disabled:!1})}render(){const e=document.createElement("form");e.name="controlForm",e.className="control-form";const t=this.createButton({label:"Rotate Left",name:"rotateLeft",title:"Press Q or 7",onClick:this.onRotateLeft,disabled:!0}),n=this.createButton({label:"Rotate Right",name:"rotateRight",title:"Press E or 9",onClick:this.onRotateRight,disabled:!0}),o=this.createButton({label:"Move Left",name:"moveLeft",title:"Press A, Left Arrow or 4",onClick:this.onMoveLeft,disabled:!0}),r=this.createButton({label:"Move Right",name:"moveRight",title:"Press D, Right Arrow or 6",onClick:this.onMoveRight,disabled:!0}),i=this.createButton({label:"Start",name:"start",onClick:(()=>{this.onStart(),this.startUI()}).bind(this)}),s=this.createButton({label:"Stop",name:"stop",onClick:(()=>{this.onStop(),this.stopUI()}).bind(this),disabled:!0}),a=this.createButton({label:"Drop Tetro",name:"dropTetro",title:"Press W, Top Arrow or 8",onClick:this.onDrop,disabled:!0}),l=this.createButton({label:"Move Down",name:"moveDown",title:"Press S, Down Arrow or 5",onClick:this.onMoveDown,disabled:!0}),c=document.createElement("div");c.appendChild(i),c.appendChild(s);const d=document.createElement("div");d.appendChild(t),d.appendChild(a),d.appendChild(n);const u=document.createElement("div");u.appendChild(o),u.appendChild(l),u.appendChild(r),e.appendChild(c),e.appendChild(d),e.appendChild(u),this.parentNode.appendChild(e)}checkKey(e){switch(event.code){case"ArrowLeft":case"Numpad4":case"KeyA":this.onMoveLeft();break;case"ArrowRight":case"Numpad6":case"KeyD":this.onMoveRight();break;case"ArrowUp":case"Numpad8":case"KeyW":this.onDrop();break;case"ArrowDown":case"Numpad2":case"Numpad5":case"KeyS":this.onMoveDown();break;case"Numpad7":case"KeyQ":this.onRotateLeft();break;case"Numpad9":case"KeyE":this.onRotateRight()}}addKeyListeners(){document.body.addEventListener("keyup",e=>this.checkKey(e))}}class h{constructor({name:e,color:t}={}){this.name=e,this.color=t||"red",this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]],this.rotationIndex=0}get rotation(){return this.rotations[this.rotationIndex]}rotateLeft(){this.rotationIndex--,this.rotationIndex<0&&(this.rotationIndex=3)}rotateRight(){this.rotationIndex++,this.rotationIndex>3&&(this.rotationIndex=0)}}const f=[new class extends h{constructor({name:e,color:t}={}){super({name:"I",color:"red"}),this.rotations=[[[3],[1],[1],[1]],[[1,3,1,1]],[[3],[1],[1],[1]],[[1,1,3,1]]]}},new class extends h{constructor({name:e,color:t}={}){super({name:"J",color:"magenta"}),this.rotations=[[[1,3,1],[0,0,1]],[[0,3],[0,1],[1,1]],[[1,2,0],[1,1,1]],[[3,1],[1,0],[1,0]]]}},new class extends h{constructor({name:e,color:t}={}){super({name:"L",color:"yellow"}),this.rotations=[[[1,3,1],[1,0,0]],[[1,3],[0,1],[0,1]],[[0,2,1],[1,1,1]],[[3,0],[1,0],[1,1]]]}},new class extends h{constructor({name:e,color:t}={}){super({name:"O",color:"cyan"}),this.rotations=[[[3,1],[1,1]],[[1,3],[1,1]],[[3,1],[1,1]],[[1,3],[1,1]]]}},new class extends h{constructor({name:e,color:t}={}){super({name:"S",color:"blue"}),this.rotations=[[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]],[[0,3,1],[1,1,0]],[[3,0],[1,1],[0,1]]]}},new class extends h{constructor({name:e,color:t}={}){super({name:"T",color:"silver"}),this.rotations=[[[1,3,1],[0,1,0]],[[0,3],[1,1],[0,1]],[[0,3,0],[1,1,1]],[[3,0],[1,1],[1,0]]]}},new class extends h{constructor({name:e,color:t}={}){super({name:"Z",color:"green"}),this.rotations=[[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]],[[1,3,0],[0,1,1]],[[0,3],[1,1],[1,0]]]}}];const m=6;function v(){const e=Math.floor(Math.random()*f.length);return f[e]}class b{constructor({parentNode:e}={}){this.parentNode=e,this.tetroList=new Array(m).fill(0).map(()=>v()),this.tableList=this.tetroList.map(e=>new u({numOfCol:4,numOfRow:4,className:"transparent-table"})),this.gridList=this.tableList.map(e=>new r({numOfCol:4,numOfRow:4,uiComponent:e})),this.render(),this.update()}getComingTetro(){this.tetroList.push(v());const e=this.tetroList.shift();return this.update(),e}update(){this.tetroList.forEach((e,t)=>{const n=this.gridList[t];n.resetMatrix(),n.addTetro({tetro:e})})}render(){const e=document.createElement("ul");e.className="tetro-list",this.tableList.forEach(t=>{const n=document.createElement("li");n.appendChild(t.table),e.appendChild(n)}),this.parentNode.appendChild(e)}}const g=[100,300,900,2700],y=20;class x{constructor({parentNode:e,onLevelUp:t}={}){this.parentNode=e,this.level=1,this.score=0,this.lines=0,this.levelDiv=null,this.scoreDiv=null,this.linesDiv=null,this.onLevelUp=t,this.tetroCounterMap=f.reduce((e,t)=>(e[t.name]=0,e),{}),this.counterHolderMap={},this.render()}levelUp(){this.level++,this.levelDiv.innerText=this.level,this.onLevelUp()}updateScore(e){this.score=this.score+e,this.scoreDiv.innerText=this.score}addLines(e){this.lines=this.lines+e,this.linesDiv.innerText=this.lines,this.updateScore(g[e-1]),Math.floor(this.lines/y)+1>this.level&&this.levelUp()}addTetro(e){this.tetroCounterMap[e]=this.tetroCounterMap[e]+1,this.counterHolderMap[e].innerText=this.tetroCounterMap[e]}getStatics(){const e=document.createElement("ul");return e.className="statics-list",f.forEach(t=>{const n=new u({numOfCol:4,numOfRow:4,className:"transparent-table"});new r({numOfCol:4,numOfRow:4,uiComponent:n}).addTetro({tetro:t});const o=document.createElement("li");o.appendChild(n.table);const i=t.name,s=this.counterHolderMap[i]=document.createElement("span");s.innerText=this.tetroCounterMap[i],o.appendChild(n.table),o.appendChild(s),e.appendChild(o)}),e}render(){const e=document.createElement("div");e.className="score-panel";const t=document.createElement("strong");t.appendChild(document.createTextNode("Level:")),this.levelDiv=document.createElement("div"),this.levelDiv.innerText=this.level;const n=document.createElement("strong");n.appendChild(document.createTextNode("Score:")),this.scoreDiv=document.createElement("div"),this.scoreDiv.innerText=this.score;const o=document.createElement("strong");o.appendChild(document.createTextNode("Lines:")),this.linesDiv=document.createElement("div"),this.linesDiv.innerText=this.lines;const r=document.createElement("strong");r.appendChild(document.createTextNode("Statistics:")),e.appendChild(t),e.appendChild(this.levelDiv),e.appendChild(n),e.appendChild(this.scoreDiv),e.appendChild(o),e.appendChild(this.linesDiv),e.appendChild(r),e.appendChild(this.getStatics()),this.parentNode.appendChild(e)}}n(7),n(5);window.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("tetris"),t=new u({numOfCol:10,numOfRow:20,parentNode:e,className:"tetris-table"}),n=new d({numOfCol:10,numOfRow:20,defaultTetroX:3,defaultTetroY:0,uiComponent:t});(function({grid:e,parentNode:t}){const n=new p({onMoveLeft:()=>e.moveLeft(),onMoveRight:()=>e.moveRight(),onMoveDown:()=>e.moveDown(),onRotateLeft:()=>e.rotateLeft(),onRotateRight:()=>e.rotateRight(),onStart:()=>e.start(),onStop:()=>e.stop(),onDrop:()=>{e.drop()&&e.addTetro()},parentNode:t});return e.setControl(n),n})({grid:n,parentNode:document.getElementById("controlPanel")}).addKeyListeners(),function({grid:e,parentNode:t}){const n=new x({parentNode:t,onLevelUp:()=>e.speedUp()});e.setScorePanel(n)}({grid:n,parentNode:document.getElementById("scorePanel")}),function({grid:e,parentNode:t}){const n=new b({parentNode:t});e.setTetroGenerator(n)}({grid:n,parentNode:document.getElementById("comingTetroPanel")})})},function(e,t,n){var o=n(0);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(0,function(t){!function(){var t=n(0);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=n(2)(o,r);o.locals&&(e.exports=o.locals),e.hot.accept(1,function(t){!function(){var t=n(1);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,o=0;for(n in e){if(!t||e[n]!==t[n])return!1;o++}for(n in t)o--;return 0===o}(o.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}()}),e.hot.dispose(function(){i()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy9sYXlvdXQuc2NzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvR3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1RldHJpc0dyaWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvQ29udHJvbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1RldHJvbWluby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVWkyZC9UZXRyb0dlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL0kuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9KLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvTC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL08uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1RldHJpcy9TLmpzIiwid2VicGFjazovLy8uL3NyYy9UZXRyaXMvVC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV0cmlzL1ouanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VpMmQvU2NvcmVQYW5lbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlcy91aTJkLnNjc3M/NTA0MyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvbGF5b3V0LnNjc3M/NTBiZCJdLCJuYW1lcyI6WyJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIndpbmRvdyIsImNodW5rSWQiLCJtb3JlTW9kdWxlcyIsImhvdEF2YWlsYWJsZUZpbGVzTWFwIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJtb2R1bGVJZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsImhvdFN0YXR1c0hhbmRsZXJzIiwibmV3U3RhdHVzIiwiaSIsImxlbmd0aCIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsInRvTW9kdWxlSWQiLCJpZCIsImhvdENoZWNrIiwiYXBwbHkiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJoZWFkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJob3RBcHBseSIsInJlc3VsdCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJjYiIsImoiLCJtb2R1bGUiLCJnZXRBZmZlY3RlZFN0dWZmIiwidXBkYXRlTW9kdWxlSWQiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwic2xpY2UiLCJtYXAiLCJjaGFpbiIsInF1ZXVlSXRlbSIsInBvcCIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwidHlwZSIsIl9tYWluIiwicGFyZW50SWQiLCJwYXJlbnQiLCJfZGVjbGluZWREZXBlbmRlbmNpZXMiLCJjb25jYXQiLCJfYWNjZXB0ZWREZXBlbmRlbmNpZXMiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJpZHgiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImluc3RhbGxlZENodW5rcyIsImhvdERpc3Bvc2VDaHVuayIsImRlcGVuZGVuY3kiLCJtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyIsImRhdGEiLCJkaXNwb3NlSGFuZGxlcnMiLCJfZGlzcG9zZUhhbmRsZXJzIiwiY2hpbGQiLCJzcGxpY2UiLCJtb2R1bGVzIiwiZXJyb3IiLCJjYWxsYmFja3MiLCJvbkVycm9yZWQiLCJkZXBlbmRlbmN5SWQiLCJpZ25vcmVFcnJvcmVkIiwiZXJyMiIsIm9yaWdpbmFsRXJyb3IiLCJleHBvcnRzIiwibCIsImFjY2VwdCIsImRlcCIsImNhbGxiYWNrIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiY2hlY2siLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsInVuZGVmaW5lZCIsImhvdENyZWF0ZU1vZHVsZSIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsInRoaXMiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsInBhcnRzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsImFkZEF0dHJzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJyZW1vdmUiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiRU1QVFkiLCJHcmlkIiwiW29iamVjdCBPYmplY3RdIiwibnVtT2ZDb2wiLCJudW1PZlJvdyIsImRlZmF1bHRUZXRyb1giLCJkZWZhdWx0VGV0cm9ZIiwidWlDb21wb25lbnQiLCJ0ZXRybyIsInRldHJvWCIsInRldHJvWSIsIm1hdHJpeCIsIkFycmF5IiwiZmlsbCIsInNldE1hdHJpeCIsInRldHJvR2VuZXJhdG9yIiwiY2VsbHMiLCJyb3RhdGlvbiIsInJlZHVjZSIsInBvcyIsInJvdyIsImNvbCIsImNvZGUiLCJ4IiwieSIsImNvbG9yIiwicmVzZXQiLCJibG9ja1Bvc2l0aW9ucyIsImdldFRldHJvUG9zaXRpb25zIiwic29tZSIsImV2ZXJ5IiwiZ2V0Q29taW5nVGV0cm8iLCJ1cGRhdGVNYXRyaXgiLCJ1cGRhdGVVaUNvbXBvbmVudCIsIkxFRlQiLCJSSUdIVCIsIkJPVFRPTSIsIkRFRkFVTFRfVElNRVNUQU1QIiwiU1BFRURfVVBfUkFUSU8iLCJUZXRyaXNHcmlkX1RldHJpc0dyaWQiLCJwYXJhbXMiLCJzdXBlciIsImlzR2FtZU92ZXIiLCJpc1N0YXJ0ZWQiLCJpbnRlcnZhbGwiLCJ0aW1lcktleSIsInRpbWVzdGFtcCIsInVpQ29udHJvbCIsInVpU2NvcmVQYW5lbCIsImNvbnRyb2wiLCJzY29yZVBhbmVsIiwiZGlyZWN0aW9uIiwibW92ZVRldHJvIiwiaGFzTW92ZWREb3duIiwibGluZXNSZW1vdmVkIiwiY2hlY2tGdWxsTGluZXMiLCJhZGRMaW5lcyIsIm1vdmVEb3duIiwicm90YXRlTGVmdCIsInJvdGF0ZVJpZ2h0Iiwicm90YXRlVGV0cm8iLCJyZXNldE1hdHJpeCIsImFkZFRldHJvIiwiZHJvcHBpbmciLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm51bU9mRnVsbExpbmVzIiwiY2VsbCIsInJlbW92ZUZ1bGxMaW5lIiwiZ2FtZU92ZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdG9wIiwic3RvcFVJIiwiTWF0aCIsInJvdW5kIiwiYWRkZWQiLCJUYWJsZSIsImNsYXNzTmFtZSIsInRhYmxlIiwiaW5pdCIsImFwcGVuZFRvUm9vdCIsInRCb2R5IiwidHIiLCJ0ZCIsImNlbCIsImJnQ29sb3IiLCJyb3dzIiwiYmFja2dyb3VuZENvbG9yIiwicmVtb3ZlQXR0cmlidXRlIiwiQ29udHJvbCIsIm9uTW92ZUxlZnQiLCJvbk1vdmVSaWdodCIsIm9uTW92ZURvd24iLCJvblJvdGF0ZUxlZnQiLCJvblJvdGF0ZVJpZ2h0Iiwib25TdGFydCIsIm9uU3RvcCIsIm9uRHJvcCIsInJlbmRlciIsImxhYmVsIiwib25DbGljayIsImRpc2FibGVkIiwidGl0bGUiLCJidXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZWxlbWVudHMiLCJjb250cm9sRm9ybSIsImxvb3BCdXR0b25zIiwiaG9sZGVyIiwicm90YXRlTGVmdEJ0biIsImNyZWF0ZUJ1dHRvbiIsInJvdGF0ZVJpZ2h0QnRuIiwibW92ZUxlZnRCdG4iLCJtb3ZlUmlnaHRCdG4iLCJzdGFydEJ0biIsInN0YXJ0VUkiLCJzdG9wQnRuIiwiZHJvcEJ0biIsIm1vdmVEb3duQnRuIiwicm93MSIsInJvdzIiLCJyb3czIiwiZXYiLCJldmVudCIsImJvZHkiLCJjaGVja0tleSIsIlRldHJvbWlubyIsInJvdGF0aW9ucyIsInJvdGF0aW9uSW5kZXgiLCJURVRST1MiLCJOVU1fT0ZfQ09NSU5HX1RFVFJPUyIsImdldFJhbmRUZXRybyIsInJhbmQiLCJmbG9vciIsInJhbmRvbSIsIlRldHJvR2VuZXJhdG9yX1RldHJvR2VuZXJhdG9yIiwidGV0cm9MaXN0IiwidGFibGVMaXN0IiwiZ3JpZExpc3QiLCJjb21pbmdUZXRybyIsInNoaWZ0IiwiZ3JpZCIsInVsIiwibGkiLCJTQ09SRV9CWV9MSU5FUyIsIk5VTV9PRl9MSU5FU19ORUVERURfVE9fTEVWRUxfVVAiLCJTY29yZVBhbmVsX1Njb3JlUGFuZWwiLCJvbkxldmVsVXAiLCJsZXZlbCIsInNjb3JlIiwibGluZXMiLCJsZXZlbERpdiIsInNjb3JlRGl2IiwibGluZXNEaXYiLCJ0ZXRyb0NvdW50ZXJNYXAiLCJjb3VudGVySG9sZGVyTWFwIiwiaW5uZXJUZXh0IiwidXBkYXRlU2NvcmUiLCJsZXZlbFVwIiwidGV0cm9OYW1lIiwic3BhbiIsImxldmVsSGVhZGluZyIsInNjb3JlSGVhZGluZyIsImxpbmVzSGVhZGluZyIsInN0YXRpc3RpY3NIZWFkaW5nIiwiZ2V0U3RhdGljcyIsInRldHJpcyIsImdldEVsZW1lbnRCeUlkIiwibW92ZUxlZnQiLCJtb3ZlUmlnaHQiLCJzdGFydCIsImRyb3AiLCJzZXRDb250cm9sIiwiZ2V0Q29udHJvbEZhY3RvcnkiLCJhZGRLZXlMaXN0ZW5lcnMiLCJzcGVlZFVwIiwic2V0U2NvcmVQYW5lbCIsImdldFNjb3JlUGFuZWxGYWN0b3J5IiwiZ2VuZXJhdG9yIiwic2V0VGV0cm9HZW5lcmF0b3IiLCJnZXRUZXRyb0dlbmVyYXRvckZhY3RvcnkiLCJobXIiLCJsb2NhbHMiLCJfX1dFQlBBQ0tfT1VUREFURURfREVQRU5ERU5DSUVTX18iLCJuZXdDb250ZW50IiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiYUFHQSxJQUFBQSxFQUFBQyxPQUFBLGlCQUNBQSxPQUFBLGlCQUNBLFNBQUFDLEVBQUFDLElBeVFBLFNBQUFELEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUYsS0FBQUcsRUFBQUgsR0FDQSxPQUVBLFFBQUFJLEtBREFELEVBQUFILElBQUEsRUFDQUMsRUFDQUksT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVAsRUFBQUcsS0FDQUssRUFBQUwsR0FBQUgsRUFBQUcsSUFHQSxLQUFBTSxHQUFBLElBQUFDLEdBQ0FDLElBbFJBQyxDQUFBYixFQUFBQyxHQUNBSCxLQUFBRSxFQUFBQyxJQXdEQSxJQUlBYSxFQUpBQyxHQUFBLEVBQ0FDLEVBQUEsdUJBQ0FDLEVBQUEsSUFDQUMsS0FFQUMsS0FDQUMsS0FHQSxTQUFBQyxFQUFBakIsR0FDQSxJQUFBa0IsRUFBQUMsRUFBQW5CLEdBQ0EsSUFBQWtCLEVBQUEs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QUEsQ0FBQTBQLEVBQUFuTCxHQUVBbUwsRUFBQStMLFNBQUEvVyxFQUFBMEQsUUFBQXNILEVBQUErTCxRQUdBL1csRUFBQXZFLElBQUFtSSxPQUFBLFdBQUFvVCxJQUFBLFdBQ0EsSUFBQUMsRUFBQTNiLEVBQUEsR0FpQkEsR0FmQSxpQkFBQTJiLFFBQUFqWCxFQUFBN0MsRUFBQThaLEVBQUEsT0FFQSxTQUFBN1YsRUFBQUMsR0FDQSxJQUFBK0QsRUFBQWhELEVBQUEsRUFFQSxJQUFBZ0QsS0FBQWhFLEVBQUEsQ0FDQSxJQUFBQyxHQUFBRCxFQUFBZ0UsS0FBQS9ELEVBQUErRCxHQUFBLFNBQ0FoRCxJQUdBLElBQUFnRCxLQUFBL0QsRUFBQWUsSUFFQSxXQUFBQSxFQVZBLENBV0c0SSxFQUFBK0wsT0FBQUUsRUFBQUYsUUFFSCxVQUFBcFosTUFBQSx1REFFQWMsRUFBQXdZLEdBcEJBLEtBdUJBalgsRUFBQXZFLElBQUF1SSxRQUFBLFdBQWdDdkYiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHQ7XG4gXHRcdGhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KHJlcXVlc3RUaW1lb3V0KSB7XG4gXHRcdHJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQgfHwgMTAwMDA7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XG4gXHRcdFx0fVxuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xuIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XG4gXHRcdFx0fVxuIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxuIFx0XHRcdFx0XHRyZWplY3QoXG4gXHRcdFx0XHRcdFx0bmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKVxuIFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XG4gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG4gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuIFx0XHRcdFx0XHRcdHJldHVybjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMDc4YjUyY2MwYmIyZmI4NDYxMmRcIjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdFJlcXVlc3RUaW1lb3V0ID0gMTAwMDA7XG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgZGVwID09PSBcInVuZGVmaW5lZFwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBkZXAgPT09IFwidW5kZWZpbmVkXCIpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XG4gXHRcdFx0fSxcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRpZiAoIWwpIHJldHVybiBob3RTdGF0dXM7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXG4gXHRcdH07XG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcbiBcdFx0cmV0dXJuIGhvdDtcbiBcdH1cblxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG5cbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcbiBcdH1cblxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3REZWZlcnJlZDtcblxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XG4gXHRcdHZhciBpc051bWJlciA9ICtpZCArIFwiXCIgPT09IGlkO1xuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHtcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcbiBcdFx0fVxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbiBcdFx0XHRpZiAoIXVwZGF0ZSkge1xuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcbiBcdFx0XHR7XG4gXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWxvbmUtYmxvY2tzXG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiZcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbiBcdFx0XHRcdGhvdFdhaXRpbmdGaWxlcyA9PT0gMFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXG4gXHRcdFx0cmV0dXJuO1xuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xuIFx0XHRmb3IgKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYgKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcbiBcdFx0aWYgKCFkZWZlcnJlZCkgcmV0dXJuO1xuIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXG4gXHRcdFx0Ly8gYXZvaWQgdHJpZ2dlcmluZyB1bmNhdWdodCBleGNlcHRpb24gd2FybmluZyBpbiBDaHJvbWUuXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpXG4gXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuIFx0XHRcdFx0fSlcbiBcdFx0XHRcdC50aGVuKFxuIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gXHRcdFx0XHRcdH0sXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHQpO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpXG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHQpXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKDQpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJ0YWJsZS50ZXRyaXMtdGFibGUge1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG4gIGJvcmRlcjogMnB4IHNvbGlkICM0NDQ7XFxuICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgd2lkdGg6IGF1dG87IH1cXG4gIHRhYmxlLnRldHJpcy10YWJsZSB0cjpudGgtY2hpbGQoZXZlbikgdGQ6bnRoLWNoaWxkKG9kZCkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOGY4OyB9XFxuICB0YWJsZS50ZXRyaXMtdGFibGUgdHI6bnRoLWNoaWxkKG9kZCkgdGQ6bnRoLWNoaWxkKGV2ZW4pIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODsgfVxcbiAgdGFibGUudGV0cmlzLXRhYmxlIHRkIHtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcXG4gICAgaGVpZ2h0OiAyNHB4O1xcbiAgICB3aWR0aDogMjRweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgfVxcblxcbnRhYmxlLnRyYW5zcGFyZW50LXRhYmxlIHtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICB3aWR0aDogYXV0bztcXG4gIG1hcmdpbi1ib3R0b206IDA7IH1cXG4gIHRhYmxlLnRyYW5zcGFyZW50LXRhYmxlIHRyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IH1cXG4gICAgdGFibGUudHJhbnNwYXJlbnQtdGFibGUgdHIgdGQge1xcbiAgICAgIGhlaWdodDogMTJweDtcXG4gICAgICB3aWR0aDogMTJweDtcXG4gICAgICBwYWRkaW5nOiAwO1xcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50OyB9XFxuXFxuZm9ybS5jb250cm9sLWZvcm0gYnV0dG9uIHtcXG4gIG1hcmdpbi1yaWdodDogNnB4OyB9XFxuXFxuZm9ybS5jb250cm9sLWZvcm0gOmxhc3QtY2hpbGQge1xcbiAgbWFyZ2luLXJpZ2h0OiAwOyB9XFxuXFxuLnRldHJvLWxpc3QsXFxuLnN0YXRpY3MtbGlzdCB7XFxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwOyB9XFxuXFxuLnRldHJvLWxpc3QgbGkge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgbWFyZ2luLWJvdHRvbTogMTJweDsgfVxcblxcbi5zdGF0aWNzLWxpc3Qge1xcbiAgbWFyZ2luLXRvcDogMTJweDsgfVxcbiAgLnN0YXRpY3MtbGlzdCBsaSB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMnB4OyB9XFxuICAgIC5zdGF0aWNzLWxpc3QgbGkgdGFibGUudHJhbnNwYXJlbnQtdGFibGUgdGQge1xcbiAgICAgIGhlaWdodDogNnB4O1xcbiAgICAgIHdpZHRoOiA2cHg7IH1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7IH1cXG5cXG4ubWFpbi1wYW5lbCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxcblxcbi5jb250cm9sLXBhbmVsIHtcXG4gIHBhZGRpbmc6IDZweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7IH1cXG5cXG4ucmlnaHQtc2lkZS1wYW5lbCB7XFxuICBtYXJnaW4tbGVmdDogMTJweDsgfVxcblxcbi5yaWdodC1zaWRlLXBhbmVsIGRpdiB7XFxuICBtYXJnaW4tYm90dG9tOiAxMnB4OyB9XFxuXFxuLmxlZnQtc2lkZS1wYW5lbCB7XFxuICBtYXJnaW4tcmlnaHQ6IDEycHg7IH1cXG5cXG4uc2NvcmUtcGFuZWwsXFxuLmNvbWluZy10ZXRyby1wYW5lbCB7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjMDAwO1xcbiAgcGFkZGluZzogNnB4IDEycHg7IH1cXG5cXG4uc2NvcmUtcGFuZWwge1xcbiAgbWluLXdpZHRoOiAxMjBweDsgfVxcblxcbi5zY29yZS1wYW5lbCBkaXYge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzg4ODtcXG4gIHBhZGRpbmctYm90dG9tOiA2cHg7IH1cXG5cXG4uY29taW5nLXRldHJvLXBhbmVsIHtcXG4gIG1pbi13aWR0aDogOTBweDsgfVxcblxcbi5jb21pbmctdGV0cm8tcGFuZWwgc3Ryb25nIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgbWFyZ2luLWJvdHRvbTogMThweDsgfVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydCBjb25zdCBFTVBUWSA9IFwiXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWQge1xuICAgIGNvbnN0cnVjdG9yICh7IG51bU9mQ29sID0gMTAsIG51bU9mUm93ID0gMjAsIGRlZmF1bHRUZXRyb1gsIGRlZmF1bHRUZXRyb1ksIHVpQ29tcG9uZW50IH0gPSB7fSkge1xuICAgICAgICB0aGlzLm51bU9mQ29sID0gbnVtT2ZDb2w7XG4gICAgICAgIHRoaXMubnVtT2ZSb3cgPSBudW1PZlJvdztcbiAgICAgICAgdGhpcy5kZWZhdWx0VGV0cm9YID0gZGVmYXVsdFRldHJvWCB8fCAwO1xuICAgICAgICB0aGlzLmRlZmF1bHRUZXRyb1kgPSBkZWZhdWx0VGV0cm9ZIHx8IDA7XG4gICAgICAgIHRoaXMudGV0cm8gPSBudWxsO1xuICAgICAgICB0aGlzLnRldHJvWDtcbiAgICAgICAgdGhpcy50ZXRyb1k7XG4gICAgICAgIHRoaXMudWlDb21wb25lbnQgPSB1aUNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBudW1PZlJvdzsgcisrKSB7XG4gICAgICAgICAgICBtYXRyaXgucHVzaChuZXcgQXJyYXkobnVtT2ZDb2wpLmZpbGwoRU1QVFkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmICh0aGlzLnVpQ29tcG9uZW50ICYmIHR5cGVvZiB0aGlzLnVpQ29tcG9uZW50LnNldE1hdHJpeCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnVpQ29tcG9uZW50LnNldE1hdHJpeCh0aGlzLm1hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRldHJvR2VuZXJhdG9yID0gbnVsbDsgLy8gc2V0IGJ5IHNldFNjb3JlUGFuZWwgYWZ0ZXIgaW5pdGlhbGl6YXRpb25cbiAgICB9XG5cbiAgICBzZXRUZXRyb0dlbmVyYXRvciAodGV0cm9HZW5lcmF0b3IpIHtcbiAgICAgICAgdGhpcy50ZXRyb0dlbmVyYXRvciA9IHRldHJvR2VuZXJhdG9yO1xuICAgIH1cblxuICAgIHJlc2V0TWF0cml4ICgpIHtcbiAgICAgICAgdGhpcy5tYXRyaXguZm9yRWFjaChjZWxscyA9PiBjZWxscy5maWxsKEVNUFRZKSk7XG4gICAgfVxuXG4gICAgZ2V0VGV0cm9Qb3NpdGlvbnMgKCkge1xuICAgICAgICBjb25zdCB7IHRldHJvLCB0ZXRyb1gsIHRldHJvWSB9ID0gdGhpcztcbiAgICAgICAgaWYgKHRldHJvKSB7XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IHRoaXMudGV0cm8ucm90YXRpb247XG5cbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbi5yZWR1Y2UoKGxpc3QsIHBvcywgcm93KSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgcG9zLmxlbmd0aDsgY29sKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IHBvc1tjb2xdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gMSB8fCBjb2RlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRldHJvWCArIGNvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0ZXRyb1kgKyByb3csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHRldHJvLmNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB1cGRhdGVNYXRyaXggKHsgcmVzZXQgPSBmYWxzZSB9ID0ge30pIHtcbiAgICAgICAgY29uc3QgeyBudW1PZkNvbCwgbnVtT2ZSb3cgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGJsb2NrUG9zaXRpb25zID0gdGhpcy5nZXRUZXRyb1Bvc2l0aW9ucygpO1xuXG4gICAgICAgIGlmIChibG9ja1Bvc2l0aW9ucykge1xuICAgICAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZGFyeSA9IGJsb2NrUG9zaXRpb25zLnNvbWUoKGIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IGI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHggPCAwIHx8IHggPiBudW1PZkNvbCAtIDEgfHwgeSA8IDAgfHwgeSA+IG51bU9mUm93IC0xO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChvdXRPZkJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5SZXNldCA9IGJsb2NrUG9zaXRpb25zLmV2ZXJ5KGIgPT4gdGhpcy5tYXRyaXhbYi55XVtiLnhdICE9PSBFTVBUWSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhblJlc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUG9zaXRpb25zLmZvckVhY2goYiA9PiB0aGlzLm1hdHJpeFtiLnldW2IueF0gPSBFTVBUWSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FuTW92ZSA9IGJsb2NrUG9zaXRpb25zLmV2ZXJ5KGIgPT4gdGhpcy5tYXRyaXhbYi55XVtiLnhdID09PSBFTVBUWSk7XG4gICAgICAgICAgICAgICAgaWYgKGNhbk1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tQb3NpdGlvbnMuZm9yRWFjaChiID0+IHRoaXMubWF0cml4W2IueV1bYi54XSA9IGIuY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgYWRkVGV0cm8gKHsgeCwgeSwgdGV0cm8gfSA9IHt9KSB7XG4gICAgICAgIGlmICh0ZXRybykge1xuICAgICAgICAgICAgdGhpcy50ZXRybyA9IHRldHJvO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGV0cm9HZW5lcmF0b3IpIHtcbiAgICAgICAgICAgIHRoaXMudGV0cm8gPSB0aGlzLnRldHJvR2VuZXJhdG9yLmdldENvbWluZ1RldHJvKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRldHJvWCA9IHggfHwgdGhpcy5kZWZhdWx0VGV0cm9YO1xuICAgICAgICB0aGlzLnRldHJvWSA9IHkgfHwgdGhpcy5kZWZhdWx0VGV0cm9ZO1xuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCgpKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB1cGRhdGVVaUNvbXBvbmVudCAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVpQ29tcG9uZW50ICYmIHR5cGVvZiB0aGlzLnVpQ29tcG9uZW50LnVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnVpQ29tcG9uZW50LnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IExFRlQgPSBcImxlZnRcIjtcbmV4cG9ydCBjb25zdCBSSUdIVCA9IFwicmlnaHRcIjtcbmV4cG9ydCBjb25zdCBCT1RUT00gPSBcImJvdHRvbVwiO1xuXG5pbXBvcnQgR3JpZCwgeyBFTVBUWSB9IGZyb20gXCIuL0dyaWRcIjtcblxuY29uc3QgREVGQVVMVF9USU1FU1RBTVAgPSAzMDAwO1xuXG5jb25zdCBTUEVFRF9VUF9SQVRJTyA9IDAuNjY7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRldHJpc0dyaWQgZXh0ZW5kcyBHcmlkIHtcbiAgICBjb25zdHJ1Y3RvciAocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKHBhcmFtcyk7XG5cbiAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxsID0gREVGQVVMVF9USU1FU1RBTVA7IC8vIDMgc2VjLlxuICAgICAgICB0aGlzLnRpbWVyS2V5ID0gbnVsbDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBERUZBVUxUX1RJTUVTVEFNUDtcbiAgICAgICAgdGhpcy51aUNvbnRyb2wgPSBudWxsOyAvLyBzZXQgYnkgc2V0Q29udHJvbCBhZnRlciBpbml0aWFsaXphdGlvblxuICAgICAgICB0aGlzLnVpU2NvcmVQYW5lbCA9IG51bGw7IC8vIHNldCBieSBzZXRTY29yZVBhbmVsIGFmdGVyIGluaXRpYWxpemF0aW9uXG4gICAgfVxuXG4gICAgc2V0Q29udHJvbCAoY29udHJvbCkge1xuICAgICAgICB0aGlzLnVpQ29udHJvbCA9IGNvbnRyb2w7XG4gICAgfVxuXG4gICAgc2V0U2NvcmVQYW5lbCAoc2NvcmVQYW5lbCkge1xuICAgICAgICB0aGlzLnVpU2NvcmVQYW5lbCA9IHNjb3JlUGFuZWw7XG4gICAgfVxuXG4gICAgLy8gZGlyZWN0aW9uID0gW2xlZnQsIHJpZ2h0LCBkb3duXVxuICAgIG1vdmVUZXRybyAoeyBkaXJlY3Rpb24gfSA9IHt9KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZU1hdHJpeCh7IHJlc2V0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBMRUZUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1gtLTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV0cm9YKys7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXRyb1krKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZU1hdHJpeCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvWC0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBCT1RUT00pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXRyb1ktLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVVpQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZUxlZnQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlVGV0cm8oeyBkaXJlY3Rpb246IExFRlQgfSk7XG4gICAgfVxuXG4gICAgbW92ZVJpZ2h0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRldHJvKHsgZGlyZWN0aW9uOiBSSUdIVCB9KTtcbiAgICB9XG5cbiAgICBtb3ZlRG93biAoKSB7XG4gICAgICAgIGNvbnN0IGhhc01vdmVkRG93biA9IHRoaXMubW92ZVRldHJvKHsgZGlyZWN0aW9uOiBCT1RUT00gfSk7XG5cbiAgICAgICAgaWYgKCFoYXNNb3ZlZERvd24pIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzUmVtb3ZlZCA9IHRoaXMuY2hlY2tGdWxsTGluZXMoKTtcblxuICAgICAgICAgICAgaWYgKGxpbmVzUmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVpU2NvcmVQYW5lbCAmJiB0eXBlb2YgdGhpcy51aVNjb3JlUGFuZWwuYWRkTGluZXMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpU2NvcmVQYW5lbC5hZGRMaW5lcyhsaW5lc1JlbW92ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoYXNNb3ZlZERvd247XG4gICAgfVxuXG4gICAgZHJvcCAoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0YXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0aGlzLm1vdmVEb3duKCkpIHtcbiAgICAgICAgICAgIC8vIGtlZXAgbG9vcGluZyB1bnRpbCB1bmFibGUgdG8gZ28gZG93blxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGlyZWN0aW9uID0gW2xlZnQsIHJpZ2h0XVxuICAgIHJvdGF0ZVRldHJvICh7IGRpcmVjdGlvbiB9ID0ge30pIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlTWF0cml4KHsgcmVzZXQ6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IExFRlQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZUxlZnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBSSUdIVCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV0cm8ucm90YXRlUmlnaHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLnVwZGF0ZU1hdHJpeCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRldHJvLnJvdGF0ZVJpZ2h0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFJJR0hUKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV0cm8ucm90YXRlTGVmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWF0cml4KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVWlDb21wb25lbnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRlVGV0cm8oeyBkaXJlY3Rpb246IExFRlQgfSk7XG4gICAgfVxuXG4gICAgcm90YXRlUmlnaHQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGVUZXRybyh7IGRpcmVjdGlvbjogUklHSFQgfSk7XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuICAgICAgICB0aGlzLmlzU3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5yZXNldE1hdHJpeCgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVaUNvbXBvbmVudCgpO1xuICAgICAgICAgICAgdGhpcy5pc0dhbWVPdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmludGVydmFsbCA9IERFRkFVTFRfVElNRVNUQU1QO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRldHJvKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRldHJvKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyb3BwaW5nKCk7XG4gICAgfVxuXG4gICAgc3RvcCAoKSB7XG4gICAgICAgIHRoaXMuaXNTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJLZXkpO1xuICAgIH1cblxuICAgIGNoZWNrRnVsbExpbmVzICgpIHtcbiAgICAgICAgbGV0IG51bU9mRnVsbExpbmVzID0gMDtcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMubnVtT2ZSb3cgLSAxO1xuXG4gICAgICAgIHdoaWxlIChyb3cgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgaXNGdWxsTGluZSA9IHRoaXMubWF0cml4W3Jvd10uZXZlcnkoY2VsbCA9PiBjZWxsICE9PSBFTVBUWSk7XG5cbiAgICAgICAgICAgIGlmIChpc0Z1bGxMaW5lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGdWxsTGluZShyb3cpO1xuICAgICAgICAgICAgICAgIG51bU9mRnVsbExpbmVzKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvdy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bU9mRnVsbExpbmVzO1xuICAgIH1cblxuICAgIHJlbW92ZUZ1bGxMaW5lIChpbmRleCkge1xuICAgICAgICBjb25zdCB7IG51bU9mQ29sIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IHJvdyA9IGluZGV4OyByb3cgPiAwOyByb3ctLSkge1xuICAgICAgICAgICAgaWYgKHJvdyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF0cml4W3Jvd10uZmlsbChFTVBUWSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGNlbGwgPSAwOyBjZWxsIDwgbnVtT2ZDb2w7IGNlbGwrKykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdHJpeFtyb3ddW2NlbGxdID0gdGhpcy5tYXRyaXhbcm93IC0gMV1bY2VsbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVVaUNvbXBvbmVudCgpO1xuICAgIH1cblxuICAgIGRyb3BwaW5nICh0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKHRpbWVzdGFtcCAtIHRoaXMudGltZXN0YW1wID4gdGhpcy5pbnRlcnZhbGwpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmVEb3duKCkpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGV0cm8oKSkge1xuICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgdGltZXJcbiAgICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJLZXkpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRpbWVyS2V5ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0KSA9PiB0aGlzLmRyb3BwaW5nKHQpKTtcbiAgICB9XG5cbiAgICBnYW1lT3ZlciAoKSB7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gREVGQVVMVF9USU1FU1RBTVA7XG4gICAgICAgIHRoaXMuaXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBpZiAodGhpcy51aUNvbnRyb2wgJiYgdHlwZW9mIHRoaXMudWlDb250cm9sLnN0b3BVSSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0aGlzLnVpQ29udHJvbC5zdG9wVUkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNwZWVkVXAgKCkge1xuICAgICAgICB0aGlzLmludGVydmFsbCA9IE1hdGgucm91bmQodGhpcy5pbnRlcnZhbGwgKiBTUEVFRF9VUF9SQVRJTyk7XG4gICAgfVxuXG4gICAgYWRkVGV0cm8gKHBhcmFtcykge1xuICAgICAgICBjb25zdCBhZGRlZCA9IHN1cGVyLmFkZFRldHJvKHBhcmFtcyk7XG5cbiAgICAgICAgaWYgKGFkZGVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy51aVNjb3JlUGFuZWwgJiYgdHlwZW9mIHRoaXMudWlTY29yZVBhbmVsLmFkZFRldHJvID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVpU2NvcmVQYW5lbC5hZGRUZXRybyh0aGlzLnRldHJvLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFkZGVkO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBudW1PZkNvbCA9IDEwLCBudW1PZlJvdyA9IDIwLCBwYXJlbnROb2RlLCBtYXRyaXgsIGNsYXNzTmFtZSA9IFwiZ3JpZC0yZFwiIH0gPSB7fSkge1xuICAgICAgICB0aGlzLm51bU9mQ29sID0gbnVtT2ZDb2w7XG4gICAgICAgIHRoaXMubnVtT2ZSb3cgPSBudW1PZlJvdztcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTsgLy8gUGFyZW50IERPTSBFbGVtZW50XG4gICAgICAgIHRoaXMudGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7XG4gICAgICAgIHRoaXMudGFibGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5hcHBlbmRUb1Jvb3QoKTtcbiAgICB9XG5cbiAgICBhcHBlbmRUb1Jvb3QgKCkge1xuICAgICAgICBjb25zdCB7IHBhcmVudE5vZGUsIHRhYmxlIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChwYXJlbnROb2RlICYmIHR5cGVvZiBwYXJlbnROb2RlLmFwcGVuZENoaWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGlmICh0YWJsZS5wYXJlbnROb2RlICE9PSBwYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0YWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0ICgpIHtcbiAgICAgICAgY29uc3QgeyBudW1PZkNvbCwgbnVtT2ZSb3csIHRhYmxlIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB0Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTtcblxuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG51bU9mUm93OyByKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IG51bU9mQ29sOyBjKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRCb2R5LmFwcGVuZENoaWxkKHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRCb2R5KTtcbiAgICB9XG5cbiAgICBzZXRNYXRyaXggKG1hdHJpeCkge1xuICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcbiAgICB9XG5cbiAgICB1cGRhdGUgKCkge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0aGlzLm1hdHJpeDtcblxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBtYXRyaXgubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgZm9yIChsZXQgY2VsID0gMDsgY2VsIDwgbWF0cml4W3Jvd10ubGVuZ3RoOyBjZWwrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJnQ29sb3IgPSBtYXRyaXhbcm93XVtjZWxdO1xuICAgICAgICAgICAgICAgIGlmIChiZ0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnJvd3Nbcm93XS5jZWxsc1tjZWxdLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMudGFibGUucm93c1tyb3ddLmNlbGxzW2NlbF0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRDb250cm9sRmFjdG9yeSh7IGdyaWQsIHBhcmVudE5vZGUgfSkge1xuICAgIGNvbnN0IGNvbnRyb2wgPSBuZXcgQ29udHJvbCh7XG4gICAgICAgIG9uTW92ZUxlZnQ6ICgpID0+IGdyaWQubW92ZUxlZnQoKSxcbiAgICAgICAgb25Nb3ZlUmlnaHQ6ICgpID0+IGdyaWQubW92ZVJpZ2h0KCksXG4gICAgICAgIG9uTW92ZURvd246ICgpID0+IGdyaWQubW92ZURvd24oKSxcbiAgICAgICAgb25Sb3RhdGVMZWZ0OiAoKSA9PiBncmlkLnJvdGF0ZUxlZnQoKSxcbiAgICAgICAgb25Sb3RhdGVSaWdodDogKCkgPT4gZ3JpZC5yb3RhdGVSaWdodCgpLFxuICAgICAgICBvblN0YXJ0OiAoKSA9PiBncmlkLnN0YXJ0KCksXG4gICAgICAgIG9uU3RvcDogKCkgPT4gZ3JpZC5zdG9wKCksXG4gICAgICAgIG9uRHJvcDogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGdyaWQuZHJvcCgpKSB7XG4gICAgICAgICAgICAgICAgZ3JpZC5hZGRUZXRybygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwYXJlbnROb2RlXG4gICAgfSk7XG5cbiAgICBncmlkLnNldENvbnRyb2woY29udHJvbCk7XG5cbiAgICByZXR1cm4gY29udHJvbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbCB7XG4gICAgY29uc3RydWN0b3IgKHsgb25Nb3ZlTGVmdCwgb25Nb3ZlUmlnaHQsIG9uTW92ZURvd24sIG9uUm90YXRlTGVmdCwgb25Sb3RhdGVSaWdodCwgb25TdGFydCwgb25TdG9wLCBvbkRyb3AsIHBhcmVudE5vZGUgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMub25TdGFydCA9IG9uU3RhcnQ7XG4gICAgICAgIHRoaXMub25TdG9wID0gb25TdG9wO1xuICAgICAgICB0aGlzLm9uRHJvcCA9IG9uRHJvcDtcbiAgICAgICAgdGhpcy5vbk1vdmVMZWZ0ID0gb25Nb3ZlTGVmdDtcbiAgICAgICAgdGhpcy5vbk1vdmVSaWdodCA9IG9uTW92ZVJpZ2h0O1xuICAgICAgICB0aGlzLm9uTW92ZURvd24gPSBvbk1vdmVEb3duO1xuICAgICAgICB0aGlzLm9uUm90YXRlTGVmdCA9IG9uUm90YXRlTGVmdDtcbiAgICAgICAgdGhpcy5vblJvdGF0ZVJpZ2h0ID0gb25Sb3RhdGVSaWdodDtcbiAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gcGFyZW50Tm9kZTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJ1dHRvbiAoeyBsYWJlbCwgbmFtZSwgb25DbGljaywgZGlzYWJsZWQsIHRpdGxlIH0pIHtcbiAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwibmFtZVwiLCBuYW1lKTtcbiAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgIGlmICh0aXRsZSkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIHRpdGxlKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGFiZWwpKTtcblxuICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsaWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG5cbiAgICBsb29wQnV0dG9ucyAoeyBuYW1lLCBkaXNhYmxlZCB9KSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuY29udHJvbEZvcm0uZWxlbWVudHM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGVsLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRVSSAoKSB7XG4gICAgICAgIHRoaXMubG9vcEJ1dHRvbnMoeyBuYW1lOiBcInN0YXJ0XCIsIGRpc2FibGVkOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIHN0b3BVSSAoKSB7XG4gICAgICAgIHRoaXMubG9vcEJ1dHRvbnMoeyBuYW1lOiBcInN0YXJ0XCIsIGRpc2FibGVkOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIgKCkge1xuICAgICAgICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgaG9sZGVyLm5hbWUgPSBcImNvbnRyb2xGb3JtXCI7XG4gICAgICAgIGhvbGRlci5jbGFzc05hbWUgPSBcImNvbnRyb2wtZm9ybVwiO1xuXG4gICAgICAgIGNvbnN0IHJvdGF0ZUxlZnRCdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiUm90YXRlIExlZnRcIixcbiAgICAgICAgICAgIG5hbWU6IFwicm90YXRlTGVmdFwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiUHJlc3MgUSBvciA3XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uUm90YXRlTGVmdCxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByb3RhdGVSaWdodEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJSb3RhdGUgUmlnaHRcIixcbiAgICAgICAgICAgIG5hbWU6IFwicm90YXRlUmlnaHRcIixcbiAgICAgICAgICAgIHRpdGxlOiBcIlByZXNzIEUgb3IgOVwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vblJvdGF0ZVJpZ2h0LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1vdmVMZWZ0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIk1vdmUgTGVmdFwiLFxuICAgICAgICAgICAgbmFtZTogXCJtb3ZlTGVmdFwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiUHJlc3MgQSwgTGVmdCBBcnJvdyBvciA0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uTW92ZUxlZnQsXG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZVJpZ2h0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIk1vdmUgUmlnaHRcIixcbiAgICAgICAgICAgIG5hbWU6IFwibW92ZVJpZ2h0XCIsXG4gICAgICAgICAgICB0aXRsZTogXCJQcmVzcyBELCBSaWdodCBBcnJvdyBvciA2XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uTW92ZVJpZ2h0LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0QnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIlN0YXJ0XCIsXG4gICAgICAgICAgICBuYW1lOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub25TdGFydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRVSSgpO1xuICAgICAgICAgICAgfSkuYmluZCh0aGlzKVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RvcEJ0biA9IHRoaXMuY3JlYXRlQnV0dG9uICh7XG4gICAgICAgICAgICBsYWJlbDogXCJTdG9wXCIsXG4gICAgICAgICAgICBuYW1lOiBcInN0b3BcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0b3AoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BVSSgpO1xuICAgICAgICAgICAgfSkuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkcm9wQnRuID0gdGhpcy5jcmVhdGVCdXR0b24gKHtcbiAgICAgICAgICAgIGxhYmVsOiBcIkRyb3AgVGV0cm9cIixcbiAgICAgICAgICAgIG5hbWU6IFwiZHJvcFRldHJvXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJQcmVzcyBXLCBUb3AgQXJyb3cgb3IgOFwiLFxuICAgICAgICAgICAgb25DbGljazogdGhpcy5vbkRyb3AsXG4gICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW92ZURvd25CdG4gPSB0aGlzLmNyZWF0ZUJ1dHRvbiAoe1xuICAgICAgICAgICAgbGFiZWw6IFwiTW92ZSBEb3duXCIsXG4gICAgICAgICAgICBuYW1lOiBcIm1vdmVEb3duXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJQcmVzcyBTLCBEb3duIEFycm93IG9yIDVcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMub25Nb3ZlRG93bixcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJvdzEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByb3cxLmFwcGVuZENoaWxkKHN0YXJ0QnRuKTtcbiAgICAgICAgcm93MS5hcHBlbmRDaGlsZChzdG9wQnRuKTtcblxuICAgICAgICBjb25zdCByb3cyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChyb3RhdGVMZWZ0QnRuKTtcbiAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChkcm9wQnRuKTtcbiAgICAgICAgcm93Mi5hcHBlbmRDaGlsZChyb3RhdGVSaWdodEJ0bik7XG5cbiAgICAgICAgY29uc3Qgcm93MyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHJvdzMuYXBwZW5kQ2hpbGQobW92ZUxlZnRCdG4pO1xuICAgICAgICByb3czLmFwcGVuZENoaWxkKG1vdmVEb3duQnRuKTtcbiAgICAgICAgcm93My5hcHBlbmRDaGlsZChtb3ZlUmlnaHRCdG4pO1xuXG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChyb3cxKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHJvdzIpO1xuICAgICAgICBob2xkZXIuYXBwZW5kQ2hpbGQocm93Myk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGhvbGRlcik7XG4gICAgfVxuXG4gICAgY2hlY2tLZXkoZXYpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgICAgICBjYXNlIFwiTnVtcGFkNFwiOlxuICAgICAgICAgICAgY2FzZSBcIktleUFcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6XG4gICAgICAgICAgICBjYXNlIFwiTnVtcGFkNlwiOlxuICAgICAgICAgICAgY2FzZSBcIktleURcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZVJpZ2h0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOlxuICAgICAgICAgICAgY2FzZSBcIk51bXBhZDhcIjpcbiAgICAgICAgICAgIGNhc2UgXCJLZXlXXCI6XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRyb3AoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd0Rvd25cIjpcbiAgICAgICAgICAgIGNhc2UgXCJOdW1wYWQyXCI6XG4gICAgICAgICAgICBjYXNlIFwiTnVtcGFkNVwiOlxuICAgICAgICAgICAgY2FzZSBcIktleVNcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZURvd24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJOdW1wYWQ3XCI6XG4gICAgICAgICAgICBjYXNlIFwiS2V5UVwiOlxuICAgICAgICAgICAgICAgIHRoaXMub25Sb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiTnVtcGFkOVwiOlxuICAgICAgICAgICAgY2FzZSBcIktleUVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uUm90YXRlUmlnaHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZEtleUxpc3RlbmVycyAoKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChldikgPT4gdGhpcy5jaGVja0tleShldikpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvciB8fCBcInJlZFwiO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDIsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdOyAvLyBEZWZhdWx0IExcbiAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4ID0gMDtcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3RhdGlvbnNbdGhpcy5yb3RhdGlvbkluZGV4XTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0ICgpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbkluZGV4LS07XG5cbiAgICAgICAgaWYgKHRoaXMucm90YXRpb25JbmRleCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25JbmRleCA9IDM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByb3RhdGVSaWdodCAoKSB7XG4gICAgICAgIHRoaXMucm90YXRpb25JbmRleCsrO1xuXG4gICAgICAgIGlmICh0aGlzLnJvdGF0aW9uSW5kZXggPiAzKSB7XG4gICAgICAgICAgICB0aGlzLnJvdGF0aW9uSW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFRhYmxlIGZyb20gXCIuL1RhYmxlXCI7XG5pbXBvcnQgR3JpZCBmcm9tIFwiLi4vVGV0cmlzL0dyaWRcIjtcblxuaW1wb3J0IEkgZnJvbSBcIi4uL1RldHJpcy9JXCI7XG5pbXBvcnQgSiBmcm9tIFwiLi4vVGV0cmlzL0pcIjtcbmltcG9ydCBMIGZyb20gXCIuLi9UZXRyaXMvTFwiO1xuaW1wb3J0IE8gZnJvbSBcIi4uL1RldHJpcy9PXCI7XG5pbXBvcnQgUyBmcm9tIFwiLi4vVGV0cmlzL1NcIjtcbmltcG9ydCBUIGZyb20gXCIuLi9UZXRyaXMvVFwiO1xuaW1wb3J0IFogZnJvbSBcIi4uL1RldHJpcy9aXCI7XG5cbmV4cG9ydCBjb25zdCBFTVBUWSA9IFwiXCI7XG5cbmV4cG9ydCBjb25zdCBURVRST1MgPSBbXG4gICAgbmV3IEkoKSxcbiAgICBuZXcgSigpLFxuICAgIG5ldyBMKCksXG4gICAgbmV3IE8oKSxcbiAgICBuZXcgUygpLFxuICAgIG5ldyBUKCksXG4gICAgbmV3IFooKVxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRldHJvR2VuZXJhdG9yRmFjdG9yeSh7IGdyaWQsIHBhcmVudE5vZGUgfSkge1xuICAgIGNvbnN0IGdlbmVyYXRvciA9IG5ldyBUZXRyb0dlbmVyYXRvcih7XG4gICAgICAgIHBhcmVudE5vZGVcbiAgICB9KTtcblxuICAgIGdyaWQuc2V0VGV0cm9HZW5lcmF0b3IoZ2VuZXJhdG9yKTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG59XG5cbmNvbnN0IE5VTV9PRl9DT01JTkdfVEVUUk9TID0gNjtcblxuZnVuY3Rpb24gZ2V0UmFuZFRldHJvICgpIHtcbiAgICBjb25zdCByYW5kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogVEVUUk9TLmxlbmd0aCk7XG4gICAgcmV0dXJuIFRFVFJPU1tyYW5kXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV0cm9HZW5lcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yICh7IHBhcmVudE5vZGUgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IG51bU9mQ29sID0gNDtcbiAgICAgICAgY29uc3QgbnVtT2ZSb3cgPSA0O1xuXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICAgIHRoaXMudGV0cm9MaXN0ID0gKG5ldyBBcnJheShOVU1fT0ZfQ09NSU5HX1RFVFJPUykpLmZpbGwoMCkubWFwKCgpID0+IGdldFJhbmRUZXRybygpKTtcbiAgICAgICAgdGhpcy50YWJsZUxpc3QgPSB0aGlzLnRldHJvTGlzdC5tYXAoKHRldHJvKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRhYmxlKHtcbiAgICAgICAgICAgICAgICBudW1PZkNvbCxcbiAgICAgICAgICAgICAgICBudW1PZlJvdyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICd0cmFuc3BhcmVudC10YWJsZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ncmlkTGlzdCA9IHRoaXMudGFibGVMaXN0Lm1hcCgodGFibGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3JpZCh7XG4gICAgICAgICAgICAgICAgbnVtT2ZDb2wsXG4gICAgICAgICAgICAgICAgbnVtT2ZSb3csXG4gICAgICAgICAgICAgICAgdWlDb21wb25lbnQ6IHRhYmxlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBnZXRDb21pbmdUZXRybyAoKSB7XG4gICAgICAgIHRoaXMudGV0cm9MaXN0LnB1c2goZ2V0UmFuZFRldHJvKCkpO1xuXG4gICAgICAgIGNvbnN0IGNvbWluZ1RldHJvID0gdGhpcy50ZXRyb0xpc3Quc2hpZnQoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiBjb21pbmdUZXRybztcbiAgICB9XG5cbiAgICB1cGRhdGUgKCkge1xuICAgICAgICB0aGlzLnRldHJvTGlzdC5mb3JFYWNoKCh0ZXRybywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JpZCA9IHRoaXMuZ3JpZExpc3RbaV07XG4gICAgICAgICAgICBncmlkLnJlc2V0TWF0cml4KCk7XG4gICAgICAgICAgICBncmlkLmFkZFRldHJvKHsgdGV0cm8gfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlciAoKSB7XG4gICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICB1bC5jbGFzc05hbWUgPSBcInRldHJvLWxpc3RcIjtcblxuICAgICAgICB0aGlzLnRhYmxlTGlzdC5mb3JFYWNoKCh0YWJsZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICAgICAgICBsaS5hcHBlbmRDaGlsZCh0YWJsZS50YWJsZSk7XG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh1bCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFRldHJvbWlubyBmcm9tICcuL1RldHJvbWlubydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSSBleHRlbmRzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJJXCIsIGNvbG9yOiBcInJlZFwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszXSxcbiAgICAgICAgICAgICAgICBbMV0sXG4gICAgICAgICAgICAgICAgWzFdLFxuICAgICAgICAgICAgICAgIFsxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMywgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzNdLFxuICAgICAgICAgICAgICAgIFsxXSxcbiAgICAgICAgICAgICAgICBbMV0sXG4gICAgICAgICAgICAgICAgWzFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAxLCAzLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEogZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiSlwiLCBjb2xvcjogXCJtYWdlbnRhXCIgfSk7XG5cbiAgICAgICAgLy8gMyA9PiBbeCwgeV0gYW5kIFNvbGlkXG4gICAgICAgIC8vIDIgPT4gW3gsIHldIGFuZCBFbXB0eVxuICAgICAgICAvLyAxID0+IFNvbGlkXG4gICAgICAgIC8vIDAgPT4gRW1wdHlcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDMsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAwLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgM10sXG4gICAgICAgICAgICAgICAgWzAsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgMiwgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdXG4gICAgICAgICAgICBdXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IFRldHJvbWlubyBmcm9tICcuL1RldHJvbWlubydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTCBleHRlbmRzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJMXCIsIGNvbG9yOiBcInllbGxvd1wiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMCwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFswLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDIsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE8gZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiT1wiLCBjb2xvcjogXCJjeWFuXCIgfSk7XG5cbiAgICAgICAgLy8gMyA9PiBbeCwgeV0gYW5kIFNvbGlkXG4gICAgICAgIC8vIDIgPT4gW3gsIHldIGFuZCBFbXB0eVxuICAgICAgICAvLyAxID0+IFNvbGlkXG4gICAgICAgIC8vIDAgPT4gRW1wdHlcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzMsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMSwgM10sXG4gICAgICAgICAgICAgICAgWzEsIDFdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFMgZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiU1wiLCBjb2xvcjogXCJibHVlXCIgfSk7XG5cbiAgICAgICAgLy8gMyA9PiBbeCwgeV0gYW5kIFNvbGlkXG4gICAgICAgIC8vIDIgPT4gW3gsIHldIGFuZCBFbXB0eVxuICAgICAgICAvLyAxID0+IFNvbGlkXG4gICAgICAgIC8vIDAgPT4gRW1wdHlcbiAgICAgICAgdGhpcy5yb3RhdGlvbnMgPSBbXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDMsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAwXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFswLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgMywgMV0sXG4gICAgICAgICAgICAgICAgWzEsIDEsIDBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFszLCAwXSxcbiAgICAgICAgICAgICAgICBbMSwgMV0sXG4gICAgICAgICAgICAgICAgWzAsIDFdXG4gICAgICAgICAgICBdXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IFRldHJvbWlubyBmcm9tICcuL1RldHJvbWlubydcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVCBleHRlbmRzIFRldHJvbWlubyB7XG4gICAgY29uc3RydWN0b3IgKHsgbmFtZSwgY29sb3IgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHsgbmFtZTogXCJUXCIsIGNvbG9yOiBcInNpbHZlclwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMCwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDMsIDBdLFxuICAgICAgICAgICAgICAgIFsxLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMywgMF0sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAwXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUZXRyb21pbm8gZnJvbSAnLi9UZXRyb21pbm8nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFogZXh0ZW5kcyBUZXRyb21pbm8ge1xuICAgIGNvbnN0cnVjdG9yICh7IG5hbWUsIGNvbG9yIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG5hbWU6IFwiWlwiLCBjb2xvcjogXCJncmVlblwiIH0pO1xuXG4gICAgICAgIC8vIDMgPT4gW3gsIHldIGFuZCBTb2xpZFxuICAgICAgICAvLyAyID0+IFt4LCB5XSBhbmQgRW1wdHlcbiAgICAgICAgLy8gMSA9PiBTb2xpZFxuICAgICAgICAvLyAwID0+IEVtcHR5XG4gICAgICAgIHRoaXMucm90YXRpb25zID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFsxLCAzLCAwXSxcbiAgICAgICAgICAgICAgICBbMCwgMSwgMV1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzAsIDNdLFxuICAgICAgICAgICAgICAgIFsxLCAxXSxcbiAgICAgICAgICAgICAgICBbMSwgMF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgWzEsIDMsIDBdLFxuICAgICAgICAgICAgICAgIFswLCAxLCAxXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBbMCwgM10sXG4gICAgICAgICAgICAgICAgWzEsIDFdLFxuICAgICAgICAgICAgICAgIFsxLCAwXVxuICAgICAgICAgICAgXVxuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCBUYWJsZSBmcm9tIFwiLi9UYWJsZVwiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIi4uL1RldHJpcy9HcmlkXCI7XG5pbXBvcnQgeyBURVRST1MgfSBmcm9tIFwiLi9UZXRyb0dlbmVyYXRvclwiO1xuXG5jb25zdCBTQ09SRV9CWV9MSU5FUyA9IFtcbiAgICAxMDAsXG4gICAgMzAwLFxuICAgIDkwMCxcbiAgICAyNzAwXG5dO1xuXG5jb25zdCBOVU1fT0ZfTElORVNfTkVFREVEX1RPX0xFVkVMX1VQID0gMjA7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY29yZVBhbmVsRmFjdG9yeSh7IGdyaWQsIHBhcmVudE5vZGUgfSkge1xuICAgIGNvbnN0IHNjb3JlUGFuZWwgPSBuZXcgU2NvcmVQYW5lbCh7XG4gICAgICAgIHBhcmVudE5vZGUsXG4gICAgICAgIG9uTGV2ZWxVcDogKCkgPT4gZ3JpZC5zcGVlZFVwKClcbiAgICB9KTtcblxuICAgIGdyaWQuc2V0U2NvcmVQYW5lbChzY29yZVBhbmVsKTtcblxuICAgIHJldHVybiBzY29yZVBhbmVsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yZVBhbmVsIHtcbiAgICBjb25zdHJ1Y3RvciAoeyBwYXJlbnROb2RlLCBvbkxldmVsVXAgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICAgICAgdGhpcy5saW5lcyA9IDA7XG4gICAgICAgIHRoaXMubGV2ZWxEaXYgPSBudWxsO1xuICAgICAgICB0aGlzLnNjb3JlRGl2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lc0RpdiA9IG51bGw7XG4gICAgICAgIHRoaXMub25MZXZlbFVwID0gb25MZXZlbFVwO1xuICAgICAgICB0aGlzLnRldHJvQ291bnRlck1hcCA9IFRFVFJPUy5yZWR1Y2UoKG1hcCwgdCkgPT4ge1xuICAgICAgICAgICAgbWFwW3QubmFtZV0gPSAwO1xuICAgICAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICB0aGlzLmNvdW50ZXJIb2xkZXJNYXAgPSB7fTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGxldmVsVXAgKCkge1xuICAgICAgICB0aGlzLmxldmVsKys7XG4gICAgICAgIHRoaXMubGV2ZWxEaXYuaW5uZXJUZXh0ID0gdGhpcy5sZXZlbDtcbiAgICAgICAgdGhpcy5vbkxldmVsVXAoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTY29yZSAoc2NvcmUpIHtcbiAgICAgICAgdGhpcy5zY29yZSA9IHRoaXMuc2NvcmUgKyBzY29yZTtcbiAgICAgICAgdGhpcy5zY29yZURpdi5pbm5lclRleHQgPSB0aGlzLnNjb3JlO1xuICAgIH1cblxuICAgIGFkZExpbmVzIChsaW5lcykge1xuICAgICAgICB0aGlzLmxpbmVzID0gdGhpcy5saW5lcyArIGxpbmVzO1xuICAgICAgICB0aGlzLmxpbmVzRGl2LmlubmVyVGV4dCA9IHRoaXMubGluZXM7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTY29yZShTQ09SRV9CWV9MSU5FU1tsaW5lcyAtIDFdKTtcblxuICAgICAgICBjb25zdCBuZXdMZXZlbCA9IE1hdGguZmxvb3IodGhpcy5saW5lcyAvIE5VTV9PRl9MSU5FU19ORUVERURfVE9fTEVWRUxfVVApICsgMTtcblxuICAgICAgICBpZiAobmV3TGV2ZWwgPiB0aGlzLmxldmVsKSB7XG4gICAgICAgICAgICB0aGlzLmxldmVsVXAoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFRldHJvKHRldHJvTmFtZSkge1xuICAgICAgICB0aGlzLnRldHJvQ291bnRlck1hcFt0ZXRyb05hbWVdID0gdGhpcy50ZXRyb0NvdW50ZXJNYXBbdGV0cm9OYW1lXSArIDE7XG4gICAgICAgIHRoaXMuY291bnRlckhvbGRlck1hcFt0ZXRyb05hbWVdLmlubmVyVGV4dCA9IHRoaXMudGV0cm9Db3VudGVyTWFwW3RldHJvTmFtZV07XG4gICAgfVxuXG4gICAgZ2V0U3RhdGljcyAoKSB7XG4gICAgICAgIGNvbnN0IG51bU9mQ29sID0gNDtcbiAgICAgICAgY29uc3QgbnVtT2ZSb3cgPSA0O1xuXG4gICAgICAgIGNvbnN0IHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgICAgICB1bC5jbGFzc05hbWUgPSBcInN0YXRpY3MtbGlzdFwiO1xuXG4gICAgICAgIFRFVFJPUy5mb3JFYWNoKCh0ZXRybykgPT57XG4gICAgICAgICAgICBjb25zdCB0YWJsZSA9IG5ldyBUYWJsZSh7XG4gICAgICAgICAgICAgICAgbnVtT2ZDb2wsXG4gICAgICAgICAgICAgICAgbnVtT2ZSb3csXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAndHJhbnNwYXJlbnQtdGFibGUnXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkKHtcbiAgICAgICAgICAgICAgICBudW1PZkNvbCxcbiAgICAgICAgICAgICAgICBudW1PZlJvdyxcbiAgICAgICAgICAgICAgICB1aUNvbXBvbmVudDogdGFibGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBncmlkLmFkZFRldHJvKHsgdGV0cm8gfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQodGFibGUudGFibGUpO1xuXG4gICAgICAgICAgICBjb25zdCB0ZXRyb05hbWUgPSB0ZXRyby5uYW1lO1xuICAgICAgICAgICAgY29uc3Qgc3BhbiA9IHRoaXMuY291bnRlckhvbGRlck1hcFt0ZXRyb05hbWVdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9IHRoaXMudGV0cm9Db3VudGVyTWFwW3RldHJvTmFtZV07XG5cbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKHRhYmxlLnRhYmxlKTtcbiAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgICAgICAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB1bDtcbiAgICB9XG5cbiAgICByZW5kZXIgKCkge1xuICAgICAgICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBob2xkZXIuY2xhc3NOYW1lID0gXCJzY29yZS1wYW5lbFwiO1xuXG4gICAgICAgIGNvbnN0IGxldmVsSGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIik7XG4gICAgICAgIGxldmVsSGVhZGluZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkxldmVsOlwiKSk7XG4gICAgICAgIHRoaXMubGV2ZWxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmxldmVsRGl2LmlubmVyVGV4dCA9IHRoaXMubGV2ZWw7XG5cbiAgICAgICAgY29uc3Qgc2NvcmVIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiKTtcbiAgICAgICAgc2NvcmVIZWFkaW5nLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiU2NvcmU6XCIpKTtcbiAgICAgICAgdGhpcy5zY29yZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuc2NvcmVEaXYuaW5uZXJUZXh0ID0gdGhpcy5zY29yZTtcblxuICAgICAgICBjb25zdCBsaW5lc0hlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIpO1xuICAgICAgICBsaW5lc0hlYWRpbmcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJMaW5lczpcIikpO1xuICAgICAgICB0aGlzLmxpbmVzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5saW5lc0Rpdi5pbm5lclRleHQgPSB0aGlzLmxpbmVzO1xuXG4gICAgICAgIGNvbnN0IHN0YXRpc3RpY3NIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiKTtcbiAgICAgICAgc3RhdGlzdGljc0hlYWRpbmcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJTdGF0aXN0aWNzOlwiKSk7XG5cbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKGxldmVsSGVhZGluZyk7XG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZCh0aGlzLmxldmVsRGl2KTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHNjb3JlSGVhZGluZyk7XG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZCh0aGlzLnNjb3JlRGl2KTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKGxpbmVzSGVhZGluZyk7XG4gICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZCh0aGlzLmxpbmVzRGl2KTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHN0YXRpc3RpY3NIZWFkaW5nKTtcbiAgICAgICAgaG9sZGVyLmFwcGVuZENoaWxkKHRoaXMuZ2V0U3RhdGljcygpKTtcblxuICAgICAgICB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaG9sZGVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVGV0cmlzR3JpZCBmcm9tIFwiLi9UZXRyaXMvVGV0cmlzR3JpZFwiO1xuaW1wb3J0IFRhYmxlIGZyb20gXCIuL1VpMmQvVGFibGVcIjtcbmltcG9ydCB7IGdldENvbnRyb2xGYWN0b3J5IH0gZnJvbSBcIi4vVWkyZC9Db250cm9sXCI7XG5pbXBvcnQgeyBnZXRTY29yZVBhbmVsRmFjdG9yeSB9IGZyb20gXCIuL1VpMmQvU2NvcmVQYW5lbFwiO1xuaW1wb3J0IHsgZ2V0VGV0cm9HZW5lcmF0b3JGYWN0b3J5IH0gZnJvbSBcIi4vVWkyZC9UZXRyb0dlbmVyYXRvclwiO1xuaW1wb3J0ICcuL3N0eWxlcy9sYXlvdXQuc2NzcydcbmltcG9ydCAnLi9zdHlsZXMvdWkyZC5zY3NzJ1xuXG5mdW5jdGlvbiBpbml0ICgpIHtcbiAgICBjb25zdCBudW1PZkNvbCA9IDEwO1xuICAgIGNvbnN0IG51bU9mUm93ID0gMjA7XG4gICAgY29uc3QgdGV0cmlzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXRyaXNcIik7XG4gICAgY29uc3QgdGFibGUgPSBuZXcgVGFibGUoeyBudW1PZkNvbCwgbnVtT2ZSb3csIHBhcmVudE5vZGU6IHRldHJpcywgY2xhc3NOYW1lOiAndGV0cmlzLXRhYmxlJyB9KTtcbiAgICBjb25zdCBncmlkID0gbmV3IFRldHJpc0dyaWQoe1xuICAgICAgICBudW1PZkNvbCxcbiAgICAgICAgbnVtT2ZSb3csXG4gICAgICAgIGRlZmF1bHRUZXRyb1g6IDMsXG4gICAgICAgIGRlZmF1bHRUZXRyb1k6IDAsXG4gICAgICAgIHVpQ29tcG9uZW50OiB0YWJsZVxuICAgIH0pO1xuXG4gICAgY29uc3QgY29udHJvbFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sUGFuZWxcIik7XG4gICAgY29uc3QgY29udHJvbCA9IGdldENvbnRyb2xGYWN0b3J5KHsgZ3JpZCwgcGFyZW50Tm9kZTogY29udHJvbFBhbmVsIH0pO1xuICAgIGNvbnRyb2wuYWRkS2V5TGlzdGVuZXJzKCk7XG5cbiAgICBjb25zdCBzY29yZVBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVBhbmVsXCIpO1xuICAgIGNvbnN0IHNjb3JlID0gZ2V0U2NvcmVQYW5lbEZhY3RvcnkoeyBncmlkLCBwYXJlbnROb2RlOiBzY29yZVBhbmVsIH0pO1xuXG4gICAgY29uc3QgY29taW5nVGV0cm9QYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29taW5nVGV0cm9QYW5lbFwiKTtcbiAgICBjb25zdCB0ZXRyb0dlbmVyYXRvciA9IGdldFRldHJvR2VuZXJhdG9yRmFjdG9yeSh7IGdyaWQsIHBhcmVudE5vZGU6IGNvbWluZ1RldHJvUGFuZWwgfSk7XG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0KTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS02LTIhLi91aTJkLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL3VpMmQuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS02LTIhLi9sYXlvdXQuc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzPz9yZWYtLTYtMiEuL2xheW91dC5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==